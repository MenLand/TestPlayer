function ab__setFieldValue(e,t,i,n){tn_console("func: ab__setFieldValue "+t+"="+i),"bgcolor"==t&&tn_isGradientJSON(i)&&(i=tn_parseGradientFromJSON(i)),(n=void 0!==n&&""!=n?n:window.tn.curResolution)<window.tn.topResolution&&"valign"!==t&&"ovrflw"!==t?void 0===i||"undefined"==i?e.removeAttr("data-artboard-"+t+"-res-"+n):e.attr("data-artboard-"+t+"-res-"+n,i):void 0===i||"undefined"==i?e.removeAttr("data-artboard-"+t):e.attr("data-artboard-"+t,i)}function ab__getFieldValue(e,t){var i=window.tn.curResolution===window.tn.topResolution?e.attr("data-artboard-"+t):e.attr("data-artboard-"+t+"-res-"+window.tn.curResolution);if(void 0===i)for(var n=0;n<window.tn.screens_cnt&&(window.tn.screens[n]<=window.tn.curResolution||void 0===(i=window.tn.screens[n]===window.tn.topResolution?e.attr("data-artboard-"+t):e.attr("data-artboard-"+t+"-res-"+window.tn.screens[n])));n++);return i}function ab__getFieldValue_for_Res(e,t,i){e=i==window.tn.topResolution?e.attr("data-artboard-"+t):e.attr("data-artboard-"+t+"-res-"+i);return e}function ab__renderViewOneField(e){var t,i,n,o=$(".tn-artboard"),s=$(".tn-canvas-max"),l=$(".tn-canvas-min"),a=$(".tn-filter"),d=ab__getFieldValue(o,e),r=(void 0===d&&(d=""),"bgcolor"===e&&(r=ab__getFieldValue(o,"bgimg"),tn_isGradientStyle(d=tn_replaceSingleQuotes(d))?s.css({"background-image":r=r?"url("+r+"), "+d:d,"background-color":"transparent"}):s.css({"background-color":d,"background-image":"url("+r+")"})),"bgimg"===e&&(tn_isGradientStyle(t=tn_replaceSingleQuotes(ab__getFieldValue(o,"bgcolor")))?s.css("background-image",r=d?"url("+d+"), "+t:t):s.css("background-image","url("+d+")"),s.css("background-size","cover"),s.css("background-repeat","no-repeat"),void 0===d||""==d?s.removeClass("tn-canvas-max_noborder"):s.addClass("tn-canvas-max_noborder")),"bgattachment"===e&&(t=window.tn.curResolution,s.css("background-attachment",d=t<=960?"scroll":d),"fixed"===d)&&s.css("transform","translate3d(0,0,0)"),e.includes("filtercolor")&&(r=a.get(0),d?(t=TColorPicker.hexToRGB(d),r?.setAttribute(`data-${e}-rgb`,t.join(","))):r?.setAttribute(`data-${e}-rgb`,""),ab__filterUpdate()),"filteropacity"===e&&(""!=d&&void 0!==d?a.attr("data-filteropacity",d):a.attr("data-filteropacity","1"),ab__filterUpdate()),"filteropacity2"===e&&(""!=d&&void 0!==d?a.attr("data-filteropacity2",d):a.attr("data-filteropacity2","1"),ab__filterUpdate()),"height"!==e&&"height_vh"!==e&&"valign"!==e||(t=parseInt(ab__getFieldValue(o,"height")),r=ab__getFieldValue(o,"height_vh"),n=ab__getFieldValue(o,"valign"),i=(parseInt($(".tn-floor").height(),10)-ab__getFieldValue(o,"height"))/2,""!=r&&0==isNaN(parseInt(r))&&960<=window.tn.curResolution&&"stretch"!=n?(window.tn.canvas_min_offset_top=i,window.tn.canvas_max_offset_top=i,window.tn.canvas_min_height=parseInt(t,10),window.tn.canvas_max_height=parseInt(t,10)+50,"center"===n&&(window.tn.canvas_min_offset_top=50+i,window.tn.canvas_max_offset_top=i,window.tn.canvas_min_height=parseInt(t,10),window.tn.canvas_max_height=parseInt(t,10)+100),"bottom"===n&&(window.tn.canvas_min_offset_top=50+i,window.tn.canvas_max_offset_top=i,window.tn.canvas_min_height=parseInt(t,10),window.tn.canvas_max_height=parseInt(t,10)+50)):(window.tn.canvas_min_offset_top=i,window.tn.canvas_max_offset_top=i,window.tn.canvas_min_height=parseInt(t,10),window.tn.canvas_max_height=parseInt(t,10)),l.css("height",window.tn.canvas_min_height+"px"),s.css("height",window.tn.canvas_max_height+"px"),a.css("height",window.tn.canvas_max_height+"px"),$(".tn-floor").css("min-height",window.tn.canvas_max_height+1500+"px"),$(".tn-bg").css("height",window.tn.canvas_max_height+"px"),$(".tn-filter").css("height",window.tn.canvas_max_height+"px"),$(".tn-canvas-min .tn-canvas__helper").css("bottom",-60-parseInt(window.tn.canvas_max_height-window.tn.canvas_min_height)+(window.tn.canvas_min_offset_top-window.tn.canvas_max_offset_top)+1+"px"),window.tn.artboard_height=parseInt(t,10),tn__alignArtboard()),"bgposition"===e&&"custom"!==d?s.css("background-position",d):"bgposition"===e&&"custom"===d&&s.css("background-position",""),"custom"===ab__getFieldValue(o,"bgposition"));"bgposition_imgpos"===e&&r&&d&&(n=d.split(","),s.css("background-position-x",n[0]),s.css("background-position-y",n[1]))}function tn__alignArtboard(){var e=document.querySelector(".tn-canvas-min"),t=document.querySelector(".tn-canvas-max"),i=document.querySelector(".tn-filter"),n=document.querySelector(".tn-floor"),o=document.querySelector(".tn-canvas-max-bottom"),s=$(".tn-artboard");let l=0,a=0,d=0,r=0;var _=ab__getFieldValue(s,"valign"),c=parseInt(ab__getFieldValue(s,"height"),10),n=(n.offsetHeight-c)/2,s=!Number.isNaN(parseInt(ab__getFieldValue(s,"height_vh"),10)),u=960<=window.tn.curResolution;s&&u&&"stretch"!==_?(l=n,a=n,d=c,r=c+50,"center"===_&&(l=50+n,a=n,d=c,r=c+100),"bottom"===_&&(l=50+n,a=n,d=c,r=c+50)):(l=n,a=n,d=c,r=c),e.style.top=l+"px",t.style.top=a+"px",i.style.top=a+"px",o.style.top=l+d+"px",window.tn.canvas_min_offset_top=l,window.tn.canvas_max_offset_top=a,window.tn.canvas_min_height=d,window.tn.canvas_max_height=r,window.tn.artboard_height=c}function ab__filterUpdate(){var e=$(".tn-filter"),t=e.attr("data-filtercolor-rgb"),i=e.attr("data-filtercolor2-rgb"),n=e.attr("data-filteropacity"),o=e.attr("data-filteropacity2");void 0!==i&&""!=i||void 0===t||""===t?void 0!==t&&""!=t||void 0===i||""===i?void 0!==t&&void 0!==i&&""!=t&&""!=i?e.css({background:"-webkit-gradient(linear, left top, left bottom, from(rgba("+t+","+n+")), to(rgba("+i+","+o+")) )"}):e.css("background","transparent"):e.css({background:"-webkit-gradient(linear, left top, left bottom, from(rgba("+i+","+o+")), to(rgba("+i+","+o+")) )"}):e.css({background:"-webkit-gradient(linear, left top, left bottom, from(rgba("+t+","+n+")), to(rgba("+t+","+n+")) )"})}function ab__renderView(){window.tn.ab_fields.forEach(function(e){ab__renderViewOneField(e)})}function artboard__Empty__toLS(){tn_console("func: empty__Data__Json");var e=$(".tn-artboard").attr("data-record-id");localStorage.removeItem("artboard"+e+"_data"),window.tn.last_save_ls=0}function artboard__autoSave__toLS(){window.tn.last_changes>window.tn.last_save_db&&window.tn.last_changes>window.tn.last_save_ls&&artboard__Save__toLS()}function artboard__Build(n){tn_console("**** func: artboard__Build");var e,o=$(".tn-artboard"),t=("string"==typeof(n=null==n?{ab_height:600}:n).ab_screens&&""!=n.ab_screens&&n.ab_screens!=window.tn.screens_default_str&&setTNobj_screens(n.ab_screens),tn_drawResMenu(),window.tn.ab_fields.forEach(function(t){var i,e=n["ab_"+t];"grid"===t&&!e||"ovrflwx"===t&&!e||"ovrflwy"===t&&!e||(void 0===e&&(e="valign"===t?"center":"bgposition"===t?"center center":"bgattachment"===t?"scroll":"filteropacity2"===t?"0.5":"filteropacity"===t?"0.5":"","upscale"===t)&&(e="grid"),ab__setFieldValue(o,t,e,window.tn.topResolution),window.tn.screens.forEach(function(e){e!=window.tn.topResolution&&void 0!==(i=n["ab_"+t+"-res-"+e])&&ab__setFieldValue(o,t,i,e)}))}),ab__renderView(),updateTNobj(),tn__alignArtboard(),document.addEventListener("init:resolution-changed",()=>{$(".tn-axis").length&&elem__drawAxis(),tn_updateOutline(),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition()}),$(".tn-guides-wrpr").css("display","block"),[]);for(e in n){var i=n[e];i.elem_id?-1===t.indexOf(i.elem_id)&&(t.push(i.elem_id),addElem(i)):addElem(i)}var s=n?.guides?Object.values(n.guides):[],s=(s.forEach(e=>guide__add(e)),s&&s.length||(void 0!==(s=n.guides_v)&&0<n.guides_v.length&&s.forEach(function(e){guide__add(e,"v")}),void 0!==(s=n.guides_h)&&0<n.guides_h.length&&s.forEach(function(e){guide__add(e,"h")})),window.tn.flags.isRulersShow),l=(s&&rulers__toggleView(!0),ab__addFigmaImportWarning(),$(".tn-canvas-max-bottom").draggable({grid:[0,10],axis:"y",start:function(e,t){tn_undo__Add("ab_save");var i=window.tn.zoom;$(this).draggable("option","grid",[0,10*i]),t.originalPosition.top=t.originalPosition.top/i,t.originalPosition.left=t.originalPosition.left/i,t.position.top=0},drag:function(e,t){var i=$(".tn-layout"),n=1/window.tn.zoom-1,o=i.position().top/window.tn.zoom,i=i.position().left/window.tn.zoom,n=(t.position.top+=(t.position.top-t.originalPosition.top)*n-o,t.position.left=t.originalPosition.left-i,parseInt($(this).css("top"))-window.tn.canvas_min_offset_top);$(".tn-canvas-min").css("height",n+"px"),window.isAltDown&&rulersOption__setPosition()},stop:function(e){var t=parseInt($(this).css("top"))-window.tn.canvas_min_offset_top;ab__setFieldValue(o,"height",t=t<=0?1:t),ab__renderViewOneField("height"),ab__panelSettings__updateUi(o,"height",t),updateTNobj(),allelems__renderView(),allguides__renderView(),tn_set_lastChanges(),window.tn.flags.isKeyboardAltDown&&(tn_updateOutline(),rulersOption__setPosition()),grid__render(),window.tn.flags.isRulersShow&&rulers__reRenderDivisions(),e.stopImmediatePropagation()}}),floor__mousedown(),flags__setupInitialValues(window.tn.flags,"artboard-build"),window.tn.screens.forEach(function(i){i!=window.tn.topResolution&&$("[data-field-groupid-res-"+i+"-value]").each(function(){var e=$(this),t=e.attr("data-field-groupid-res-"+i+"-value");e.attr("data-field-groupid-value",t),e.removeAttr("data-field-groupid-res-"+i+"-value")})}),[]),s=(null!=n&&void 0!==n.groups&&0<n.groups.length&&n.groups.forEach(function(e){-1===l.indexOf(e.id)&&(l.push(e.id),group__create(e.id,e,!0))}),group__checkGroupedElsOutside(),$('[data-field-zindex-value="NaN"]').remove(),JSON.parse(sessionStorage.getItem("tzerolayerspanel"))),a=sessionStorage.getItem("tzerosettingspanel"),d=localStorage.getItem("tn-firstopen"),r="off",_="off";null!==s?r=s.turn:1900<=$(window).width()&&(r="on"),null==d||null!=d&&0<d&&Date.now()-d<432e5?_="on":null!==a?_=a:1900<=$(window).width()&&(_="on"),"y"!==window.tn.flags.isOpenLayersOnStart&&"on"!==r||panelLayers__open(),"on"===_&&tn_showSettings(),tn__setInitialScroll(),setTimeout(function(){tn_missedfonts__find(),allguides__renderView()},1500)}function ab__getData__inJson(n){var e=window.tn.ab_fields,o={"data-artboard-page-id":n.attr("data-page-id"),"data-artboard-record-id":n.attr("data-record-id")};return e.forEach(function(t){var i;window.tn.screens.forEach(function(e){void 0!==(i=e==window.tn.topResolution?n.attr("data-artboard-"+t):n.attr("data-artboard-"+t+"-res-"+e))&&(e==window.tn.topResolution?o["ab_"+t]=i:o["ab_"+t+"-res-"+e]=i)})}),o}function ab__addFigmaImportWarning(){document.querySelector(".tn-mainmenu__leftside").insertAdjacentHTML("beforeend",`
		<div class="tn-figma-warning tn-figma-warning__hidden">
			<svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 192.146 192.146"><path d="M108.186 144.372c0 7.054-4.729 12.32-12.037 12.32h-.254c-7.054 0-11.92-5.266-11.92-12.32 0-7.298 5.012-12.31 12.174-12.31s11.91 4.992 12.037 12.31zM88.44 125.301h15.447l2.951-61.298H85.46l2.98 61.298zm101.932 51.733c-2.237 3.664-6.214 5.921-10.493 5.921H12.282c-4.426 0-8.51-2.384-10.698-6.233a12.34 12.34 0 0 1 .147-12.349l84.111-149.22c2.208-3.722 6.204-5.96 10.522-5.96h.332c4.445.107 8.441 2.618 10.513 6.546l83.515 149.229c1.993 3.8 1.905 8.363-.352 12.066zm-10.493-6.4L96.354 21.454l-84.062 149.18h167.587z" style="fill:red"/></svg>
			<span class="tn-figma-warning__text">There are images that have not been uploaded</span>
			<div class="sui-label-ask tooltip tooltipstered" data-tooltip="
		While importing from Figma, all the necessary objects
		<br> are created, but image files remain on the Figma server
		<br> and are connected directly from there.
		<br> This is convenient to speed up the prototyping process.
		<br> Files on Figma (not transferred to Tilda) are usually
		<br> available within 30 days and may stop loading.
		<br> To finish importing, click on the element with an image,
		<br> then click "Upload to Tilda".
	"></div>
		</div>
	`);const n=t_throttle(()=>{var e=document.querySelector(".tn-figma-warning"),t=document.querySelector(".tn-res-wrapper"),i=e.querySelector(".tn-figma-warning__text"),e=e.getBoundingClientRect(),t=t.getBoundingClientRect();e.right>t.left&&(i.innerHTML="There are images ...",document.removeEventListener("zoom:gesture-changed",n),document.removeEventListener("resize",n))},50);document.addEventListener("zoom:gesture-changed",n),document.addEventListener("resize",n),tn_figma__checkAmazonImages()}function panelABSettings__open(){tn_console("func: panelArtboard__open");var n=$(".tn-artboard"),e=$(".tn-right-box"),o=(allcolorpickers__destroy(),e.removeClass("tn-right-box_hide"),e.html('<div class="tn-right-box__header"><span class="tn-right-box__caption">Artboard settings</span><img src="img/modalClosebutton.png" class="tn-right-box__icon" width="15px"></div>'),$(".tn-right-box__header").click(function(){tn_console("click: Minify panel"),tn_toggleSettings(!0)}),e.append('<div class="tn-settings" data-for-artboard="artboard"></div>'),$(".tn-settings")),e='<div class="sui-panel__section sui-panel__section">  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="height" data-control-value=""></div>    </td>   </tr>  </table></div><div class="sui-panel__section sui-panel__section-more">  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="height_vh" data-control-value=""></div>    </td>   </tr>  </table>  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="valign" data-control-value=""></div>    </td>   </tr>  </table>  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="upscale" data-control-value=""></div>    </td>   </tr>  </table></div><div class="sui-panel__section sui-panel__section">  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="bgcolor" data-control-value=""></div>    </td>   </tr>  </table></div><div class="sui-panel__section sui-panel__section-image">  <label class="sui-label sui-label_title" style="width:100%;">Background image</label>  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="bgimg" data-control-value=""></div>    </td>   </tr>  </table>  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="bgattachment" data-control-value=""></div>    </td>   </tr>  </table>  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="bgposition" data-control-value=""></div>    </td>   </tr>  </table>  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="filtercolor" data-control-value=""></div>    </td>    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="filteropacity" data-control-value=""></div>    </td>   </tr>  </table>  <table class="sui-panel__table sui-panel__padd_b-10">   <tr class="sui-panel__tr">    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="filtercolor2" data-control-value=""></div>    </td>    <td class="sui-panel__td">    <div class="sui-form-group" data-control-field="filteropacity2" data-control-value=""></div>    </td>   </tr>  </table></div>';let t=`
		<table class="sui-panel__table sui-panel__padd_b-10 js-overflow-field-container">
			<tr class="sui-panel__tr">
				<td class="sui-panel__td">
					<div class="sui-form-group" data-control-field="ovrflw" data-control-value=""></div>
					<div class="sui-form-group" data-control-field="ovrflwx" data-control-value=""></div>
				</td>

				<td class="sui-panel__td sui-panel__2col-space"></td>

				<td class="sui-panel__td">
					<div class="sui-form-group" data-control-field="ovrflwy" data-control-value=""></div>
					<span class="sui-panel__overflow-differ" style="font-size:12px; opacity:0.7;white-space:nowrap; cursor: pointer;">Differ X,Y</span>
				</td>
			</tr>
		</table>
	`;"tester"===window.userrole&&(t+=`
		<table class="sui-panel__table sui-panel__padd_b-10">
			<tr class="sui-panel__tr">
			<td class="sui-panel__td">
				<div class="sui-form-group" data-control-field="isolation" data-control-value=""></div>
			</td>
			</tr>
		</table>
		<div class="sui-form-group__hint sui-form-group__hint_overflow" style="display: none;">Isolation Z-index may conflict with Overflow: Visible or Auto option. Be careful when using these options together.</div>`),e+=`
		<div class="sui-panel__section sui-panel__section-position" data-section-name="position">
			<label class="sui-label sui-label_title" style="width:100%;">Position and Overflow</label>
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control-field="position" data-control-value=""></div>
					</td>
				</tr>
			</table>
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control-field="posview" data-control-value=""></div>
					</td>
				</tr>
			</table>
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control-field="postrgroffset" data-control-value=""></div>
					</td>
				</tr>
			</table>
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control-field="posfixappear" data-control-value=""></div>
					</td>
				</tr>
			</table>
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control-field="posfixshift" data-control-value=""></div>
					</td>
				</tr>
			</table>
			${t}
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control-field="poszindex" data-control-value=""></div>
					</td>
				</tr>
			</table>
		</div>
		<div class="sui-panel__section sui-panel__section-grid">
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control="grid" data-control-value=""></div>
					</td>
				</tr>
			</table>
		</div>
	`,o.append(e);var s=window.tn.curResolution,e=window.tn.ab_fields,l="",a="",e=(e.forEach(function(e){var t=ab__getFieldValue(n,e),i=o.find('[data-control-field="'+e+'"]');i.attr("data-control-value",t),("bgimg"===e?ab__control__drawUi__upload:"bgposition"===e?ab__control__drawUi__shapeBgPosition:"upscale"===e||"bgattachment"===e||"filteropacity"===e||"filteropacity2"===e||"valign"===e||"ovrflw"===e||"ovrflwx"===e||"ovrflwy"===e||"position"===e||"posview"===e||"posfixappear"===e||"posfixshift"===e||"isolation"===e?ab__control__drawUi__selectbox:ab__control__drawUi__input)(e),s!==window.tn.topResolution&&("poszindex"!==e&&"ovrflw"!==e||control__drawUi__updateVisibilityField([e],$(".tn-settings"),"table","none"),"ovrflw"===e?i.closest(".sui-panel__section-other").css("display","none"):void 0===ab__getFieldValue_for_Res(n,e,s)&&i.addClass("sui-form-group_undefined")),"ovrflw"===e&&(l=t),"isolation"===e&&(a=t)}),control__drawui__gridopenbtn(),tn_tooltip_update(),["ovrflw","isolation","position"].every(e=>!ab__getFieldValue(n,e))&&$(".sui-panel__section-position").addClass("sui-panel__section_closed"),"visible"===l&&"isolate"===a&&$(".sui-form-group__hint_overflow").css("display","block"),ab__getFieldValue(n,"ovrflwx")),i=ab__getFieldValue(n,"ovrflwy"),d=document.querySelector(".sui-panel__overflow-differ");void 0!==e&&void 0!==i&&e===i?(ab__setFieldValue(n,"ovrflw",e),ab__setFieldValue(n,"ovrflwx",void 0),ab__setFieldValue(n,"ovrflwy",void 0),ab__panelSettings__updateUi(n,"ovrflw",e),ab__panelSettings__updateZIndexFieldVisibility(n,[e,i].find(e=>"visible"===e)),ab__panelSettings__changeOverflowState("default")):"custom"===l?(ab__panelSettings__updateUi(n,"ovrflw"),ab__panelSettings__updateZIndexFieldVisibility(n,[e,i].find(e=>"visible"===e)),ab__panelSettings__changeOverflowState("differ")):(ab__panelSettings__updateUi(n,"ovrflw"),ab__panelSettings__updateZIndexFieldVisibility(n,l),ab__panelSettings__changeOverflowState("default")),d.addEventListener("click",()=>{var e=ab__getFieldValue(n,"ovrflw");ab__setFieldValue(n,"ovrflw","custom"),ab__setFieldValue(n,"ovrflwx",e),ab__setFieldValue(n,"ovrflwy",e),ab__panelSettings__updateUi(n,"ovrflwx",e),ab__panelSettings__updateUi(n,"ovrflwy",e),ab__panelSettings__updateZIndexFieldVisibility(n,""),ab__panelSettings__changeOverflowState("differ")})}function ab__panelSettings__changeOverflowState(e="default"){var t=document.querySelector('.js-overflow-field-container [data-control-field="ovrflw"]'),i=document.querySelector('.js-overflow-field-container [data-control-field="ovrflwx"]'),n=document.querySelector('.js-overflow-field-container [data-control-field="ovrflwy"]'),o=document.querySelector(".sui-panel__overflow-differ");"default"===e?(i.style.display="none",n.style.display="none",o.style.display="block",t.style.display="block"):(i.style.display="block",n.style.display="block",o.style.display="none",t.style.display="none")}function ab__panelSettings__updateZIndexFieldVisibility(e,t){e="fixed"===ab__getFieldValue(e,"position")||"absolute"===ab__getFieldValue(e,"position");control__drawUi__updateVisibilityField(["poszindex"],$(".tn-settings"),"table",e||"visible"===t?"table":"none")}function ab__panelSettings__updateUi(e,t,i){tn_console("func: ab__panelSettings__updateUi. field: "+t);var n,o,s,l=$("[data-control-field="+t+"]");void 0===i&&(i=ab__getFieldValue(e,t)),l.attr("data-control-value",i),$(".tn-settings [name="+t+"]").val(i),"bgcolor"!=t&&"filtercolor"!=t&&"filtercolor2"!=t||ab__control__drawUi__input(t),"bgimg"==t&&(o=l.find(".sui-file-div"),n=l.find(".sui-file-label"),void 0!==i&&""!=i?(n.html("..."+i.substr(i.length-15)),o.css("display","block")):(n.html(""),o.css("display","none"))),"bgposition"===t&&(o=(n=!!ab__getFieldValue(e,"bgimg"))&&"custom"===i,s=l.find('option[value="custom"]'),t=l.find(".js-shape-bg-position-edit"),s.css("display",o?"":"none"),t.css("display",n?"":"none"),setTimeout(()=>{s.html("Custom "+bgposition__getCustomFieldHintText("ab",e))})),tn_tooltip_update()}function ab__control__drawUi__input(i){var n=$('[data-control-field="'+i+'"]'),e=n.attr("data-control-value"),t=("height"===i&&(e=parseInt(e,10)||0),"columngutter"===i||"columnmargins"===i||"columnwidth"===i),o="height_vh"===i||"height"===i,s=o?"</tr><tr>":"";let l='<table style="width:100%;"><tr><td>';l=(l=(l+=`<label class="sui-label"${o?' style="width: 230px;"':""}>${"poszindex"===i?"Z-index":"postrgroffset"===i?"Appear <br> offset":"gridcolor"==i?"Color":"rowmargins"==i?"Row Margins, px":"rowmoduleheight"==i?"Module height":"rowbaseline"==i?"Row baseline, px":"columnwidth"==i?"Column width, px":"columnmargins"==i?"Column margins, px":"columngutter"==i?"Column gutter, px":"columns"==i?"Columns":"height"===i?"Grid Container Height, px":"height_vh"===i?"Window Container Height, %":"filtercolor2"===i?"Filter end":"filtercolor"===i?"Filter start":"bgcolor"===i?"Bg&nbsp;color":i}${ab__control__drawUi__getTooltipHTML(i)}</label>`)+`</td>${s}<td style="width:100%;">`+'<div class="sui-input-div">')+`<input type="text" value="${e}" name="${i}" class="sui-input" ${"height_vh"===i?'placeholder="ex:100"':""}>`,t&&(l+='<div class="sui-layer__lock__icon tooltip tooltipstered" data-tooltip="Column Width, Gutter, and Margins fields are linked <br/> and are calculated automatically depending on the <br /> values you enter. For example, if you change <br /> the Column Width, the new Gutter will be calculated <br /> automatically. To lock one of the parameters, click <br /> the lock icon in the input field."></div>'),l=(l+="</div>")+"</td></tr></table>",n.html(l);var a,d,r=$(".tn-settings [name="+i+"]"),o=r.get(0),_=$(".tn-artboard"),s=["bgcolor","filtercolor","filtercolor2","gridcolor"].includes(i);i.includes("filtercolor")&&n.find(".sui-input-div").css("width","110px"),s||(r.focusin(function(){window.tn.flags.isSettingsFocused=!0,n.removeClass("sui-form-group_undefined")}),r.focusout(function(){window.tn.flags.isSettingsFocused=!1})),t&&(a=n.find(".sui-layer__lock__icon"),localStorage.getItem("tzerogridlock")===i&&a.addClass("sui-layer__lock__icon_locked"),a.click(function(){var e=["columngutter","columnmargins","columnwidth"];d=localStorage.getItem("tzerogridlock")===i,e.forEach(d?function(e){$('[data-control-field="'+e+'"]').find(".sui-layer__lock__icon_hidden").removeClass("sui-layer__lock__icon_hidden")}:function(e){e!==i&&$('[data-control-field="'+e+'"]').find(".sui-layer__lock__icon").addClass("sui-layer__lock__icon_hidden")}),localStorage.setItem("tzerogridlock",d?"":i),a.toggleClass("sui-layer__lock__icon_locked")})),o&&!s&&o.addEventListener("keydown",tn_updateInputValueOnKeyUp),tn_selectAllTextInsideField(o),s||r.change(function(){var e,t=r.val();"gridopacity"===i||"gridlineopacity"===i?(ab__setFieldValue(_,i,t),grid__render()):0<=window.tn.grid_fields.indexOf(i)?(t=tn_calculateInputNumber(t),"rowbaseline"===i&&(t=parseInt(t,10),(isNaN(t)||t<=0)&&(t=""),r.val(t=100<t?100:t)),"rowmoduleheight"===i&&(t=parseInt(t,10),(isNaN(t)||t<=0)&&(t=""),r.val(t=100<t?100:t)),"rowmargins"===i&&(t=parseInt(t,10),(isNaN(t)||t<=0)&&(t=""),r.val(t=1e3<t?1e3:t)),"columns"===i&&((isNaN(t)||t<=0)&&(t=1),r.val(t=24<t?24:t)),"columnwidth"===i&&((isNaN(t)||t<=0)&&(t=1),r.val(t=1200<t?1200:t)),"columnmargins"===i&&((isNaN(t)||t<0)&&(t=0),r.val(t=500<t?500:t)),"columngutter"===i&&((isNaN(t)||t<0)&&(t=0),r.val(t=1e3<t?1200:t)),grid__changeValue(_,i,t),grid__render()):(tn_undo__Add("ab_save"),tn_set_lastChanges(),window.tn.curResolution!==window.tn.topResolution&&""==t&&-1===["height_vh","postrgroffset"].indexOf(i)?(ab__setFieldValue(_,i,void 0),t=ab__getFieldValue(_,i),r.closest(".sui-form-group").attr("data-control-value",t),n.addClass("sui-form-group_undefined")):("height"===i&&(t=tn_calculateInputNumber(t),isNaN(t)&&(t=1),r.val(t=t<0?1:t)),"height_vh"===i&&(t=tn_calculateInputNumber(t),(isNaN(t)||t<0)&&(t=""),r.val(t)),"poszindex"!==i&&"postrgroffset"!==i||(t=parseInt(t,10),isNaN(t)&&(t=""),"postrgroffset"===i&&(e=!(t=2e4<(t=t<=0?"":t)?2e4:t)&&!ab__getFieldValue(_,"posview"),control__drawUi__updateVisibilityField(["posfixshift"],$(".tn-settings"),"table",e?"table":"none"),control__drawUi__updateVisibilityField(["posfixappear"],$(".tn-settings"),"table",t?"table":"none"),t||(ab__setFieldValue(_,"posfixappear",""),ab__panelSettings__updateUi(_,"posfixappear","")),e||(ab__setFieldValue(_,"posfixshift",""),ab__panelSettings__updateUi(_,"posfixshift",""))),"poszindex"===i&&9999999<(t=t<-100?-100:t)&&(t=9999999),r.val(t)),ab__setFieldValue(_,i,t),r.closest(".sui-form-group").attr("data-control-value",t),n.removeClass("sui-form-group_undefined")),"height"==i||"height_vh"==i?(ab__renderViewOneField(i),updateTNobj(),allelems__renderView(),allguides__renderView(),window.tn.flags.isRulersShow&&rulers__reRenderDivisions()):ab__renderViewOneField(i))}),s&&colorpicker__init(o,i,e,"artboard"),"width"===i&&n.css("display","none")}function ab__control__drawUi__getTooltipHTML(e){let t="";switch(e){case"height":t=`Set the height of the grid workspace.
				<br> This will be the block height if the window
				<br> container height is not specified. `,t+="<a href='https://help.tilda.ws/zero-block-advanced#grid' target='_blank'>Learn more</a>";break;case"height_vh":t=`Set the block height as a percentage of the
				<br> window (viewport) height on the visitor&apos;s device.
				<br> The window container allows you to fix elements&apos;
				<br> position regardless of the screen size. `,t+="<a href='https://help.tilda.ws/zero-block-advanced#window' target='_blank'>Learn more</a>";break;case"poszindex":t=`Defines the overlay priority of the block
				<br> relative to others on the page. Use custom
				<br> numeric values (e.g., a block with a z-index
				<br> of 10 will overlap a block with a z-index of 5).`;break;case"postrgroffset":t="Reveal artboard when the page <br> is scrolled down N pixels.";break;case"ovrflw":case"ovrflwx":t=`Use this option to overlay elements outside
				<br> of this block on the next or previous block.`;break;case"isolation":t=`This option isolates this Zero Block
				<br> elements Z-index (stack order of elements)
				<br> from the Z-index of the Block Library elements.
				<br> Use it to prevent elements of this block to overlap
				<br> on another blocks on the page. It may be useful
				<br> when your Zero has a lot of elements.`;break;case"gridglobal":t=`The grid settings apply to the entire project and
				<br> will be available in all blocks on this website.
				<br> If you want to set the grid exclusively for this block,
				<br> set it to &quot;Current block&quot;.`;break;case"posfixshift":t="This option adds top margin that <br> prevents overlay on the next block.";break;case"position":t="Fixed: will stick zero-block on scroll. <br> Absolute: overlapping next block.";break;case"upscale":t=`Enable this option to scale the element width to 100%
				<br> screen size in the current screen width range.
				<br> The option will only be applied to elements attached
				<br> to the grid container. If the element is attached to
				<br> a window container, its width will remain unchanged.`}return t?`<div class="sui-label-ask tooltip" data-tooltip="${t}"></div>`:""}function ab__control__drawUi__selectbox(o,s){var e=$("[data-control-field="+o+"]"),t=e.attr("data-control-value"),i="gridlineopacity"==o?"Border opacity":"gridopacity"==o?"Opacity":"themesize"==o?"Size":"themecolor"==o?"Color":"gridglobal"==o?"Use for":"upscale"==o?"Scale grid container":"gridhide"==o?"Visibility":"isolation"==o?"Isolation":"posfixshift"==o?"Page <br> shift":"posfixappear"==o?"Appear animation":"posview"==o?"Alignment":"position"==o?"Position":"ovrflwy"==o?"":"ovrflw"!=o&&"ovrflwx"!==o?"valign"==o?"grid container align in window":"filteropacity"!=o&&"filteropacity2"!=o?"bgposition"==o?"Position":"bgattachment"==o?"Behavior":o:"":"Overflow",n="valign"===o||"upscale"===o,l=n?"</tr><tr>":"",a="ovrflwx"===o||"ovrflwy"===o?' style="width: 90px;"':"";let d='<table style="width:100%;"><tr><td>';i&&(d+=`<label class="sui-label"${n?' style="width: 230px;"':""}>${i}${ab__control__drawUi__getTooltipHTML(o)}</label>`),d+=`</td>${l}<td class="sui-form-group-td-minwidth-60" ${a}>
		<div class="sui-select"><select class="sui-input sui-select" name="${o}">`,"bgattachment"===o&&(d=d+'<option value="scroll"'+("scroll"==t?' selected="selected"':"")+'>Scroll</option><option value="fixed"'+("fixed"==t?' selected="selected"':"")+">Fixed</option>"),"bgposition"===o&&(d=(d=(d=(d=(d+='<option value="left top" '+("left top"==t?'selected="selected"':"")+">Left Top</option>")+'<option value="center top" '+("center top"==t?'selected="selected"':"")+'>Center Top</option><option value="right top" '+("right top"==t?'selected="selected"':"")+">Right Top</option>")+'<option value="left center" '+("left center"==t?'selected="selected"':"")+'>Left Center</option><option value="center center" '+("center center"==t?'selected="selected"':"")+">Center Center</option>")+'<option value="right center" '+("right center"==t?'selected="selected"':"")+'>Right Center</option><option value="left bottom" '+("left bottom"==t?'selected="selected"':"")+">Left Bottom</option>")+'<option value="center bottom" '+("center bottom"==t?'selected="selected"':"")+'>Center Bottom</option><option value="right bottom" '+("right bottom"==t?'selected="selected"':"")+">Right Bottom</option>"),"filteropacity"!==o&&"filteropacity2"!==o&&"gridopacity"!==o&&"gridlineopacity"!==o||(d=(d=(d=(d=(d=(d=(d=(d=(d=(d=(d+='  <option value="1" '+("1"==t?'selected="selected"':"")+">100%</option>")+'  <option value="0.95" '+("0.95"==t?'selected="selected"':"")+'>95%</option>  <option value="0.9" '+("0.9"==t?'selected="selected"':"")+">90%</option>")+'  <option value="0.85" '+("0.85"==t?'selected="selected"':"")+'>85%</option>  <option value="0.8" '+("0.8"==t?'selected="selected"':"")+">80%</option>")+'  <option value="0.75" '+("0.75"==t?'selected="selected"':"")+'>75%</option>  <option value="0.7" '+("0.7"==t?'selected="selected"':"")+">70%</option>")+'  <option value="0.65" '+("0.65"==t?'selected="selected"':"")+'>65%</option>  <option value="0.6" '+("0.6"==t?'selected="selected"':"")+">60%</option>")+'  <option value="0.55" '+("0.55"==t?'selected="selected"':"")+'>55%</option>  <option value="0.5" '+("0.5"==t?'selected="selected"':"")+">50%</option>")+'  <option value="0.45" '+("0.45"==t?'selected="selected"':"")+'>45%</option>  <option value="0.4" '+("0.4"==t?'selected="selected"':"")+">40%</option>")+'  <option value="0.35" '+("0.35"==t?'selected="selected"':"")+'>35%</option>  <option value="0.3" '+("0.3"==t?'selected="selected"':"")+">30%</option>")+'  <option value="0.25" '+("0.25"==t?'selected="selected"':"")+'>25%</option>  <option value="0.2" '+("0.2"==t?'selected="selected"':"")+">20%</option>")+'  <option value="0.15" '+("0.15"==t?'selected="selected"':"")+'>15%</option>  <option value="0.1" '+("0.1"==t?'selected="selected"':"")+">10%</option>")+'  <option value="0.05" '+("0.05"==t?'selected="selected"':"")+'>5%</option>  <option value="0" '+("0"==t?'selected="selected"':"")+">0%</option>"),"valign"===o&&(d=(d=d+'  <option value="top" '+("top"==t?'selected="selected"':"")+'>Top</option>  <option value="center" '+("center"==t?'selected="selected"':"")+">Center</option>")+'  <option value="bottom" '+("bottom"==t?'selected="selected"':"")+'>Bottom</option>  <option value="stretch" '+("stretch"==t?'selected="selected"':"")+">Stretch</option>"),"ovrflw"===o&&(d=(d+='  <option value="" '+(""==t?'selected="selected"':"")+">Hidden</option>")+'  <option value="visible" '+("visible"==t?'selected="selected"':"")+'>Visible</option>  <option value="auto" '+("auto"==t?'selected="selected"':"")+">Auto</option>"),"ovrflwx"===o&&(d=(d+='  <option value="" '+(""==t?'selected="selected"':"")+">X: Hidden</option>")+'  <option value="visible" '+("visible"==t?'selected="selected"':"")+'>X: Visible</option>  <option value="auto" '+("auto"==t?'selected="selected"':"")+">X: Auto</option>"),"ovrflwy"===o&&(d=(d+='  <option value="" '+(""==t?'selected="selected"':"")+">Y: Hidden</option>")+'  <option value="visible" '+("visible"==t?'selected="selected"':"")+'>Y: Visible</option>  <option value="auto" '+("auto"==t?'selected="selected"':"")+">Y: Auto</option>"),"position"===o&&(d+=`
			<option value="" ${""===t?'selected="selected"':""}>Default</option>
			<option value="fixed" ${"fixed"===t?'selected="selected"':""}>Fixed</option>
			<option value="absolute" ${"absolute"===t?'selected="selected"':""}>Absolute</option>
		`),"posfixappear"===o&&(n="Slide ",n+=$('[data-control-field="posview"]').attr("data-control-value")?"Up":"Down",d=(d+='  <option value="" '+(""===t?'selected="selected"':"")+">None</option>")+'  <option value="posfadein" '+("posfadein"===t?'selected="selected"':"")+'>Fade In</option>  <option value="fixslide" '+("fixslide"===t?'selected="selected"':"")+">"+n+"</option>"),"posfixshift"===o&&(d=d+'  <option value="" '+(""===t?'selected="selected"':"")+'>None</option>  <option value="y" '+("y"===t?'selected="selected"':"")+">Add top margin to page</option>"),"posview"===o&&(d=d+'  <option value="" '+(""===t?'selected="selected"':"")+'>on Window Top</option>  <option value="bottom" '+("bottom"===t?'selected="selected"':"")+">on Window Bottom</option>"),"isolation"===o&&(d=d+'  <option value="" '+(""==t?'selected="selected"':"")+'>Default</option>  <option value="isolate" '+("isolate"==t?'selected="selected"':"")+">Isolate</option>"),"gridglobal"===o&&(d=d+'  <option value="" '+(""==t?'selected="selected"':"")+'>Whole project</option>  <option value="block" '+("block"==t?'selected="selected"':"")+">Current block</option>"),"upscale"===o&&(d=d+'  <option value="grid" '+("grid"==t?'selected="selected"':"")+'>None</option>  <option value="window" '+("window"==t?'selected="selected"':"")+">Autoscale to window width</option>"),"themecolor"===o&&(t=localStorage.getItem("tzerothemecolor"),d=(d+='  <option value="" '+(""==t?'selected="selected"':"")+">Classic</option>")+'  <option value="light" '+("light"==t?'selected="selected"':"")+'>Light</option>  <option value="dark" '+("dark"==t?'selected="selected"':"")+">Dark</option>"),"themesize"===o&&(t=localStorage.getItem("tzerothemesize"),d=d+'  <option value="" '+(""==t?'selected="selected"':"")+'>Classic</option>  <option value="minimal" '+("minimal"==t?'selected="selected"':"")+">Minimal</option>"),d=(d=(d+="</select>")+"</select></div>")+"</td></tr></table>",e.html(d),"filteropacity"!==o&&"filteropacity2"!=o||(e.find(".sui-input").css("height","44px"),e.find(".sui-select").addClass("sui-select_after_bottom-18")),"ovrflw"===o&&tn_addSectionHandlers(),"position"===o&&ab__control__drawUi__updatePosProps(t);var i=$(".tn-settings [name="+o+"]"),r=$(".tn-artboard");i.focusin(function(){window.tn.flags.isSettingsFocused=!0,e.removeClass("sui-form-group_undefined")}),i.focusout(function(){window.tn.flags.isSettingsFocused=!1}),i.change(function(){var e,t,i,n=$(this).val();s?s(n):("gridopacity"===o||"gridlineopacity"===o?($(this).closest(".sui-form-group").attr("data-control-value",n),ab__setFieldValue(r,o,n),"block"===ab__getFieldValue(r,"gridglobal")&&grid__setLocalOptions(),grid__render()):(tn_undo__Add("ab_save"),$(this).closest(".sui-form-group").attr("data-control-value",n),ab__setFieldValue(r,o,n),"posview"===o&&$('[name="posfixappear"] [value="fixslide"]').text(n?"Slide Up":"Slide Down"),"position"===o&&ab__control__drawUi__updatePosProps(n),"ovrflw"!==o&&"ovrflwx"!==o&&"ovrflwy"!==o||ab__panelSettings__updateZIndexFieldVisibility(r,n),"ovrflw"!==o&&"isolation"!==o||(i="ovrflw"===o?n:$('[data-control-field="ovrflw"]').attr("data-control-value"),e="isolation"===o?n:$('[data-control-field="isolation"]').attr("data-control-value"),t=$(".sui-form-group__hint_overflow"),"visible"===i&&"isolate"===e?t.css("display","block"):t.css("display","none")),"posview"===o&&(i=!n&&!ab__getFieldValue(r,"postrgroffset"),control__drawUi__updateVisibilityField(["posfixshift"],$(".tn-settings"),"table",i?"table":"none"),control__drawUi__updateVisibilityField(["posfixshift"],$(".tn-settings"),"table",n?"none":"table"),i||(ab__setFieldValue(r,"posfixshift",""),ab__panelSettings__updateUi(r,"posfixshift",""))),"valign"==o?(ab__renderViewOneField(o),updateTNobj(),allelems__renderView(),window.tn.flags.isRulersShow&&rulers__reRenderDivisions()):ab__renderViewOneField(o)),tn_set_lastChanges()),window.tn.flags.isSettingsFocused=!1})}function ab__control__drawUi__updatePosProps(t){var e=$(".tn-settings");const i=$(".tn-artboard");var n=window.tn.curResolution===window.tn.topResolution;t=t||"default";const o={fixed:["postrgroffset","posview"],absolute:[],default:[]};var s="visible"===ab__getFieldValue(i,"ovrflw"),s=(n&&("default"!==t||s)&&o[t].push("poszindex"),"fixed"===t&&(n="bottom"!==ab__getFieldValue(i,"posview"),0<(s=ab__getFieldValue(i,"postrgroffset"))&&o[t].push("posfixappear"),!s)&&n&&o[t].push("posfixshift"),["postrgroffset","posview","poszindex","posfixappear","posfixshift"].filter(e=>!o[t].includes(e)));control__drawUi__updateVisibilityField(s,e,"table","none"),control__drawUi__updateVisibilityField(o[t],e,"table","table"),s.forEach(e=>{ab__getFieldValue(i,e)&&(ab__setFieldValue(i,e,""),ab__panelSettings__updateUi(i,e,""))})}function ab__control__drawUi__toggle(t){var e=$("[data-control-field="+t.name+"]"),i="";if(void 0===e.attr("data-control-value"))return!0;i+='<table style="width:100%;"><tr><td><label class="sui-label">'+t.label+'</label></td><td style="width:100%;min-width:50px;"><div class="sui-toggle-div" name="'+t.name+'" data-toggle-active="'+t.activeAttr+'"><input type="checkbox" class="sui-input sui-toggle'+t.activeClass+'"'+t.checkedAttr+"></input></div></div></td></tr></table>",e.html(i);e=$(".tn-settings [data-control-field="+t.name+"]");e.off("click"),e.on("click",function(){var e=$(this).find("input");e.hasClass("sui-toggle_on")?(e.removeClass("sui-toggle_on"),e.removeAttr("checked")):(e.addClass("sui-toggle_on"),e.attr("checked","true")),t.onChange&&t.onChange()}),e.off("update"),e.on("update",function(){var e=$(this).find("input");t.isActive()?(e.addClass("sui-toggle_on"),e.attr("checked","true")):(e.removeClass("sui-toggle_on"),e.removeAttr("checked"))})}function ab__control__toggle__update(e){e=$(".tn-settings [name="+e+"]");e.length&&e.trigger("update")}function ab__control__drawUi__upload(l){$(document).ready(function(){var e=$("[data-control-field="+l+"]"),t=e.attr("data-control-value"),n=(e.html('<div class="sui-input-upload-div">  <input type="text" value="'+t+'" name="'+l+'" class="sui-input"></div><table class="sui-file-div"><tr><td style="vertical-align:top;"><label class="sui-label">File</label></td><td style="width:100%; vertical-align:top;">  <div class="sui-file-label"></div>  <div class="sui-btn sui-btn_sm sui-file-del">Delete</div></td></tr></table>'),$(".tn-settings [name="+l+"]")),i=$(".tn-artboard"),o=e.find(".sui-file-div"),s=e.find(".sui-file-label");""!==t?(s.html("..."+t.substr(t.length-15)),o.css("display","block")):(s.html(""),o.css("display","none")),n.change(function(){var e=$(this).val();tn_undo__Add("ab_save"),$(this).closest(".sui-form-group").attr("data-control-value",e),ab__setFieldValue(i,l,e),ab__renderViewOneField(l),"custom"===ab__getFieldValue(i,"bgposition")&&(ab__setFieldValue(i,"bgposition","center center"),ab__setFieldValue(i,"bgposition_imgpos",""),ab__renderViewOneField("bgposition"),ab__renderViewOneField("bgposition_imgpos")),ab__panelSettings__updateUi(i,"bgposition"),""!=e?(s.html("..."+e.substr(e.length-15)),o.css("display","block")):(s.html(""),o.css("display","none")),tn_set_lastChanges()}),e.find(".sui-file-del").click(function(){n.val(""),n.trigger("change")}),n.each(function(){var e=$(this),t=e.attr("id"),i=(t||(t="tuwidget"+parseInt(Math.floor(Math.random()*(9e5+1))+99999),e.attr("id",t)),n.closest(".sui-form-group"));i.addClass("sui-form-group_placeholder-upload"),setTimeout(function(){0!==$('.tn-settings[data-for-artboard="artboard"]').length&&0!==$("#"+t).length&&(TUWidget.init(e).done(function(e){tn_undo__Add("ab_save"),n.val(e.tuInfo.cdnUrl),n.trigger("change"),setTimeout(function(){$("#"+t+"-previews").removeClass("tu-popup-progressbar-completed").removeClass("tu-processing").removeClass("tu-image-preview").removeClass("tu-success").removeClass("tu-complete").addClass("tu-popup-progressbar-start")},3e3)}).fail(function(){}),i.removeClass("sui-form-group_placeholder-upload"))},1)})})}function ab__control__drawUi__shapeBgPosition(e){var t=document.querySelector(".tn-artboard");const o=$(t),i=document.querySelector(`[data-control-field=${e}]`),n=i.getAttribute("data-control-value");t=e=>n===e?'selected="selected"':"",e=!!ab__getFieldValue(o,"bgimg"),t=`
    <table class="sui-control-shape-bg-position" style="width:100%;">
      <tr>
        <td><label class="sui-label">Position</label></td>
        <td style="width: 100%">
          <div class="sui-select">
            <select class="sui-input sui-select" name="bgposition">
              <option
								value="custom"
								style="${e&&"custom"===n?"":"display: none"}"
								${t("custom")}
							>Custom ${bgposition__getCustomFieldHintText("ab",o)}</option>
              <option value="left top" ${t("left top")}>Left Top</option>
              <option value="center top" ${t("center top")}>Center Top</option>
              <option value="right top" ${t("right top")}>Right Top</option>
              <option value="left center" ${t("left center")}>Left Center</option>
              <option value="center center" ${t("center center")}>Center Center</option>
              <option value="right center" ${t("right center")}>Right Center</option>
              <option value="left bottom" ${t("left bottom")}>Left Bottom</option>
              <option value="center bottom" ${t("center bottom")}>Center Bottom</option>
              <option value="right bottom" ${t("right bottom")}>Right Bottom</option>
            </select>
          </div>
        </td>
        <td>
          <div
            style="margin-left: 16px; ${e?"":"display: none;"}"
            class="sui-btn sui-btn_sm sui-btn_singular bg-position-btn-edit js-shape-bg-position-edit"
          ><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 21 21" fill="none"><circle cx="10.5" cy="10.5" r="2" stroke="currentColor"/><path stroke="currentColor" d="M5.75 1H1v4.75M5.75 20H1v-4.75m19-9.5V1h-4.75M20 15.25V20h-4.75"/></svg></div>
        </td>
      </tr>
    </table>
  `;i.innerHTML=t;const s=document.querySelector(".tn-settings [name=bgposition]");document.querySelector(".tn-settings .js-shape-bg-position-edit").addEventListener("click",()=>{tn_undo__Add("ab_save",o);const e=document.querySelector(".tn-canvas-max");bgposition__crop__init({element:e,type:"position",getId:()=>"tn-canvas-max",getFieldValue:e=>ab__getFieldValue(o,e),setFieldValue:(e,t,i,n)=>{ab__setFieldValue(o,e,t),i&&ab__renderViewOneField(e),n&&ab__panelSettings__updateUi(o,e,t)},delFieldValue:e=>{ab__setFieldValue(o,e,void 0)},showElement:()=>{e.style.visibility=""},hideElement:()=>{e.style.visibility="hidden"}}),tn_hideOutline("selected"),tn_hideOutline("hover")}),s.addEventListener("focusin",()=>window.tn.flags.isSettingsFocused=!0),s.addEventListener("focusout",()=>window.tn.flags.isSettingsFocused=!1),s.addEventListener("change",()=>{var e=s.value;tn_undo__Add("ab_save",o),i.setAttribute("data-control-value",e),"custom"!==e&&(ab__setFieldValue(o,"bgposition_imgpos",void 0),ab__setFieldValue(o,"bgposition_imgsize",void 0),ab__renderViewOneField("bgposition_imgpos"),ab__renderViewOneField("bgposition_imgsize")),ab__setFieldValue(o,"bgposition",e),ab__renderViewOneField("bgposition"),ab__panelSettings__updateUi(o,"bgposition",e),tn_set_lastChanges(),s.dispatchEvent(new FocusEvent("focusout"))})}function elem__setFieldValue(e,t,i,n,o,s){if((e=tn__getjQueryElem(e),window.tn.flags.isMultiEdit&&e.attr("data-fields"))&&-1===e.attr("data-fields").split(",").indexOf(t))return;"bgcolor"!=t&&"color"!=t&&"bgcolorhover"!=t&&"slds_dotsbgcolor"!=t&&"slds_dotsbgcoloractive"!=t&&"slds_arrowbgcolor"!=t&&"slds_arrowbgcolorhover"!=t&&"tipbgcolor"!=t||tn_isGradientJSON(i)&&(i=tn_parseGradientFromJSON(i)),(s=void 0!==s&&""!=s?s:window.tn.curResolution)<window.tn.topResolution&&"zindex"!==t&&"lock"!==t&&"invisible"!==t?e.attr("data-field-"+t+"-res-"+s+"-value",i):e.attr("data-field-"+t+"-value",i),"render"===n&&elem__renderViewOneField(e,t),"updateui"===o&&panelSettings__updateUi(e,t,i)}function elem__delFieldValue(e,t,i,n,o,s){tn_console("func: elem__delFieldValue "+t+"="+i+" Res:"+(s=void 0!==s&&""!=s?s:window.tn.curResolution)),s<window.tn.topResolution&&"zindex"!=t?e.removeAttr("data-field-"+t+"-res-"+s+"-value"):e.removeAttr("data-field-"+t+"-value"),"render"==n&&elem__renderViewOneField(e,t),"updateui"==o&&(panelSettings__updateUi(e,t,i),"leftunits"!=t&&"topunits"!=t&&"widthunits"!=t&&"heightunits"!=t&&"lock"!=t||elem__updateUIControls(e))}function elem__emptyField(i,n,e,t){window.tn.screens.forEach(function(e,t){e==window.tn.topResolution?i.attr("data-field-"+n+"-value",""):i.removeAttr("data-field-"+n+"-res-"+e+"-value")}),void 0!==e&&"render"==e&&elem__renderViewOneField(i,n),void 0!==t&&"updateui"==t&&(panelSettings__updateUi(i,n,""),"leftunits"!=n&&"topunits"!=n&&"widthunits"!=n&&"heightunits"!=n&&"lock"!=n||elem__updateUIControls(i))}function elem__getFieldValue(i,n){if(i=tn__getElem(i)){var t=i.getAttribute("data-elem-type");const o=window.tn.curResolution;if("height"===n&&["text","image","form","vector","tooltip"].includes(t))return i.offsetHeight;let e=i.getAttribute("data-field-"+n+"-value");if(null===e&&(e=void 0),o===window.tn.topResolution)return e;{let t=i.getAttribute("data-field-"+n+"-res-"+o+"-value");return null!==t?t:(window.tn.screens.slice(0,-1).forEach(e=>{e<=o||null===t&&(t=i.getAttribute("data-field-"+n+"-res-"+e+"-value"))}),null===t?e:t)}}}function elem__getFieldValue_for_Res(e,t,i){e=i==window.tn.topResolution?e.attr("data-field-"+t+"-value"):e.attr("data-field-"+t+"-res-"+i+"-value");return e}function elem__setLineHeightFontSize(e,t,i){var n;"fontsize"===i&&(e.css("font-size",parseInt(t,10)+"px"),n=elem__getFieldValue(e,"lineheight"),n=parseFloat(t)*parseFloat(n)),"lineheight"===i&&(t=t||"0",i=elem__getFieldValue(e,"fontsize"),n=parseFloat(t)*parseFloat(i)),isNaN(n)||e.css("line-height",Math.round(n)+"px")}function elem__convertPosition__Local__toAbsolute(e,t,i){var n,o,s;return e=tn__getjQueryElem(e),i=parseInt(i),"left"==t&&(s="grid"==elem__getFieldValue(e,"container")?(o=window.tn.canvas_min_offset_left,window.tn.canvas_min_width):(o=window.tn.canvas_max_offset_left,window.tn.canvas_max_width),i=o+(i="%"==elem__getFieldValue(e,"leftunits")?parseInt(s*parseFloat(i/100)):i),"center"==(o=elem__getFieldValue(e,"axisx"))&&(i=s/2-elem__getWidth(e)/2+i),"right"==o)&&(i=s-elem__getWidth(e)+i),i="top"==t&&(o="grid"==elem__getFieldValue(e,"container")?(n=window.tn.canvas_min_offset_top,window.tn.canvas_min_height):(n=window.tn.canvas_max_offset_top,window.tn.canvas_max_height),i=n+(i="%"==elem__getFieldValue(e,"topunits")?parseInt(o*parseFloat(i/100)):i),"center"==(s=elem__getFieldValue(e,"axisy"))&&(i=o/2-elem__getHeight(e)/2+i),"bottom"==s)?o-elem__getHeight(e)+i:i}function elem__convertPosition__Absolute__toLocal(e,t,i){var n,o,s,l,a,d;return i=parseInt(i,10),"left"==t&&(o=elem__getFieldValue(e,"container"),s=elem__getFieldValue(e,"leftunits"),d=elem__getFieldValue(e,"axisx"),n="grid"==o||e.hasClass("tn-group")?(l=window.tn.canvas_min_offset_left,window.tn.canvas_min_width):(l=window.tn.canvas_max_offset_left,window.tn.canvas_max_width),i-=l,"center"==d&&(i=i-n/2+elem__getWidth(e)/2),"right"==d&&(i=i-n+elem__getWidth(e)),"%"==s)&&(i=Math.round(i/n*100)),i="top"==t&&(o=elem__getFieldValue(e,"container"),s=elem__getFieldValue(e,"topunits"),l=elem__getFieldValue(e,"axisy"),d="grid"==o||e.hasClass("tn-group")?(a=window.tn.canvas_min_offset_top,window.tn.canvas_min_height):(a=window.tn.canvas_max_offset_top,window.tn.canvas_max_height),i-=a,"center"==l&&(i=i-d/2+elem__getHeight(e)/2),"bottom"==l&&(i=i-d+elem__getHeight(e)),"%"==s)?Math.round(i/d*100):i}function elem__convertSize__Absolute__toLocal(e,t,i){var n;return i=parseInt(i,10),"width"==t&&"%"==elem__getFieldValue(e,"widthunits")&&(n="grid"==elem__getFieldValue(e,"container")?window.tn.canvas_min_width:window.tn.canvas_max_width,i=parseInt(i/n*100,10)),"height"==t&&"%"==elem__getFieldValue(e,"heightunits")&&(n="grid"==elem__getFieldValue(e,"container")?window.tn.canvas_min_height:window.tn.canvas_max_height,i=parseInt(i/n*100,10)),i}function elem__getData__inJson(n){var e=(e=n.attr("data-fields"))?e.split(","):[],o={};return o.elem_id=n.attr("data-elem-id"),o.elem_type=n.attr("data-elem-type"),e.forEach(function(t){var i,e=n.attr("data-field-"+t+"-value");"bgcolor"!=t&&"color"!=t&&"bgcolorhover"!=t&&"slds_dotsbgcolor"!=t&&"slds_dotsbgcoloractive"!=t&&"slds_arrowbgcolor"!=t&&"slds_arrowbgcolorhover"!=t&&"tipbgcolor"!=t||(e=tn_replaceSingleQuotes(e)),o[t]=e,window.tn.screens.forEach(function(e){e!=window.tn.topResolution&&void 0!==(i=n.attr("data-field-"+t+"-res-"+e+"-value"))&&(o[t+"-res-"+e]=i)})}),"text"==o.elem_type&&(o.text="q"===window.ver_redactor?Quill.removeNbspMarkers(n.find(".tn-atom").html()):n.find(".tn-atom").html()),"html"==o.elem_type&&(o.code=n.find(".tn-atom__html-textarea").val()),"form"==o.elem_type&&(o.inputs=n.find(".tn-atom__inputs-textarea").val()),"vector"==o.elem_type&&(o.vectorsvg=n.find(".tn-atom").html()),"tooltip"==o.elem_type&&("q"===window.ver_redactor?o.tipcaption=Quill.removeNbspMarkers(n.find(".tn-atom__tip-text").html()):o.tipcaption=n.find(".tn-atom__tip-text").html(),o.height=o.width),o}function allelems__getData__inJson(){tn_console("func: allelems__getData__inJson");var o={},e=[...document.querySelectorAll(".tn-elem:not(.tn-elem__fake)")],e=(e.sort((e,t)=>{return(parseInt(elem__getFieldValue($(e),"zindex"),10)||0)-(parseInt(elem__getFieldValue($(t),"zindex"),10)||0)}),e.forEach((e,t)=>{elem__setFieldValue($(e),"zindex",t+2),o[t]=elem__getData__inJson($(e))}),Object.keys(window.tn.guides).length&&(guide__cleanData(),o.guides=window.tn.guides),$(".tn-guide")),s=(e.length&&(o.guides_v=[],o.guides_h=[]),e.each(function(){var e=$(this).attr("id"),e=window.tn.guides[e],t=e.type,e=e.position;"h"===t&&o.guides_h.push(e),"v"===t&&o.guides_v.push(e)}),0<$(".tn-group").length&&(o.groups=group__getDataJson()),$(".tn-artboard")),i=(window.tn.ab_fields.forEach(function(i){var n,e=s.attr("data-artboard-"+i);"bgcolor"==i&&(e=tn_replaceSingleQuotes(e)),o["ab_"+i]=e,window.tn.screens.forEach(function(e,t){e!=window.tn.topResolution&&void 0!==(n=s.attr("data-artboard-"+i+"-res-"+e))&&(o["ab_"+i+"-res-"+e]=n)})}),"");return window.tn.screens.forEach(function(e,t){i+=e,t!=window.tn.screens_cnt-1&&(i+=",")}),i!==window.tn.screens_default_str&&(o.ab_screens=i),o.timestamp=Date.now(),tn_console(o),o}function allelems__cleanData__inJson(e){for(var t in tn_console("func: allelems__cleanData__inJson"),e){var i=e[t],n=("isolate"===i&&"tester"!==window.userrole&&delete e[t],-1!==t.indexOf("-res-")&&["ab_bgimg","ab_height_vh","ab_bgcolor","ab_position","ab_posview","ab_postrgroffset","ab_posfixshift"].some(function(e){return-1!==t.indexOf(e)}));if(void 0!==i&&(""!=i||n)||delete e[t],"object"==typeof i)for(var o in i){var s=i[o];o&&o.includes("buttonalign")&&o.includes("-res-")||void 0!==s&&""!=s||delete e[t][o],("rotate"==o&&"0"==s||"bgattachment"==o&&"static"==s||"bgposition"==o&&"center center"==s||"opacity"==o&&"1"==s||"letterspacing"==o&&"0"==s||"container"==o&&"grid"==s||"axisx"==o&&"left"==s||"axisy"==o&&"top"==s||"tag"==o&&"div"==s||"align"==o&&"left"==s&&"button"!==i.elem_type||"animduration"==o&&"0"==s||"animdelay"==o&&"0"==s||"animdistance"==o&&"0"==s||"animtriggeroffset"==o&&"0"==s||"animprxs"==o&&"100"==s||"animprxdx"==o&&"0"==s||"animprxdy"==o&&"0"==s||"animfixdist"==o&&"0"==s||"animfixtrgofst"==o&&"0"==s)&&delete e[t][o],("widthunit"==o&&"px"==s||"heightunit"==o&&"px"==s||"topunit"==o&&"px"==s||"leftunit"==o&&"px"==s)&&delete e[t][o],"fontweight"===o&&e[t].variationweight&&(e[t].fontweight=e[t].variationweight,delete e[t].variationweight),"inputfontweight"===o&&e[t].inputvariationweight&&(e[t][o]=e[t].inputvariationweight,delete e[t].inputvariationweight),"inputtitlefontweight"===o&&e[t].inputtitlevariationweight&&(e[t][o]=e[t].inputtitlevariationweight,delete e[t].inputtitlevariationweight),"inputelsfontweight"===o&&e[t].inputelsvariationweight&&(e[t][o]=e[t].inputelsvariationweight,delete e[t].inputelsvariationweight),"buttonfontweight"===o&&e[t].buttonvariationweight&&(e[t][o]=e[t].buttonvariationweight,delete e[t].buttonvariationweight)}}return e}function elem__Save__currentWidth(e){var t,i=e.css("width");i=elem__convertSize__Absolute__toLocal(e,"width",parseFloat(i)),parseInt(elem__getFieldValue(e,"width"),10)!==i&&(elem__setFieldValue(e,"width",i),t=e.attr("data-elem-id"),$(".tn-settings[data-for-elem-id="+t+"]").find("[name=width]").val(i),window.tn.curResolution!=window.tn.topResolution&&$(".tn-settings").find("[data-control-field=width]").removeClass("sui-form-group_undefined"),tn_shapeBorderRadius__shouldShowHandle(e[0]))&&tn_shapeBorderRadius__setHandlePosition(e[0])}function elem__Save__currentHeight(e){var t,i=e.css("height");i=elem__convertSize__Absolute__toLocal(e,"height",parseFloat(i)),parseInt(elem__getFieldValue(e,"height"),10)!==i&&(elem__setFieldValue(e,"height",i),t=e.attr("data-elem-id"),$(".tn-settings[data-for-elem-id="+t+"]").find("[name=height]").val(i),window.tn.curResolution!=window.tn.topResolution&&$(".tn-settings").find("[data-control-field=height]").removeClass("sui-form-group_undefined"),tn_shapeBorderRadius__shouldShowHandle(e[0]))&&tn_shapeBorderRadius__setHandlePosition(e[0])}function elem__Save__absolutePosition(e,t,i){i=parseInt(i,10),t=elem__convertPosition__Absolute__toLocal(e,"left",t=parseInt(t,10)),i=elem__convertPosition__Absolute__toLocal(e,"top",i),i=Math.round(i),t=Math.round(t);var n,o=parseInt(elem__getFieldValue(e,"top"),10),s=parseInt(elem__getFieldValue(e,"left"),10),e=(o!==i&&elem__setFieldValue(e,"top",i),s!==t&&elem__setFieldValue(e,"left",t),e.attr("data-elem-id"));o!==i&&((n=$(".tn-settings[data-for-elem-id="+e+"]")).find("[name=top]").val(i),window.tn.curResolution!=window.tn.topResolution)&&n.find("[data-control-field=top]").removeClass("sui-form-group_undefined"),s!==t&&((n=$(".tn-settings[data-for-elem-id="+e+"]")).find("[name=left]").val(t),window.tn.curResolution!=window.tn.topResolution)&&n.find("[data-control-field=left]").removeClass("sui-form-group_undefined")}function elem__Save__currentPosition(e){var t=parseInt(elem__getRealPosition(e).top);elem__Save__absolutePosition(e,parseInt(elem__getRealPosition(e).left),t)}function elem__Save__currentPosition__left(e){var t=e.css("left"),e=(elem__setFieldValue(e,"left",t=elem__convertPosition__Absolute__toLocal(e,"left",t)),e.attr("data-elem-id"));$(".tn-settings[data-for-elem-id="+e+"]").find("[name=left]").val(t),window.tn.curResolution!=window.tn.topResolution&&$(".tn-settings").find("[data-control-field=left]").removeClass("sui-form-group_undefined")}function elem__offsetMove(e,t,i){var n,o,s=e.hasClass("tn-group");(0<t||t<0)&&(n=tn__getElem(e),o=parseInt(n.style.left,10),n.style.left=o+t+"px"),(0<i||i<0)&&(n=tn__getElem(e),o=parseInt(n.style.top,10),n.style.top=o+i+"px"),(0<t||t<0||0<i||i<0)&&(window.tn.flags.isSbsStepMode&&!s?0<(n=+e.attr("data-sbs-step-i"))?(o=elem__convertPosition__Local__toAbsolute(e,"left",o=elem__getFieldValue(e,"left")),t=elem__convertPosition__Local__toAbsolute(e,"top",t=elem__getFieldValue(e,"top")),i=parseInt(e.css("left"))-parseInt(o),o=parseInt(e.css("top"))-parseInt(t),sbs__step__setFieldValue(e,n,"mx",i,"render","updateui"),sbs__step__setFieldValue(e,n,"my",o,"render","updateui")):elem__Save__currentPosition(e):s?group__saveCurrentPosition(e.attr("id")):elem__Save__currentPosition(e))}function elem__aligntoCanvas(o,s){tn_console("func: elem__aligntoCanvas"),0!=$(".tn-elem__selected").length&&($(".tn-elem__selected").each(function(){var e,t,i=$(this),n=i.closest(".tn-group");0<n.length?((e=i.position()).width=i.width(),e.height=i.height(),(t=n.position()).width=n.width(),t.height=n.height(),elem__setAlignPosition(i,o,{left:0,right:t.width-parseInt(e.width,10),center:t.width/2-parseInt(e.width/2,10),top:0,bottom:t.height-parseInt(e.height,10),middle:t.height/2-parseInt(e.height/2,10)})):elem__setAlignPosition(i,o,elem__getCanvasPositions(i,s)),elem__Save__currentPosition(i)}),window.tn.flags.isMultiEdit&&($(".tn-elem__fake").remove(),panelSettings__openTimeout(window.tn.multi_edit_elems,!0)),tn_setOutlinePosition("selected"))}function elem__getCanvasPositions(e,t){var t="grid"===t?"min":"max",i=window.tn["canvas_"+t+"_offset_left"],n=window.tn["canvas_"+t+"_offset_top"],o=window.tn["canvas_"+t+"_width"],t=window.tn["canvas_"+t+"_height"],s=e.width(),e=e.height();return{left:i,right:i+o-parseInt(s,10),center:i+o/2-parseInt(s/2,10),top:n,bottom:n+t-parseInt(e,10),middle:n+t/2-parseInt(e/2,10)}}function elem__setAlignPosition(e,t,i){"left"===t&&e.css("left",i.left+"px"),"right"===t&&e.css("left",i.right+"px"),"center"===t&&e.css("left",i.center+"px"),"top"===t&&e.css("top",i.top+"px"),"bottom"===t&&e.css("top",i.bottom+"px"),"middle"===t&&e.css("top",i.middle+"px")}function elem__drawAxis(e){if($(".tn-axis").remove(),void 0===e){if(1!=$(".tn-elem__selected").length)return;e=$(".tn-elem__selected")}$("body .tn-layout").append('<div class="tn-axis"><div class="tn-axis__x-ico"></div><div class="tn-axis__y-ico"></div></div>');var t,i,n=$(".tn-axis"),o=elem__getFieldValue(e,"container"),s=elem__getFieldValue(e,"axisx"),e=elem__getFieldValue(e,"axisy");"grid"==o?("left"==s&&(t=window.tn.canvas_min_offset_left),"right"==s&&(t=window.tn.canvas_min_offset_left+window.tn.canvas_min_width),"center"==s&&(t=window.tn.canvas_min_offset_left+window.tn.canvas_min_width/2),n.css("left",t+"px"),"top"==e&&(i=window.tn.canvas_min_offset_top),"bottom"==e&&(i=window.tn.canvas_min_offset_top+window.tn.canvas_min_height),"center"==e&&(i=window.tn.canvas_min_offset_top+window.tn.canvas_min_height/2)):("left"==s&&(t=window.tn.canvas_max_offset_left),"right"==s&&(t=window.tn.canvas_max_offset_left+window.tn.canvas_max_width),"center"==s&&(t=window.tn.canvas_max_offset_left+window.tn.canvas_max_width/2),n.css("left",t+"px"),"top"==e&&(i=window.tn.canvas_max_offset_top),"bottom"==e&&(i=window.tn.canvas_max_offset_top+window.tn.canvas_max_height),"center"==e&&(i=window.tn.canvas_max_offset_top+window.tn.canvas_max_height/2)),n.css("top",i+"px")}function elem__removeAxis(){$(".tn-axis").remove()}function elem__updateUIControls(e){var t=elem__getFieldValue(e,"container"),i=elem__getFieldValue(e,"lock");"y"==i?e.draggable("disable"):(window.tn.flags.isMultiEdit||elem__getFieldValue(e,"groupid")||e.draggable("enable"),"window"==t?e.addClass("tn-elem__fluid"):e.removeClass("tn-elem__fluid")),"y"==i?e.addClass("tn-elem__locked"):e.removeClass("tn-elem__locked")}function elem__getWidth(e,t){return void 0===t&&(t=parseInt(elem__getFieldValue(e,"width"))),t="%"==elem__getFieldValue(e,"widthunits")?"window"==elem__getFieldValue(e,"container")?parseInt(window.tn.canvas_max_width*parseFloat(parseInt(t)/100)):parseInt(window.tn.canvas_min_width*parseFloat(parseInt(t)/100)):t}function elem__getHeight(e,t){void 0===t&&(t=elem__getFieldValue(e,"height")),t=parseInt(t,10);var i=e.attr("data-elem-type");return["shape","video","html","gallery","button"].includes(i)?"%"==elem__getFieldValue(e,"heightunits")&&(t="window"==elem__getFieldValue(e,"container")?parseInt(window.tn.canvas_max_height*parseFloat(t/100)):parseInt(window.tn.canvas_min_height*parseFloat(t/100))):"button"!=e.attr("data-elem-type")&&(t=parseInt(e.innerHeight(),10)),t}function elem__renderForm(e,t){t_zeroForms__renderForm(e,t)}function elem__getRealPosition(e){var t=elem__getFieldValue(e,"groupid"),i=e.css("left"),e=e.css("top");return t&&(t=$("#"+t+".tn-group"),i=parseInt(i,10)+parseInt(t.css("left"),10)+"px",e=parseInt(e,10)+parseInt(t.css("top"),10)+"px"),{left:parseInt(i,10),top:parseInt(e,10)}}function elem__setEditReady(e){e.attr("data-edit-ready",!0),setTimeout(function(){e.removeAttr("data-edit-ready")},3e3)}function elem__removeBasicAnimation(e){elem__emptyField(e,"animduration","","",""),elem__emptyField(e,"animdelay","","",""),elem__emptyField(e,"animdistance","","",""),elem__emptyField(e,"animscale","","",""),elem__emptyField(e,"animtriggeroffset","","",""),elem__emptyField(e,"animprx","","",""),elem__emptyField(e,"animprxs","","",""),elem__emptyField(e,"animprxdy","","",""),elem__emptyField(e,"animprxdx","","",""),elem__emptyField(e,"animfix","","",""),elem__emptyField(e,"animfixdist","","",""),elem__emptyField(e,"animfixtrgofst","","",""),elem__emptyField(e,"animstyle","","","")}function elem__removeSBSAnimation(e){e.each(function(){var e=$(this);elem__emptyField(e,"sbsevent","",""),elem__emptyField(e,"sbstrg","",""),elem__emptyField(e,"sbstrgofst","",""),elem__emptyField(e,"sbstrgels","",""),elem__emptyField(e,"sbsopts","",""),elem__emptyField(e,"sbsloop","",""),elem__setFieldValue(e,"animmobile","","","updateui",window.tn.topPosition)})}function addElem(e,t){var i;return"text"==e.elem_type&&(i=addText(e,t)),"image"==e.elem_type&&(i=addImage(e,t)),"shape"==e.elem_type&&(i=addShape(e,t)),"button"==e.elem_type&&(i=addButton(e,t)),"video"==e.elem_type&&(i=addVideo(e,t)),"tooltip"==e.elem_type&&(i=addTooltip(e,t)),"html"==e.elem_type&&(i=addHtml(e,t)),"form"==e.elem_type&&(i=addForm(e,t)),"gallery"==e.elem_type&&(i=addGallery(e,t)),i="vector"==e.elem_type?addVector(e,t):i}function addFake(e,t){tn_console("func: addFFake"),e.elem_id=Date.now(),$(".tn-artboard").append('<div class="tn-elem tn-elem__fake" id="'+e.elem_id+'" data-elem-id="'+e.elem_id+'" data-elem-type="fake"><div class="tn-atom"></div></div>');var i=$("#"+e.elem_id),n=t.split(",");return i.attr("data-fields",t),addElem__setFieldValues(i,n,e),i}function addElem__setFieldValues(n,e,o){e.forEach(function(t){var e,i;"inputs"!==t&&(e=o[t],elem__setFieldValue(n,t,e,"","",window.tn.topResolution),window.tn.screens.forEach(function(e){e!=window.tn.topResolution&&void 0!==(i=o[t+"-res-"+e])&&elem__setFieldValue(n,t,i,"","",e)}))})}function addElem__getInitialElementPosition__getOffsets(){var e=window.tn.zoom,t=window.innerWidth,i=window.innerHeight,n=document.querySelector(".tn-canvas-max").getBoundingClientRect(),o=document.querySelector(".tn-canvas-min").getBoundingClientRect(),s=document.querySelector(".tn-mainmenu"),l=document.querySelector(".tn-layers"),a=document.querySelector(".tn-rulers-plug"),d=document.querySelector(".tn-right-box"),s=s.getBoundingClientRect().height,a=window.tn.flags.isRulersShow?a.getBoundingClientRect().width:0,l="open"===window.tn.flags.isLayersPanelOpen?l.getBoundingClientRect().width:0,d=sessionStorage.getItem("tzerosettingspanel")?d.getBoundingClientRect().width:0,s=s+a,l=l+a;return{topOffset:s,leftOffset:l,isCanvasOffsetFromWindow:n.top/e<(i-s-a-50)/e&&n.left/e<(t-l-d-a-50)/e,canvasMinRect:o}}function addElem__getInitialElementPosition(e,t={top:0,left:0}){var i=window.tn.zoom;if(e)return n=document.querySelector(".tn-canvas-min").getBoundingClientRect(),{top:(e.top-n.top)/i,left:(e.left-n.left)/i};var{topOffset:e,leftOffset:n,isCanvasOffsetFromWindow:o,canvasMinRect:s}=addElem__getInitialElementPosition__getOffsets();let l,a;return l=0<s.top-e&&o?20+t.top:o?(Math.abs(s.top)+e+20+t.top)/i:(-1*s.top+e+20+t.top)/i,a=0<s.left-n&&o?20+t.left:o?(Math.abs(s.left)+n+20+t.left)/i:(-1*s.left+n+20+t.left)/i,{top:l,left:a}}function addText(e,t,i){tn_console("func: addText"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"text",text:get__Rendom__Text()},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="560",e.fontsize="20",e.lineheight="1.55",e.color="#000000",e.zindex=allelems__getHighestZIndex()+1,void 0!==window.tn.textfont&&"undefined"!=window.tn.textfont&&""!=window.tn.textfont?e.fontfamily=window.tn.textfont:e.fontfamily="Arial",void 0!==window.tn.textfontweight&&"undefined"!=window.tn.textfontweight&&""!=window.tn.textfontweight?e.fontweight=window.tn.textfontweight:e.fontweight="400"),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.rotate&&(e.rotate="0"),void 0===e.opacity&&(e.opacity="1"),void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.link&&(e.link=""),void 0===e.linktarget&&(e.linktarget=""),void 0===e.relnofollow&&(e.relnofollow=""),void 0===e.borderwidth&&(e.borderwidth=""),void 0===e.borderstyle&&(e.borderstyle=""),void 0===e.bordercolor&&(e.bordercolor=""),void 0===e.borderradius&&(e.borderradius=""),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.color&&(e.color=""),void 0===e.classname&&(e.classname=""),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.tag&&(e.tag="div"),void 0===e.align&&(e.align="left"),void 0===e.letterspacing&&(e.letterspacing="0"),void 0===e.pevent&&(e.pevent=""),void 0===e.layer&&(e.layer=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.effects&&(e.effects="")),void 0===e.fontweight||isNaN(parseInt(e.fontweight,10))||parseInt(e.fontweight,10)%100!=0&&(e.variationweight=e.fontweight,e.fontweight="variation"),""===e.widthunits&&(e.widthunits="px"),""===e.topunits&&(e.topunits="px"),void 0===e.text&&(e.text=""),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,t=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+'" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),n=(t.html('<div class="tn-atom" field="tn_text_'+e.elem_id+'"></div>'),e.text=e.text.replace(/<font(.*?[^<])>/gi,""),e.text=e.text.replace(/<\/font>/gi,""),t.find(".tn-atom").html("q"===window.ver_redactor?Quill.addNbspMarkers(e.text):e.text),"groupid,classname,top,left,align,fontsize,width,color,fontfamily,lineheight,fontweight,variationweight,letterspacing,lettercase,opacity,rotate,zindex,container,axisx,axisy,tag,link,linktarget,relnofollow,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,lock,invisible,leftunits,topunits,widthunits,pevent,animstyle,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,sbstrgels,layer,effects"),o=n.split(",");return t.attr("data-fields",n),elem__addUiClickEvents__text(t),t.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),t.on("elementSelected","",{elem_id:i},layers__hightlight),t.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(t,o,e),elem__renderView(t),t.append('<div class="ui-pseudo-handle-fix-e"></div>'),t.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(t,"lock")&&t.draggable("disable"),"y"==elem__getFieldValue(t,"invisible")&&t.addClass("tn-elem__invisible"),t}function addImage(e,t,i){tn_console("func: addImage"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"image",img:"https://tilda.ws/img/imgfishsquare.gif"},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="200",e.zindex=allelems__getHighestZIndex()+1),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.width&&(e.width="10"),void 0===e.rotate&&(e.rotate="0"),void 0===e.opacity&&(e.opacity="1"),void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.link&&(e.link=""),void 0===e.linktarget&&(e.linktarget=""),void 0===e.relnofollow&&(e.relnofollow=""),void 0===e.borderwidth&&(e.borderwidth=""),void 0===e.borderstyle&&(e.borderstyle=""),void 0===e.bordercolor&&(e.bordercolor=""),void 0===e.borderradius&&(e.borderradius=""),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.classname&&(e.classname=""),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.alt&&(e.alt=""),void 0===e.filewidth&&(e.filewidth=""),void 0===e.fileheight&&(e.fileheight=""),void 0===e.zoomable&&(e.zoomable=""),void 0===e.lazyoff&&(e.lazyoff=""),void 0===e.pevent&&(e.pevent=""),void 0===e.layer&&(e.layer=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.shadowopacity&&(e.shadowopacity=""),void 0===e.shadowblur&&(e.shadowblur=""),void 0===e.shadowspread&&(e.shadowspread=""),void 0===e.shadowx&&(e.shadowx=""),void 0===e.shadowy&&(e.shadowy=""),void 0===e.amazonsrc&&(e.amazonsrc=""),void 0===e.uploaderror&&(e.uploaderror=""),void 0===e.buttonstat&&(e.buttonstat=""),void 0===e.effects&&(e.effects="")),""===e.widthunits&&(e.widthunits="px"),""===e.topunits&&(e.topunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,o=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+' tn-elem__image" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),t=(o.html('<div class="tn-atom"></div>'),o.find(".tn-atom").html('<img src="" class="tn-atom__img" width="100%" style="display:block;" imgfield="tn_img_'+i+'" data-tu-noclick="yes" data-tu-is-image="yes" data-tu-multiple="no">'),"amazonsrc,uploaderror,groupid,classname,img,width,filewidth,fileheight,top,left,opacity,rotate,zindex,container,axisx,axisy,link,buttonstat,linktarget,relnofollow,borderwidth,borderradius,bordercolor,borderstyle,shadowcolor,shadowopacity,shadowblur,shadowspread,shadowx,shadowy,alt,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,lock,invisible,leftunits,topunits,widthunits,zoomable,lazyoff,pevent,animstyle,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,sbstrgels,layer,effects"),n=t.split(",");return o.attr("data-fields",t),elem__addUiClickEvents__image(o),o.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),o.on("elementSelected","",{elem_id:i},layers__hightlight),o.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(o,n,e),elem__renderView(o),o.find(".tn-atom__img").one("load",function(){elem__renderViewOneField(o,"top")}).each(function(){this.complete&&$(this).load()}),o.find(".tn-atom__img").on("load",function(){tn_setOutlinePosition("selected")}),o.append('<div class="ui-pseudo-handle-fix-e"></div>'),o.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(o,"lock")&&o.draggable("disable"),"y"==elem__getFieldValue(o,"invisible")&&o.addClass("tn-elem__invisible"),o}function addShape(e,t,i){tn_console("func: addShape"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"shape"},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="100",e.height="100",e.bgcolor="#fff705",e.zindex=allelems__getHighestZIndex()+1),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.width&&(e.width="1"),void 0===e.rotate&&(e.rotate="0"),void 0===e.opacity&&(e.opacity="1"),void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.link&&(e.link=""),void 0===e.linktarget&&(e.linktarget=""),void 0===e.relnofollow&&(e.relnofollow=""),void 0===e.borderwidth&&(e.borderwidth=""),void 0===e.borderstyle&&(e.borderstyle=""),void 0===e.bordercolor&&(e.bordercolor=""),void 0===e.borderradius&&(e.borderradius=""),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.classname&&(e.classname=""),void 0===e.bgimg&&(e.bgimg=""),void 0===e.bgattachment&&(e.bgattachment="static"),void 0===e.bgposition&&(e.bgposition="center center"),void 0===e.heightunits&&(e.heightunits="px"),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.bgcolor&&(e.bgcolor=""),void 0===e.figure&&(e.figure="rectangle"),void 0===e.zoomable&&(e.zoomable=""),void 0===e.lazyoff&&(e.lazyoff=""),void 0===e.pevent&&(e.pevent=""),void 0===e.layer&&(e.layer=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.shadowopacity&&(e.shadowopacity=""),void 0===e.shadowblur&&(e.shadowblur=""),void 0===e.shadowspread&&(e.shadowspread=""),void 0===e.shadowx&&(e.shadowx=""),void 0===e.shadowy&&(e.shadowy=""),void 0===e.amazonsrc&&(e.amazonsrc=""),void 0===e.uploaderror&&(e.uploaderror=""),void 0===e.buttonstat&&(e.buttonstat=""),void 0===e.effects&&(e.effects="")),""===e.widthunits&&(e.widthunits="px"),""===e.heightunits&&(e.heightunits="px"),""===e.topunits&&(e.topunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,t=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+'" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),n=(t.html('<div class="tn-atom" bgimgfield="tn_img_'+i+'" data-tu-noclick="yes" data-tu-is-image="yes" data-tu-multiple="no"></div>'),"amazonsrc,uploaderror,groupid,classname,width,height,figure,bgcolor,bgimg,bgattachment,bgposition,bgposition_imgpos,bgposition_imgsize,top,left,opacity,rotate,zindex,container,axisx,axisy,link,buttonstat,linktarget,relnofollow,borderwidth,borderradius,bordercolor,borderstyle,shadowcolor,shadowopacity,shadowblur,shadowspread,shadowx,shadowy,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,lock,invisible,leftunits,topunits,widthunits,heightunits,zoomable,lazyoff,pevent,animstyle,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,sbstrgels,layer,effects"),o=n.split(",");return t.attr("data-fields",n),elem__addUiClickEvents__shape(t),t.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),t.on("elementSelected","",{elem_id:i},layers__hightlight),t.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(t,o,e),elem__renderView(t),t.append('<div class="ui-pseudo-handle-fix-e"></div>'),t.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(t,"lock")&&t.draggable("disable"),"y"==elem__getFieldValue(t,"invisible")&&t.addClass("tn-elem__invisible"),"line"==e.figure&&(t.find(".ui-resizable-s").css("display","none"),t.find(".ui-resizable-n").css("display","none"),t.find(".ui-resizable-se").css("display","none"),t.find(".ui-resizable-sw").css("display","none"),t.find(".ui-resizable-ne").css("display","none"),t.find(".ui-resizable-nw").css("display","none"),t.resizable("option","grid","1,1")),t}function addButton(e,t,i){tn_console("func: addButton"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"button",caption:"LET'S GO!"},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="200",e.height="55",e.fontsize="14",e.fontfamily="Arial",e.fontweight="600",e.lineheight="1.55",e.color="#ffffff",e.bgcolor="#000000",e.zindex=allelems__getHighestZIndex()+1,e.borderradius="30",e.speedhover="0.2"),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.width&&(e.width="1"),void 0===e.rotate&&(e.rotate="0"),void 0===e.opacity&&(e.opacity="1"),void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.link&&(e.link=""),void 0===e.linktarget&&(e.linktarget=""),void 0===e.relnofollow&&(e.relnofollow=""),void 0===e.buttonstat&&(e.buttonstat=""),void 0===e.borderwidth&&(e.borderwidth=""),void 0===e.borderstyle&&(e.borderstyle=""),void 0===e.bordercolor&&(e.bordercolor=""),void 0===e.borderradius&&(e.borderradius=""),void 0===e.heightunits&&(e.heightunits="px"),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.classname&&(e.classname=""),void 0===e.letterspacing&&(e.letterspacing="0"),void 0===e.align&&(e.align="center"),void 0===e.colorhover&&(e.colorhover=""),void 0===e.bordercolorhover&&(e.bordercolorhover=""),void 0===e.bgcolorhover&&(e.bgcolorhover=""),void 0===e.speedhover&&(e.speedhover=""),void 0===e.color&&(e.color=""),void 0===e.bgcolor&&(e.bgcolor=""),void 0===e.caption&&(e.caption=""),void 0===e.layer&&(e.layer=""),void 0===e.pevent&&(e.pevent=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.shadowopacity&&(e.shadowopacity=""),void 0===e.shadowblur&&(e.shadowblur=""),void 0===e.shadowspread&&(e.shadowspread=""),void 0===e.shadowx&&(e.shadowx=""),void 0===e.shadowy&&(e.shadowy=""),void 0===e.effects&&(e.effects="")),void 0===e.fontweight||isNaN(parseInt(e.fontweight,10))||parseInt(e.fontweight,10)%100!=0&&(e.variationweight=e.fontweight,e.fontweight="variation"),""===e.topunits&&(e.topunits="px"),""===e.widthunits&&(e.widthunits="px"),""===e.heightunits&&(e.heightunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,t=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+'" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),n=(t.html('<div class="tn-atom" field="tn_text_'+e.elem_id+'"></div>'),t.find(".tn-atom").html(e.caption),"groupid,classname,top,left,align,fontsize,width,height,color,fontfamily,lineheight,fontweight,variationweight,letterspacing,lettercase,bgcolor,opacity,rotate,zindex,container,axisx,axisy,caption,link,linktarget,relnofollow,buttonstat,borderwidth,borderradius,bordercolor,borderstyle,shadowcolor,shadowopacity,shadowblur,shadowspread,shadowx,shadowy,pevent,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,bgcolorhover,bordercolorhover,colorhover,speedhover,lock,invisible,leftunits,topunits,widthunits,heightunits,animstyle,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,sbstrgels,layer,effects"),o=n.split(",");return t.attr("data-fields",n),elem__addUiClickEvents__button(t),t.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),t.on("elementSelected","",{elem_id:i},layers__hightlight),t.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(t,o,e),elem__renderView(t),t.append('<div class="ui-pseudo-handle-fix-e"></div>'),t.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(t,"lock")&&t.draggable("disable"),"y"==elem__getFieldValue(t,"invisible")&&t.addClass("tn-elem__invisible"),t}function addVideo(e,t,i){tn_console("func: addVideo"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"video"},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="760",e.height="420",e.bgcolor="#000",e.zindex=allelems__getHighestZIndex()+1,e.vidtype="y"),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.width&&(e.width="10"),void 0===e.rotate&&(e.rotate="0"),void 0===e.opacity&&(e.opacity="1"),void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.classname&&(e.classname=""),void 0===e.bgimg&&(e.bgimg=""),void 0===e.heightunits&&(e.heightunits="px"),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.youtubeid&&(e.youtubeid=""),void 0===e.vimeoid&&(e.vimeoid=""),void 0===e.vimeohash&&(e.vimeohash=""),void 0===e.mp4video&&(e.mp4video=""),void 0===e.objectfitvideo&&(e.objectfitvideo=""),void 0===e.mp4controls&&(e.mp4controls=""),void 0===e.showinfo&&(e.showinfo=""),void 0===e.mute&&(e.mute=""),void 0===e.loop&&(e.loop=""),void 0===e.startsec&&(e.startsec=""),void 0===e.endsec&&(e.endsec=""),void 0===e.autoplay&&(e.autoplay=""),void 0===e.layer&&(e.layer=""),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.shadowopacity&&(e.shadowopacity=""),void 0===e.shadowblur&&(e.shadowblur=""),void 0===e.shadowspread&&(e.shadowspread=""),void 0===e.shadowx&&(e.shadowx=""),void 0===e.shadowy&&(e.shadowy=""),void 0===e.borderwidth&&(e.borderwidth=""),void 0===e.borderstyle&&(e.borderstyle=""),void 0===e.bordercolor&&(e.bordercolor=""),void 0===e.borderradius&&(e.borderradius="")),""===e.widthunits&&(e.widthunits="px"),""===e.heightunits&&(e.heightunits="px"),""===e.topunits&&(e.topunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop=""),void 0===e.vidtype&&(e.vidtype="y",""!==e.vimeoid&&(e.vidtype="v"),""!==e.mp4video)&&(e.vidtype="html");var i=e.elem_id,n=e.elem_type,t=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+'" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),n=(t.html('<div class="tn-atom" bgimgfield="tn_img_'+i+'" data-tu-noclick="yes" data-tu-is-image="yes" data-tu-multiple="no" style="background-position:center center; background-color:#000; height: 100%;"></div>'),"groupid,classname,width,height,bgimg,top,left,opacity,rotate,zindex,container,axisx,axisy,vidtype,youtubeid,vimeoid,vimeohash,mp4video,objectfitvideo,mp4controls,showinfo,mute,loop,autoplay,startsec,endsec,borderwidth,borderradius,bordercolor,borderstyle,shadowcolor,shadowopacity,shadowblur,shadowspread,shadowx,shadowy,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,lock,invisible,leftunits,topunits,widthunits,heightunits,animstyle,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,sbstrgels,layer"),o=n.split(",");return t.attr("data-fields",n),elem__addUiClickEvents__video(t),t.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),t.on("elementSelected","",{elem_id:i},layers__hightlight),t.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(t,o,e),elem__renderView(t),t.append('<div class="ui-pseudo-handle-fix-e"></div>'),t.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(t,"lock")&&t.draggable("disable"),"y"==elem__getFieldValue(t,"invisible")&&t.addClass("tn-elem__invisible"),t}function addHtml(e,t,i){tn_console("func: addHtml"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"html"},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="560",e.height="170",e.code="0"===window.oplan?"<div>Embed HTML-code is not available on Free plan. Please upgrade your subscription.</div>":"<div>Hello world!</div>",e.zindex=allelems__getHighestZIndex()+1),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.classname&&(e.classname=""),void 0===e.heightunits&&(e.heightunits="px"),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.code&&(e.code=""),void 0===e.layer&&(e.layer=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst="")),""===e.widthunits&&(e.widthunits="px"),""===e.heightunits&&(e.heightunits="px"),""===e.topunits&&(e.topunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,t=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+'" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),n=(t.html('<div class="tn-atom" style="background-color:rgba(29, 29, 29, 0.9);vertical-align:top;"></div>'),t.find(".tn-atom").html('<div class="tn-atom__html-wrapp"><textarea class="tn-atom__html-textarea"></textarea></div>'),t.find(".tn-atom__html-textarea").val(e.code),"groupid,classname,width,height,top,left,zindex,container,axisx,axisy,code,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,lock,invisible,leftunits,topunits,widthunits,heightunits,animstyle,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,sbstrgels,layer"),o=n.split(",");return t.attr("data-fields",n),elem__addUiClickEvents__html(t),t.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),t.on("elementSelected","",{elem_id:i},layers__hightlight),t.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(t,o,e),elem__renderView(t),t.append('<div class="ui-pseudo-handle-fix-e"></div>'),t.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(t,"lock")&&t.draggable("disable"),"y"==elem__getFieldValue(t,"invisible")&&t.addClass("tn-elem__invisible"),t}function addTooltip(e,t,i){tn_console("func: addTooltip"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"tooltip"},i=addElem__getInitialElementPosition(i,{top:100,left:120}),e.top=i.top,e.left=i.left,e.width="25",e.zindex=allelems__getHighestZIndex()+1,e.tipcaption="Curiosity about life in all its aspects, I think, is still the secret of great creative people.",e.align="left",e.bgcolor="#ff7300",e.tipbgcolor="#ffffff",e.tipradius="10",e.tipwidth="280",e.tipshadowblur="15",e.shadowcolor="#000000",e.shadowopacity="0.3",e.shadowblur="20",e.fontsize="14",e.lineheight="1.4",e.color="#000000",void 0!==window.tn.textfont&&"undefined"!=window.tn.textfont&&""!=window.tn.textfont?e.fontfamily=window.tn.textfont:e.fontfamily="Arial",void 0!==window.tn.textfontweight&&"undefined"!=window.tn.textfontweight&&""!=window.tn.textfontweight?e.fontweight=window.tn.textfontweight:e.fontweight="400"),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.opacity&&(e.opacity="1"),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.align&&(e.align="left"),void 0===e.letterspacing&&(e.letterspacing="0"),void 0===e.layer&&(e.layer=""),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.classname&&(e.classname=""),void 0===e.bgcolor&&(e.bgcolor=""),void 0===e.bordercolor&&(e.bordercolor=""),void 0===e.borderwidth&&(e.borderwidth=""),void 0===e.tipbgcolor&&(e.tipbgcolor=""),void 0===e.tipradius&&(e.tipradius=""),void 0===e.tipshadowblur&&(e.tipshadowblur=""),void 0===e.tipwidth&&(e.tipwidth="260"),void 0===e.tipposition&&(e.tipposition=""),void 0===e.tipcaption&&(e.tipcaption=""),void 0===e.tipimg&&(e.tipimg=""),void 0===e.tipopen&&(e.tipopen=""),void 0===e.pinicon&&(e.pinicon=""),void 0===e.pincolor&&(e.pincolor=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.shadowx&&(e.shadowx=""),void 0===e.shadowy&&(e.shadowy="")),void 0===e.fontweight||isNaN(parseInt(e.fontweight,10))||parseInt(e.fontweight,10)%100!=0&&(e.variationweight=e.fontweight,e.fontweight="variation"),""===e.topunits&&(e.topunits="px"),""===e.widthunits&&(e.widthunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,o=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+' tn-elem__tooltip" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),t=(o.html('<div class="tn-atom tn-atom__pin" bgimgfield="tn_img_'+i+'" data-tu-noclick="yes" data-tu-is-image="yes" data-tu-multiple="no"></div>'),o.append('<div class="tn-atom__tip"><div class="tn-atom__tip-text" field="tn_text_'+e.elem_id+'"></div></div>'),o.find(".tn-atom__tip-text").html(e.tipcaption),"groupid,classname,width,align,bgimg,fontsize,bgcolor,borderwidth,bordercolor,top,left,opacity,color,fontfamily,lineheight,fontweight,variationweight,letterspacing,lettercase,zindex,container,axisx,axisy,shadowcolor,shadowopacity,shadowblur,shadowspread,shadowx,shadowy,lock,invisible,leftunits,topunits,widthunits,pinicon,pincolor,tipimg,tipbgcolor,tipradius,tipshadowblur,tipwidth,tipposition,tipopen,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,animstyle,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,sbstrgels,layer"),n=t.split(",");return o.attr("data-fields",t),elem__addUiClickEvents__tooltip(o),o.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),o.on("elementSelected","",{elem_id:i},layers__hightlight),o.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(o,n,e),elem__renderView(o),o.append('<div class="ui-pseudo-handle-fix-e"></div>'),o.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(o,"lock")&&o.draggable("disable"),"y"==elem__getFieldValue(o,"invisible")&&o.addClass("tn-elem__invisible"),o.resizable("option","grid","1,1"),setInterval(function(){elem__renderViewOneField(o,"tipposition")},1e3),o}function addForm(e,t,i){tn_console("func: addHtml"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"form"},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="460",e.zindex=allelems__getHighestZIndex()+1,e.inputpos="v",e.inputcolor="#000",e.inputbgcolor="#fff",e.inputbordercolor="#000",e.inputbordersize="1",e.inputfontfamily="Arial",e.fieldfontfamily="",e.inputfontsize="16",e.inputfontweight="400",e.inputheight="50",e.inputmargbottom="20",e.inputmargright="20",e.inputtitlecolor="#000",e.inputtitlefontsize="16",e.inputtitlefontweight="400",e.inputtitlemargbottom="5",e.inputelsfontsize="14",e.inputelsfontweight="400",e.buttontitle="SUBMIT",e.buttoncolor="#fff",e.buttonbgcolor="#000",e.buttonwidth="160",e.buttonheight="50",e.buttonmargtop="",e.buttonfontfamilty="Arial",e.buttonfontweight="600",e.buttonfontsize="14",e.inputs='{"0":{"lid":"1531306243545","ls":"10","loff":"","li_type":"em","li_name":"email","li_title":"Your email","li_ph":"mail@example.com","li_nm":"email"},"1":{"lid":"1531306540094","ls":"20","loff":"","li_type":"nm","li_name":"name","li_title":"Your Name","li_ph":"John Smith","li_nm":"name"}}'),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.classname&&(e.classname=""),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.layer&&(e.layer=""),void 0===e.inputs&&(e.inputs=""),void 0===e.receivers&&(e.receivers=""),void 0===e.receivers_names&&(e.receivers_names=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.inputpos&&(e.inputpos="v"),void 0===e.inputfontfamily&&(e.inputfontfamily=""),void 0===e.fieldfontfamily&&(e.fieldfontfamily=""),void 0===e.inputfontsize&&(e.inputfontsize=""),void 0===e.inputfontweight&&(e.inputfontweight=""),void 0===e.inputcolor&&(e.inputcolor=""),void 0===e.inputbgcolor&&(e.inputbgcolor=""),void 0===e.inputbordercolor&&(e.inputbordercolor=""),void 0===e.inputbordersize&&(e.inputbordersize=""),void 0===e.inputradius&&(e.inputradius=""),void 0===e.inputheight&&(e.inputheight=""),void 0===e.inputmargbottom&&(e.inputmargbottom=""),void 0===e.inputmargright&&(e.inputmargright=""),void 0===e.inputtitlefontsize&&(e.inputfontsize=""),void 0===e.inputtitlefontweight&&(e.inputtitlefontweight=""),void 0===e.inputtitlecolor&&(e.inputtitlecolor=""),void 0===e.inputtitlemargbottom&&(e.inputtitlemargbottom=""),void 0===e.inputelscolor&&(e.inputelscolor=""),void 0===e.inputelsfontsize&&(e.inputelsfontsize=""),void 0===e.inputelsfontweight&&(e.inputelsfontweight=""),void 0===e.inputsstyle&&(e.inputsstyle=""),void 0===e.inputsstyle2&&(e.inputsstyle2=""),void 0===e.buttonalign&&(e.buttonalign=""),void 0===e.buttoncolor&&(e.buttoncolor=""),void 0===e.buttonbgcolor&&(e.buttonbgcolor=""),void 0===e.buttonbordercolor&&(e.buttonbordercolor=""),void 0===e.buttonhovercolor&&(e.buttonhovercolor=""),void 0===e.buttonhoverbgcolor&&(e.buttonhoverbgcolor=""),void 0===e.buttonhoverbordercolor&&(e.buttonhoverbordercolor=""),void 0===e.buttonhovershadowsize&&(e.buttonhovershadowsize=""),void 0===e.buttonbordersize&&(e.buttonbordersize=""),void 0===e.buttonradius&&(e.buttonradius=""),void 0===e.buttonwidth&&(e.buttonwidth=""),void 0===e.buttonheight&&(e.buttonheight=""),void 0===e.buttonmargtop&&(e.buttonmargtop=""),void 0===e.buttonshadowsize&&(e.buttonshadowsize=""),void 0===e.buttonshadowopacity&&(e.buttonshadowopacity=""),void 0===e.buttonfontfamily&&(e.buttonfontfamily=""),void 0===e.buttonfontsize&&(e.buttonfontsize=""),void 0===e.buttonfontweight&&(e.buttonfontweight=""),void 0===e.buttonbgcolorhover&&(e.buttonbgcolorhover=""),void 0===e.formname&&(e.formname=""),void 0===e.buttontitle&&(e.buttontitle=""),void 0===e.formmsgsuccess&&(e.formmsgsuccess=""),void 0===e.formmsgurl&&(e.formmsgurl=""),void 0===e.formerrreq&&(e.formerrreq=""),void 0===e.formerremail&&(e.formerremail=""),void 0===e.formerrphone&&(e.formerrphone=""),void 0===e.formerrname&&(e.formerrname=""),void 0===e.formbottomtext&&(e.formbottomtext=""),e.formbottomtext&&(e.formbottomtext=e.formbottomtext.split('"').join("'"))),void 0===e.inputfontweight||isNaN(parseInt(e.inputfontweight,10))||parseInt(e.inputfontweight,10)%100!=0&&(e.inputvariationweight=e.inputfontweight,e.inputfontweight="variation"),void 0===e.inputtitlefontweight||isNaN(parseInt(e.inputtitlefontweight,10))||parseInt(e.inputtitlefontweight,10)%100!=0&&(e.inputtitlevariationweight=e.inputtitlefontweight,e.inputtitlefontweight="variation"),void 0===e.inputelsfontweight||isNaN(parseInt(e.inputelsfontweight,10))||parseInt(e.inputelsfontweight,10)%100!=0&&(e.inputelvariationweight=e.inputelsfontweight,e.inputelsfontweight="variation"),void 0===e.buttonfontweight||isNaN(parseInt(e.buttonfontweight,10))||parseInt(e.buttonfontweight,10)%100!=0&&(e.buttonvariationweight=e.buttonfontweight,e.buttonfontweight="variation"),""===e.widthunits&&(e.widthunits="px"),""===e.topunits&&(e.topunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,o=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+'" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),t=(o.html('<div class="tn-atom" style="vertical-align:top;pointer-events:none;"></div>'),o.append('<div class="tn-atom__inputs-wrapp" style="display:none;"><textarea class="tn-atom__inputs-textarea"></textarea></div>'),e.inputs&&""!=e.inputs&&(e.inputs=e.inputs.replaceAll("&quot;","&amp;quot;")),o.find(".tn-atom__inputs-textarea").val(e.inputs),"groupid,classname,width,top,left,zindex,container,axisx,axisy,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,lock,invisible,leftunits,topunits,widthunits,animstyle,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,sbstrgels,layer,"),n=(t=(t=(t=t+"inputs,receivers,receivers_names,"+"inputpos,inputfontfamily,inputfontsize,inputfontweight,fieldfontfamily,inputvariationweight,inputcolor,inputbgcolor,inputbordercolor,inputbordersize,inputradius,inputheight,inputmargbottom,inputmargright,inputelscolor,inputelsfontsize,inputelsfontweight,inputelsvariationweight,")+"inputtitlefontsize,inputtitlefontweight,inputtitlevariationweight,inputtitlecolor,inputtitlemargbottom,inputsstyle,inputsstyle2,"+"buttontitle,buttonalign,buttoncolor,buttonbgcolor,buttonbordercolor,buttonbordersize,buttonradius,")+"buttonmargtop,buttonwidth,buttonheight,buttonfontfamily,buttonfontsize,buttonfontweight,buttonvariationweight,buttonshadowsize,buttonshadowopacity,buttonhovercolor,buttonhoverbgcolor,buttonhoverbordercolor,buttonhovershadowsize,"+"formmsgsuccess,formmsgurl,formname,formerrreq,formerremail,formerrphone,formerrname,formbottomtext").split(",");return o.attr("data-fields",t),elem__addUiClickEvents__form(o),o.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),o.on("elementSelected","",{elem_id:i},layers__hightlight),o.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(o,n,e),elem__renderView(o),o.append('<div class="ui-pseudo-handle-fix-e"></div>'),o.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(o,"lock")&&o.draggable("disable"),"y"==elem__getFieldValue(o,"invisible")&&o.addClass("tn-elem__invisible"),"h"===elem__getFieldValue(o,"inputpos")&&document.getElementById("t-zero-form-h-styles")?.addEventListener("load",()=>{elem__renderViewOneField(o,"top")}),elem__renderViewOneField(o,"left"),elem__renderViewOneField(o,"top"),o.get(0).addEventListener("render",()=>{var e=elem__getFieldValue(o,"axisx"),t=elem__getFieldValue(o,"axisy");"center"!==e&&"right"!==e||elem__renderViewOneField(o,"left"),"center"!==t&&"bottom"!==t||elem__renderViewOneField(o,"top"),tn_setOutlinePosition("selected")}),o}function addGallery(e,t,i){tn_console("func: addGallery"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"gallery"},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="600",e.height="400",e.imgs=[{lid:Date.now(),li_img:"https://static.tildacdn.com/tild3437-3839-4037-b639-643935383936/jorgenhaland101813.jpg",li_imgalt:"",li_imgtitle:"",li_youtube:"",li_vimeo:"",li_imgurl:"",li_imgtarget:!1,li_imgnofollow:!1},{lid:Date.now()+1,li_img:"https://static.tildacdn.com/tild6637-6131-4438-a662-626134663032/cherrylaithang138648.jpg",li_imgalt:"",li_imgtitle:"",li_youtube:"",li_vimeo:"",li_imgurl:"",li_imgtarget:!1,li_imgnofollow:!1}],e.slds_playiconsize="70",e.slds_playiconcolor="#fff",e.slds_dotscontrols="none",e.slds_dotsbgcolor="#999999",e.slds_dotsbgcoloractive="#222",e.slds_arrowsize="s",e.slds_dotssize="8",e.slds_dotsvmargin="10",e.slds_dotshmargin="15",e.slds_arrowcolor="#000",e.slds_arrowbgcolor="#e8e8e8",e.slds_arrowcontrols="in",e.slds_arrowhmargin="20",e.slds_arrowvmargin="10",e.slds_arrowbetweenmargin="10",e.slds_loop="loop",e.imgs=JSON.stringify(e.imgs),e.zindex=allelems__getHighestZIndex()+1,e.fontsize="14",e.align="center",e.fontfamily="Arial",e.fontweight="400",e.lineheight="1.55",e.slds_arrowalign="center",e.slds_captiontopmargin="20",e.slds_captionwidth="80"),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.width&&(e.width="10"),void 0===e.rotate&&(e.rotate="0"),void 0===e.opacity&&(e.opacity="1"),void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.lock&&(e.lock=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.classname&&(e.classname=""),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.heightunits&&(e.heightunits="px"),void 0===e.filewidth&&(e.filewidth=""),void 0===e.fileheight&&(e.fileheight=""),void 0===e.lazyoff&&(e.lazyoff=""),void 0===e.layer&&(e.layer=""),void 0===e.borderwidth&&(e.borderwidth=""),void 0===e.borderstyle&&(e.borderstyle=""),void 0===e.bordercolor&&(e.bordercolor=""),void 0===e.borderradius&&(e.borderradius=""),void 0===e.zoomable&&(e.zoomable=""),void 0===e.align&&(e.align="left"),void 0===e.color&&(e.color=""),void 0===e.fontsize&&(e.fontsize=""),void 0===e.fontfamily&&(e.fontfamily=""),void 0===e.fontweight&&(e.fontweight=""),void 0===e.lineheight&&(e.lineheight=""),void 0===e.letterspacing&&(e.letterspacing=""),void 0===e.slds_stretch&&(e.slds_stretch="cover"),void 0===e.slds_imgposition&&(e.slds_imgposition="center center"),void 0===e.slds_loop&&(e.slds_loop=""),void 0===e.slds_arrowcontrols&&(e.slds_arrowcontrols=""),void 0===e.slds_arrowtype&&(e.slds_arrowtype=""),void 0===e.slds_arrowsize&&(e.slds_arrowsize=""),void 0===e.slds_arrowlinesize&&(e.slds_arrowlinesize="1"),void 0===e.slds_arrowcolor&&(e.slds_arrowcolor=""),void 0===e.slds_arrowcolorhover&&(e.slds_arrowcolorhover=""),void 0===e.slds_arrowbgcolor&&(e.slds_arrowbgcolor=""),void 0===e.slds_arrowbgcolorhover&&(e.slds_arrowbgcolorhover=""),void 0===e.slds_arrowbgopacity&&(e.slds_arrowbgopacity=""),void 0===e.slds_arrowbgopacityhover&&(e.slds_arrowbgopacityhover=""),void 0===e.slds_dotscontrols&&(e.slds_dotscontrols=""),void 0===e.slds_dotssize&&(e.slds_dotssize=""),void 0===e.slds_dotsbgcolor&&(e.slds_dotsbgcolor=""),void 0===e.slds_dotsbgcoloractive&&(e.slds_dotsbgcoloractive=""),void 0===e.slds_dotsvmargin&&(e.slds_dotsvmargin=""),void 0===e.slds_speed&&(e.slds_speed=""),void 0===e.slds_autoplay&&(e.slds_autoplay=""),void 0===e.slds_playiconsize&&(e.slds_playiconsize=""),void 0===e.slds_playiconcolor&&(e.slds_playiconcolor=""),void 0===e.slds_captiontopmargin&&(e.slds_captiontopmargin=""),void 0===e.slds_captionwidth&&(e.slds_captionwidth=""),void 0===e.slds_arrowhmargin&&(e.slds_arrowhmargin=""),void 0===e.slds_arrowvmargin&&(e.slds_arrowvmargin=""),void 0===e.slds_dotshmargin&&(e.slds_dotshmargin=""),void 0===e.slds_arrowbetweenmargin&&(e.slds_arrowbetweenmargin=""),void 0===e.slds_arrowalign&&(e.slds_arrowalign=""),void 0===e.slds_arrowborder&&(e.slds_arrowborder=""),void 0===e.imgs&&(e.imgs=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.sbstrgels&&(e.sbstrgels=""),void 0===e.shadowcolor&&(e.shadowcolor=""),void 0===e.shadowopacity&&(e.shadowopacity=""),void 0===e.shadowblur&&(e.shadowblur=""),void 0===e.shadowspread&&(e.shadowspread=""),void 0===e.shadowx&&(e.shadowx=""),void 0===e.shadowy&&(e.shadowy="")),void 0===e.fontweight||isNaN(parseInt(e.fontweight,10))||parseInt(e.fontweight,10)%100!=0&&(e.variationweight=e.fontweight,e.fontweight="variation"),""===e.widthunits&&(e.widthunits="px"),""===e.heightunits&&(e.heightunits="px"),""===e.topunits&&(e.topunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,t=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+'" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),n=(t.html('<div class="tn-atom"></div>'),"groupid,classname,imgs,width,height,filewidth,fileheight,top,left,opacity,rotate,zindex,container,axisx,axisy,lock,invisible,leftunits,topunits,widthunits,heightunits,lazyoff,"),o=(n=(n=n+"slds_arrowsize,slds_arrowlinesize,slds_arrowcolor,slds_arrowcolorhover,slds_arrowbgcolor,slds_arrowbgcolorhover,slds_arrowbgopacity,slds_arrowbgopacityhover,slds_dotssize,slds_dotsbgcolor,slds_dotsbgcoloractive,slds_loop,slds_speed,slds_autoplay,"+"animstyle,animduration,animdelay,animdistance,animscale,animtriggeroffset,animprx,animprxs,animprxdy,animprxdx,animfix,animfixdist,animfixtrgofst,animmobile,sbsevent,sbstrg,sbstrgofst,sbsloop,sbsopts,align,color,fontsize,fontfamily,fontweight,variationweight,lineheight,letterspacing,lettercase,layer,")+"slds_arrowcontrols,slds_dotscontrols,slds_stretch,slds_playiconsize,slds_playiconcolor,slds_imgposition,slds_captiontopmargin,slds_dotsvmargin,slds_captionwidth,slds_arrowhmargin,slds_dotshmargin,slds_arrowvmargin,slds_arrowbetweenmargin,slds_arrowalign,slds_arrowtype,"+"sbstrgels,borderwidth,borderradius,bordercolor,borderstyle,shadowcolor,shadowopacity,shadowblur,shadowspread,shadowx,shadowy,zoomable,slds_arrowborder").split(",");return t.attr("data-fields",n),t.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),t.on("elementSelected","",{elem_id:i},layers__hightlight),t.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(t,o,e),elem__renderView(t),elem__addUiClickEvents__gallery(t),t.find(".ui-resizable-handle").css("display",""),t.append('<div class="ui-pseudo-handle-fix-e"></div>'),t.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(t,"lock")&&t.draggable("disable"),"y"==elem__getFieldValue(t,"invisible")&&t.addClass("tn-elem__invisible"),t}function addVector(e,t,i){tn_console("func: addVector"),"object"!=typeof e&&(e={elem_id:Date.now(),elem_type:"vector"},i=addElem__getInitialElementPosition(i),e.top=i.top,e.left=i.left,e.width="157",e.vectorjson='{"p":[{"a":{"f":"transparent","fo":1,"s":"#000000","so":"1.00","w":"1"},"c":true,"z":0,"p":[{"c":[901.0392,562.6858],"h":[{"c":[901.0392,562.6858],"m":"default"},{"c":[899.9649,522.5183],"m":"default"}],"b":true,"t":"M"},{"c":[948.6667,501],"h":[{"c":[921.0929,501],"m":"default"},{"c":[965.4975,501],"m":"default"}],"b":true,"t":"C"},{"c":[1005.605,519.2906],"h":[{"c":[978.3891,506.3796],"m":"default"},{"c":[1025.659,528.9738],"m":"default"}],"b":true,"t":"C"},{"c":[1055.381,535.3714],"h":[{"c":[1040.341,535.3714],"m":"default"},{"c":[1069.705,535.3714],"m":"default"}],"b":true,"t":"C"},{"c":[1076.867,501.078],"h":[{"c":[1076.509,522.9549],"m":"default"},{"c":[1100.86,501.078],"m":"default"}],"b":true,"t":"C"},{"c":[1100.86,501.078],"h":[{"c":[1100.86,501.078],"m":"mirrorAngle"},{"c":[1103.009,545.9078],"m":"mirrorAngle"}],"b":true,"t":"C"},{"c":[1055.023,562.6279],"h":[{"c":[1080.09,562.6279],"m":"default"},{"c":[1038.908,562.6279],"m":"default"}],"b":true,"t":"C"},{"c":[997.0105,545.8298],"h":[{"c":[1024.584,558.7408],"m":"default"},{"c":[978.0311,536.5052],"m":"default"}],"b":true,"t":"C"},{"c":[949.0248,528.2565],"h":[{"c":[963.3489,528.2565],"m":"default"},{"c":[934.7007,528.2565],"m":"default"}],"b":true,"t":"C"},{"c":[925.3901,562.6858],"h":[{"c":[925.7482,538.2984],"m":"default"},{"c":[901.0392,562.6858],"m":"default"}],"b":true,"t":"C"},{"c":[901.0392,562.6858],"h":[{"c":[901.0392,562.6858],"m":"mirrorAngle"},{"c":[901.0392,562.6858],"m":"mirrorAngle"}],"b":false,"t":"C"}]}],"b":{"x":900,"y":500,"w":202,"h":63.685791015625}}',e.vectorsvg='<svg viewBox="900 500 202 63.685791015625"><path fill="transparent" fill-opacity="1" stroke="#000000" stroke-opacity="1.00" stroke-width="1" id="tSvg47" d="M 901.0392 562.6858 C 899.9649 522.5183 921.0929 501 948.6667 501 C 965.4975 501 978.3891 506.3796 1005.605 519.2906 C 1025.659 528.9738 1040.341 535.3714 1055.381 535.3714 C 1069.705 535.3714 1076.509 522.9549 1076.867 501.078 C 1100.86 501.078 1100.86 501.078 1100.86 501.078 C 1103.009 545.9078 1080.09 562.6279 1055.023 562.6279 C 1038.908 562.6279 1024.584 558.7408 997.0105 545.8298 C 978.0311 536.5052000000001 963.3489 528.2565 949.0248 528.2565 C 934.7007 528.2565 925.7482 538.2984 925.3901 562.6858 C 901.0392 562.6858 901.0392 562.6858 901.0392 562.6858"></path></svg>',e.zindex=allelems__getHighestZIndex()+1,i=JSON.parse(e.vectorjson),e.filewidth=i.b&&i.b.w||0,e.fileheight=i.b&&i.b.h||0),e.elem_id||(e.elem_id=Date.now()),t||(void 0===e.vectorjson&&(e.vectorjson=""),void 0===e.container&&(e.container="grid"),void 0===e.axisy&&(e.axisy="top"),void 0===e.axisx&&(e.axisx="left"),void 0===e.lock&&(e.lock=""),void 0===e.link&&(e.link=""),void 0===e.linktarget&&(e.linktarget=""),void 0===e.relnofollow&&(e.relnofollow=""),void 0===e.invisible&&(e.invisible=""),void 0===e.leftunits&&(e.leftunits="px"),void 0===e.topunits&&(e.topunits="px"),void 0===e.classname&&(e.classname=""),void 0===e.widthunits&&(e.widthunits="px"),void 0===e.layer&&(e.layer=""),void 0===e.animstyle&&(e.animstyle=""),void 0===e.animduration&&(e.animduration=""),void 0===e.animdelay&&(e.animdelay=""),void 0===e.animdistance&&(e.animdistance=""),void 0===e.animscale&&(e.animscale=""),void 0===e.animtriggeroffset&&(e.animtriggeroffset=""),void 0===e.animprx&&(e.animprx=""),void 0===e.animprxs&&(e.animprxs=""),void 0===e.animprxdx&&(e.animprxdx=""),void 0===e.animprxdy&&(e.animprxdy=""),void 0===e.animfix&&(e.animfix=""),void 0===e.animfixdist&&(e.animfixdist=""),void 0===e.animfixtrgofst&&(e.animfixtrgofst=""),void 0===e.effects&&(e.effects=""),void 0===e.rotate&&(e.rotate="0"),void 0===e.opacity&&(e.opacity="1"),void 0===e.filewidth&&(e.filewidth=""),void 0===e.fileheight&&(e.fileheight=""),void 0===e.vectorsvg&&(e.vectorsvg="")),""===e.widthunits&&(e.widthunits="px"),""===e.topunits&&(e.topunits="px"),void 0===e.sbsevent&&(e.sbsevent=""),void 0===e.sbsloop&&(e.sbsloop="");var i=e.elem_id,n=e.elem_type,t=($(".tn-artboard").append('<div class="tn-elem'+(t?" tn-elem__fake":"")+'" id="'+i+'" data-elem-id="'+i+'" data-elem-type="'+n+'"></div>'),$("#"+i)),n=(t.html('<div class="tn-atom">'+e.vectorsvg+"</div>"),["vectorjson","groupid","classname","width","top","left","opacity","rotate","zindex","container","link","linktarget","relnofollow","axisx","axisy","animduration","animdelay","animdistance","animscale","animtriggeroffset","animprx","animprxs","animprxdy","animprxdx","animfix","animfixdist","animfixtrgofst","animmobile","lock","invisible","leftunits","topunits","widthunits","animstyle","sbsevent","sbstrg","sbstrgofst","sbsloop","sbsopts","sbstrgels","layer","effects","filewidth","fileheight"]);return t.attr("data-fields",n.join(",")),elem__addUiClickEvents__vector(t),t.on("elementSelected","",{elem_id:i},panelSettings__openTimeout),t.on("elementSelected","",{elem_id:i},layers__hightlight),t.on("elementUnselected","",{elem_id:i},layers__hightlight),addElem__setFieldValues(t,n,e),elem__renderView(t),t.append('<div class="ui-pseudo-handle-fix-e"></div>'),t.append('<div class="ui-pseudo-handle-fix-w"></div>'),"y"==elem__getFieldValue(t,"lock")&&t.draggable("disable"),"y"==elem__getFieldValue(t,"invisible")&&t.addClass("tn-elem__invisible"),t}function get__Rendom__Text(){return["Creativity is to discover a question that has never been asked. If one brings up an idiosyncratic question, the answer he gives will necessarily be unique as well.","There is no design without discipline. There is no discipline without intelligence.","Everything should be made as simple as possible, but not simpler.","The work you do while you procrastinate is probably the work you should be doing for the rest of your life.","Curiosity about life in all its aspects, I think, is still the secret of great creative people.","Good design is obvious. Great design is transparent.","Design creates culture. Culture shapes values. Values determine the future.","The best ideas come as jokes. Make your thinking as funny as possible."][getRandomizer(0,7)]}function group__addUiClickEvents(o){tn_console("func: addUiClick"),o.contextmenu(function(e){var t=$(e.target),i=t.closest(".tn-elem").length;o.hasClass("tn-group__open")&&i?contextMenu__open(t.closest(".tn-elem"),e):o.hasClass("tn-group__selected")?0===t.parents(".tn-elem").length&&contextMenu__open(o,e):contextMenu__open(null,e)}),o.dblclick(function(e){var t=group__getFieldValue(o,"lock");o.hasClass("tn-group__selected")&&"y"!==t&&(t=e.target.closest(".tn-elem"),elem__select($(t)),tn_hideOutline("hover"))}),o.click(function(e){var t=$(e.target),i=o.hasClass("tn-group__selected"),n=t.closest(".tn-elem").length,t=t.closest('.tn-elem[data-edit-mode="yes"]').length;i||n||t||window.tn.flags.isSettingsFocused||floor__mousedown(e)}),o.mousedown(function(e){elem__mouseDown(o,e)}),elem__addDraggable(o,{isGroup:!0}),o.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__text(o){tn_console("func: addUiClick"),window.clicktimeoutId=!1,o.click(function(e){elem__Click(o,e)}),o.contextmenu(function(e){contextMenu__open(o,e)}),o.mousedown(function(e){elem__mouseDown(o,e)}),elem__addDraggable(o),o.resizable({distance:3,aspectRatio:!1,handles:"none",snap:".tn-elem, .tn-guide, .tn-canvas-min, .tn-canvas-max",grid:[10,10]}),o.resizable("disable"),o.dblclick(function(e){var t=elem__getFieldValue(o,"groupid"),i=elem__getFieldValue(o,"lock"),n=!1;t&&(n=$(".tn-group#"+t).hasClass("tn-group__open")),t&&!n||"yes"===o.attr("data-edit-mode")||"y"==i||o.find(".tn-atom__sbs-anim-wrapper").length||(tn_hideOutline("hover"),tn_hideOutline("selected"),"q"===window.ver_redactor?editElementField(o,e):editElementField_redactor(o))}),o.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__image(t){tn_console("func: addUiClick__image"),t.click(function(e){elem__Click(t,e)}),t.contextmenu(function(e){contextMenu__open(t,e)}),t.mousedown(function(e){elem__mouseDown(t,e)}),elem__addDraggable(t),t.resizable({distance:3,aspectRatio:!0,handles:"none",grid:[10,10]}),t.resizable("disable");var e=t.find("img");$(document).ready(function(){TUWidget.init(e).done(function(e){tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),elem__setFieldValue(t,"img",e.tuInfo.cdnUrl,"","",window.tn.topResolution),1<e.tuInfo.width&&elem__setFieldValue(t,"filewidth",e.tuInfo.width,"","",window.tn.topResolution),1<e.tuInfo.height&&elem__setFieldValue(t,"fileheight",e.tuInfo.height,"","",window.tn.topResolution),elem__renderViewOneField(t,"img"),elem__renderViewOneField(t,"width"),panelSettings__updateUi(t,"img"),panelSettings__updateUi(t,"width"),panelSettings__updateUi(t,"left"),panelSettings__updateUi(t,"top"),control__drawUi__upload(t.attr("id"),"img")}).fail(function(){})}),t.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__shape(t){tn_console("func: addUiClick__shape"),window.clicktimeoutId=!1,t.click(function(e){elem__Click(t,e)}),t.contextmenu(function(e){contextMenu__open(t,e)}),t.mousedown(function(e){elem__mouseDown(t,e)}),elem__addDraggable(t),t.resizable({distance:3,aspectRatio:!1,handles:"none",grid:[1,1]}),t.resizable("disable");var e=t.find(".tn-atom");$(document).ready(function(){TUWidget.init(e).done(function(e){tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),elem__setFieldValue(t,"bgimg",e.tuInfo.cdnUrl,"","",window.tn.topResolution),elem__renderViewOneField(t,"bgimg"),panelSettings__updateUi(t,"bgimg");e=elem__getFieldValue(t,"bgposition");"shape"===t.attr("data-elem-type")&&"custom"===e&&(elem__setFieldValue(t,"bgposition","center center","render","updateui"),elem__setFieldValue(t,"bgposition_imgpos","","render"),elem__setFieldValue(t,"bgposition_imgsize","","render")),panelSettings__updateUi(t,"bgposition")}).fail(function(){})}),t.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__button(t){tn_console("func: addUiClick_button"),window.clicktimeoutId=!1,t.click(function(e){elem__Click(t,e)}),t.contextmenu(function(e){contextMenu__open(t,e)}),t.mousedown(function(e){elem__mouseDown(t,e)}),elem__addDraggable(t),t.resizable({distance:3,aspectRatio:!1,handles:"none",grid:[10,10]}),t.resizable("disable"),t.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__video(t){tn_console("func: addUiClick__video"),window.clicktimeoutId=!1,t.click(function(e){elem__Click(t,e)}),t.contextmenu(function(e){contextMenu__open(t,e)}),t.mousedown(function(e){elem__mouseDown(t,e)}),elem__addDraggable(t),t.resizable({distance:3,aspectRatio:!1,handles:"none",grid:[1,1]}),t.resizable("disable");var e=t.find(".tn-atom");$(document).ready(function(){TUWidget.init(e).done(function(e){tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),elem__setFieldValue(t,"bgimg",e.tuInfo.cdnUrl,"","",window.tn.topResolution),elem__renderViewOneField(t,"bgimg"),panelSettings__updateUi(t,"bgimg")}).fail(function(){})}),t.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__html(n){tn_console("func: addUiClick__html"),window.clicktimeoutId=!1,n.click(function(e){elem__Click(n,e)}),n.contextmenu(function(e){contextMenu__open(n,e)}),n.mousedown(function(e){elem__mouseDown(n,e)}),elem__addDraggable(n),n.resizable({distance:3,aspectRatio:!1,handles:"none",grid:[1,1]}),n.resizable("disable"),n.dblclick(function(){var e,t=n.closest(".tn-group"),i=!0;t.length&&(e=t.hasClass("tn-group__open"),t="y"===group__getFieldValue(t,"lock"),i=e&&!t),"y"!=elem__getFieldValue(n,"lock")&&i&&tn_html__openEditor(n.attr("data-elem-id"))}),n.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__tooltip(o){tn_console("func: addUiClick__tooltip"),window.clicktimeoutId=!1,o.click(function(e){elem__Click(o,e),elem__renderViewOneField(o,"tipposition")}),o.contextmenu(function(e){contextMenu__open(o,e)}),o.mousedown(function(e){elem__mouseDown(o,e)}),elem__addDraggable(o),o.resizable({distance:3,aspectRatio:!0,handles:"none",grid:[1,1]}),o.resizable("disable"),o.dblclick(function(e){var t,i=o.closest(".tn-group"),n=!0;i.length&&(t=i.hasClass("tn-group__open"),i="y"===group__getFieldValue(i,"lock"),n=t&&!i),n&&"yes"!==o.attr("data-edit-mode")&&"y"!=elem__getFieldValue(o,"lock")&&!o.find(".tn-atom__sbs-anim-wrapper").length&&("q"===window.ver_redactor?editElementField(o,e):editElementField_redactor(o))}),o.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__form(n){tn_console("func: addUiClick__form"),window.clicktimeoutId=!1,n.click(function(e){elem__Click(n,e)}),n.contextmenu(function(e){contextMenu__open(n,e)}),n.mousedown(function(e){elem__mouseDown(n,e)}),elem__addDraggable(n),n.resizable({distance:3,aspectRatio:!1,handles:"e, w",snap:".tn-elem, .tn-guide, .tn-canvas-min, .tn-canvas-max",grid:[10,10]}),n.resizable("disable"),n.dblclick(function(){var e,t=n.closest(".tn-group"),i=!0;t.length&&(e=t.hasClass("tn-group__open"),t="y"===group__getFieldValue(t,"lock"),i=e&&!t),i&&"y"!=elem__getFieldValue(n,"lock")&&$.getScript("/front/js/t-edrec-form.min.js",function(e,t){"success"==t?setTimeout(function(){tn_form__openEditor(n.attr("data-elem-id"))},500):alert("Error open edit form inputs in zeroblock")})}),n.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__gallery(s){tn_console("func: addUiClick__gallery"),s.click(function(e){elem__Click(s,e)}),s.contextmenu(function(e){contextMenu__open(s,e)}),s.mousedown(function(e){elem__mouseDown(s,e)}),elem__addDraggable(s),s.resizable({distance:3,alsoResize:$(s).find(".t-slds__main, .t-slds__main, .tn-atom__slds-img"),handles:"none"});var e=s.find(".tn-atom__slds-img");$(document).ready(function(){e.each(function(e){$(this)[0].tildaupload||TUWidget.init($(this)).done(function(e){tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:s);for(var t=$(this.element).attr("data-img-lid"),i=JSON.parse(elem__getFieldValue(s,"imgs")),n=0;n<i.length;n++){var o=i[n];t==o.lid&&(o.li_img=e.tuInfo.cdnUrl)}elem__setFieldValue(s,"imgs",JSON.stringify(i)),1<e.tuInfo.width&&elem__setFieldValue(s,"filewidth",e.tuInfo.width,"","",window.tn.topResolution),1<e.tuInfo.height&&elem__setFieldValue(s,"fileheight",e.tuInfo.height,"","",window.tn.topResolution),elem__renderViewOneField(s,"imgs"),elem__renderViewOneField(s,"width"),elem__renderViewOneField(s,"height"),panelSettings__updateUi(s,"imgs"),panelSettings__updateUi(s,"width"),panelSettings__updateUi(s,"left"),panelSettings__updateUi(s,"top")}).fail(function(){})})}),s.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function elem__addUiClickEvents__vector(n){tn_console("func: addUiClick__vector"),window.clicktimeoutId=!1,n.click(function(e){elem__Click(n,e)}),n.contextmenu(function(e){contextMenu__open(n,e)}),n.mousedown(function(e){elem__mouseDown(n,e)}),elem__addDraggable(n),n.resizable({distance:3,aspectRatio:!0,handles:"none",grid:[10,10]}),n.resizable("disable"),n.dblclick(function(){var e,t=n.closest(".tn-group"),i=!0;t.length&&(e=t.hasClass("tn-group__open"),t="y"===group__getFieldValue(t,"lock"),i=e&&!t),"y"!=elem__getFieldValue(n,"lock")&&i&&(tn_vector__openEditor(n.attr("data-elem-id")),window.tn.curResolution!=window.tn.topResolution)&&td__showBubbleNotice("After saving, shape will be updated at all resolutions",8e3)}),n.on("mouseover",elem__hoverIn).on("mouseout",elem__hoverOut)}function tn_addUiClickEvents__outline(u){var l,e=tn_getLocalField("isSnapDisabled"),p={},e=(u.resizable({distance:3,aspectRatio:!1,handles:"all",snap:!e&&".tn-elem, .tn-group, .tn-guide, .tn-canvas-min, .tn-canvas-max",grid:[1,1],start:function(e,t){(l=u[0].querySelectorAll(".tn-outline__rotate-anchor")).forEach(function(e){e.style.pointerEvents="none"}),u.resizable("option","minWidth",10*window.tn.zoom),u.resizable("option","minHeight",10*window.tn.zoom),u.resizable("option","maxWidth",!1),tn_undo__Add("elem_save",$(".tn-elem__selected"));var o,s=$(".tn-elem__selected, .tn-elem__fake"),i=s.filter('[data-elem-type="text"], [data-elem-type="form"]').length;window.tn.flags.isSelectedTextElementsOnly=!1,s.length===i&&(window.tn.flags.isSelectedTextElementsOnly=!0),s.filter(".tn-elem__locked").length||(i=$(".tn-group__selected"),!s.filter('[data-elem-type="image"], [data-elem-type="tooltip"], [data-elem-type="vector"]').length&&!elem__checkForHTMLVideo(s,!1)||window.tn.flags.isSelectedTextElementsOnly?u.resizable("option","aspectRatio",!1).data("uiResizable")._aspectRatio=!1:u.resizable("option","aspectRatio",!0).data("uiResizable")._aspectRatio=!0,tn_console("resize: start"),i.each(function(e,t){$(t).addClass("tn-group__on-resize"),t.startWidth=parseInt($(t).css("width"),10),t.startHeight=parseInt($(t).css("height"),10)}),o=!1,s.each(function(e,t){var i=t.dataset.elemType,n=("gallery"===i&&(u.resizable("option","minWidth",200*window.tn.zoom),u.resizable("option","minHeight",200*window.tn.zoom),o=!0),"video"!==i||o||(u.resizable("option","minWidth",156*window.tn.zoom),u.resizable("option","minHeight",156*window.tn.zoom)),"tooltip"===i&&1===s.length&&u.resizable("option","maxWidth",200*window.tn.zoom),$(t).addClass("tn-elem__on-resize"),$(t).addClass("noclick"),window.getComputedStyle(t)),i=(t.startWidth=parseFloat(n.width),"tooltip"===i?t.startHeight=t.startWidth:"image"===i||"vector"===i||elem__checkForHTMLVideo(s,!1)?(i=$(t).height(),t.aspectRatio=i/t.startWidth,t.startHeight=t.startWidth*t.aspectRatio):t.startHeight=parseFloat(n.height),elem__getFieldValue($(t),"groupid")),n=$("#"+i);i&&(t.groupRelCoords={top:parseInt($(t).css("top")),left:parseInt($(t).css("left"))},n[0].outlineRelCoords=tn_outline__getRelativePosition(u,n)),t.outlineRelCoords=tn_outline__getRelativePosition(u,$(t)),t.lastHeight=t.startHeight,p=t_throttle(function(){elem__setCoordsPanel($(t),"resize")},80)}),u.startWidth=parseFloat(u[0].style.width),u.startHeight=parseFloat(u[0].style.height))},resize:function(e,o){var t,i,s,l,n,a,d,r,_=$(".tn-elem__selected, .tn-elem__fake"),c=e.originalEvent;!_.filter('[data-elem-type="image"], [data-elem-type="tooltip"], [data-elem-type="vector"]').length&&!elem__checkForHTMLVideo(_,!0)||window.tn.flags.isSelectedTextElementsOnly?u.resizable("option","aspectRatio",!1).data("uiResizable")._aspectRatio=!1:u.resizable("option","aspectRatio",!0).data("uiResizable")._aspectRatio=!0,_.filter(".tn-elem__locked").length?(o.element.css(o.originalPosition),o.element.css(o.originalSize)):(e=$(".tn-group__selected"),t=u.find(".tn-outline__size__text"),i=window.tn.zoom,s=o.size.width*i/u.startWidth,l=o.size.height*i/u.startHeight,_.each(function(e,t){var i,n=$(t);elem__resizeWithOutline(t,o,s,l),p(),i=n.height(),window.tn.flags.isSelectedTextElementsOnly&&i!==t.lastHeight&&(c.ctrlKey&&n.css("top",n.position().top-(i-t.lastHeight)/2+"px"),tn_setOutlinePosition("selected"),tn_outline__zoomHandler(!0),t.lastHeight=n.height())}),e.each(function(e,t){$(t).css({width:t.startWidth/i*s,height:t.startHeight/i*l})}),e=Math.round(u.width()/i),r=Math.round(u.height()/i),1===_.length&&(d=elem__getFieldValue(_,"widthunits"),n=elem__getFieldValue(_,"heightunits"),"%"===d&&(d=window.tn.curResolution,a=_.width(),e=Math.round(a/d*100)),"%"===n)&&(a=ab__getFieldValue($(".tn-artboard"),"height"),d=_.height(),r=Math.round(d/a*100)),t.html(e+" &#215; "+r),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition())},stop:function(e){tn_console("resize: stop");var t=$(".tn-elem__selected, .tn-elem__fake");if(!t.filter(".tn-elem__locked").length){var i=$(".tn-group__selected");if(l.forEach(function(e){e.style.pointerEvents=""}),t.each(function(e,t){var i=$(t),n=$(t).attr("data-elem-type");elem__Save__currentHeight(i),elem__Save__currentWidth(i),elem__Save__currentPosition(i),"image"!==n&&"vector"!==n&&!elem__checkForHTMLVideo(i,!1)||i.css("height",""),setTimeout(function(){$(t).removeClass("noclick")},10),$(t).removeClass("tn-elem__on-resize"),i.hasClass("tn-elem")&&i.closest(".tn-group__open").length&&group__setPositionByElemsAttrs(elem__getFieldValue(i,"groupid"))}),1<t.length){tn_multiEdit__updateUi();var n,o=t.get().reduce((e,t,i)=>(t.classList.contains("tn-elem__fake")||(0===i?(e.width=elem__getFieldValue($(t),"width"),e.height=elem__getFieldValue($(t),"height")):(e.width!==elem__getFieldValue($(t),"width")&&(e.width=void 0),e.height!==elem__getFieldValue($(t),"height")&&(e.height=void 0))),e),{}),s=$(".tn-elem__fake");for(n in o)panelSettings__updateUi(s,n,o[n])}i.each(function(e,t){var i=t.id;$(t).removeClass("tn-group__on-resize"),group__setPositionByElemsAttrs(i),group__updateGroupSizesUI(i,"width"),group__updateGroupSizesUI(i,"height")}),tn_set_lastChanges(),e.stopImmediatePropagation(),tn_setOutlinePosition("selected")}}}).on("resize",function(e){e.stopPropagation()}),u.data("uiResizable")),t=e._mouseDrag;e._mouseDrag=function(e){return window.tn.flags.isSelectedTextElementsOnly&&(e.shiftKey=!1),t.call(this,e)}}function elem__resizeWithOutline(e,t,i,n){var o,s,l,a=$(e),d=a.attr("data-elem-type"),r=window.tn.zoom,_=e.startWidth/r*i,c=e.startHeight/r*n,u=elem__getFieldValue(a,"groupid");u?(u=(o=$("#"+u))[0].outlineRelCoords,o.hasClass("tn-group__selected")?(s=e.groupRelCoords.top/r*n,l=e.groupRelCoords.left/r*i,o.css({top:u.top*n+t.position.top/r,left:u.left*i+t.position.left/r})):(s=t.position.top/r-parseFloat(o.css("top"))+e.outlineRelCoords.top*n,l=t.position.left/r-parseFloat(o.css("left"))+e.outlineRelCoords.left*i)):(u=e.outlineRelCoords.left*i,i=e.outlineRelCoords.top*n,window.tn.flags.isSelectedTextElementsOnly?e.outlineRelCoords.top+c===(n=t.position.top+t.size.height)&&(s=Math.round(n-c)):s=Math.round(t.position.top/r+i),l=Math.round(t.position.left/r+u)),"text"===d||"form"===d||"image"===d||"vector"===d||elem__checkForHTMLVideo(a,!0)||(n=Math.abs(_-e.startWidth/r),i=Math.abs(c-e.startHeight/r),"tooltip"===d&&(i<n?c=_:_=c,200<c)&&(c=200),a.css({height:c})),s=Math.round(s),l=Math.round(l),"gallery"===d||"video"===d?(u={el:a,width:_,height:c,left:l,top:s},e={size:t.size,position:t.position},"video"===d&&elem__limitResize(u,e,156,156,o),"gallery"===d&&elem__limitResize(u,e,200,200,o)):a.css({top:s,left:l,width:_="tooltip"===d&&200<_?200:_}),window.el_resize_dimensions={top:s,left:l,width:_,height:c}}function elem__limitResize(e,t,i,n,o){var s="gallery"===e.el.attr("data-elem-type"),l=e.top+n,a=e.left+i,d=t.size.height+t.position.top,t=t.size.width+t.position.left,r=e.width<i?i:e.width;o&&(d-=parseInt(o.css("top")),t-=parseInt(o.css("left"))),s&&(e.el.find(".t-slds__main, .tn-atom__slds-img, .t-slds__items-wrapper").css({width:r,height:e.height<n?n:e.height}),e.el.find(".t-slds__item").css({width:r})),e.el.css({top:e.height<n&&d<l?d-n:e.top,left:e.width<i&&t<a?t-i:e.left,width:r}),s&&t_slds_updateSlider(e.el)}function tn_outline__getRelativePosition(e,t){var i,n,o=elem__getFieldValue(t,"groupid");return o||1!==$(".tn-elem__selected").length?(o?(o=$("#"+o)).hasClass("tn-group__selected")||(n={top:parseFloat(t.css("top"))-(parseFloat(e.css("top"))/window.tn.zoom-parseFloat(o.css("top"))),left:parseFloat(t.css("left"))-(parseFloat(e.css("left"))/window.tn.zoom-parseFloat(o.css("left")))}):(o=Math.round(parseFloat(t.css("top")),10),t=Math.round(parseFloat(t.css("left")),10),i=Math.round(parseFloat(e.css("top"))/window.tn.zoom,10),e=Math.round(parseFloat(e.css("left"))/window.tn.zoom,10),n={top:(o-i)/window.tn.zoom,left:(t-e)/window.tn.zoom}),n):{left:0,top:0}}function elem__startDrag(e,t,i){window.tn.flags.isElemDragging=!0,t.altKey&&elem__DragWithOptionStart(e);var t=parseInt(e.attr("data-drag-start-left")),n=parseInt(e.attr("data-drag-start-top"));i.helper.data("draggableXY.originalPosition",{top:n,left:t}),e.addClass("noclick"),e.hasClass("tn-group")&&e.find(".tn-elem").addClass("noclick"),$(".tn-elem__selected").addClass("tn-elem__selected__noborder"),$(".tn-group__selected").addClass("tn-group__selected__noborder"),e.addClass("tn-elem__selected__noborder"),e.addClass("tn-group__selected__noborder"),elem__DragUndo(e),i.originalPosition.top=i.originalPosition.top/window.tn.zoom,i.originalPosition.left=i.originalPosition.left/window.tn.zoom,i.position.top=0,i.position.left=0,e.hasClass("tn-group")||1<$(".tn-elem__selected").length&&e.hasClass("tn-elem__selected")?e.hasClass("tn-group__selected")||group__select(e.attr("id")):e.hasClass("tn-elem__selected")||elem__select(e),tn_hideOutline("selected"),rulersOption__hide()}function elem__getSelectedBoundingBox(){var e=$(".tn-elem__selected"),t=document.querySelector(".tn-outline_selected").getBoundingClientRect(),i=e.first(),n=i.offset(),o=n.left,s=n.top,l=o+i.outerWidth(),a=s+i.outerHeight();return e.slice(1).each(function(){var e=$(this),t=e.offset(),i=t.left,t=t.top,n=i+e.outerWidth(),e=t+e.outerHeight();i<o&&(o=i),t<s&&(s=t),l<n&&(l=n),a<e&&(a=e)}),{width:t.width,height:t.height,top:s,left:o}}function elem__dragDrag(e,t,i){var n,o,s=1/window.tn.zoom-1;i.position.top+=(i.position.top-i.originalPosition.top)*s,i.position.left+=(i.position.left-i.originalPosition.left)*s,t.shiftKey&&(s=1/window.tn.zoom,n=i.helper.data("draggableXY.originalPosition"),o=Math.abs(n.left*s-i.position.left),Math.abs(n.top*s-i.position.top)<o?i.position.top=n.top*s:i.position.left=n.left*s),window.isAltDown&&rulersOption__hide(),elem__addSnapEvents(e,t,i),tn_hideOutline("hover")}function elem__stopDrag(e,t){$(".tn-elem__selected").removeClass("tn-elem__selected__noborder"),$(".tn-group__selected").removeClass("tn-group__selected__noborder"),e.removeClass("tn-elem__selected__noborder"),e.removeClass("tn-group__selected__noborder");e.attr("data-elem-type");var i,n,o,s,l,a,d,r,_,c=elem__getFieldValue(e,"topunits"),u=elem__getFieldValue(e,"leftunits");window.tn.flags.isSbsStepMode?(i=parseInt(e.attr("data-sbs-step-i"),10),isNaN(i)&&group__isSelectedOnlyGroups()&&(i=(d=document.querySelector(".sui-sbs-step_active"))?d.getAttribute("data-sbs-step-i"):"0",i=parseInt(i,10)),0<i?(n=d=0,(_=elem__getFieldValue(e,"groupid"))&&(r=group__getById(_),d=parseInt(r.css("left")),n=parseInt(r.css("top"))),r=elem__getFieldValue(e,"left"),r=elem__convertPosition__Local__toAbsolute(e,"left",r),o=elem__getFieldValue(e,"top"),o=elem__convertPosition__Local__toAbsolute(e,"top",o),s=parseInt(e.css("left"))+d-parseInt(r),l=parseInt(e.css("top"))+n-parseInt(o),sbs__step__setFieldValue(e,i,"mx",s,"render","updateui"),sbs__step__setFieldValue(e,i,"my",l,"render","updateui")):elem__Save__currentPosition(e),e.attr("data-elem-id")===$(".tn-settings").attr("data-for-elem-id")||e.hasClass("tn-elem__selected")||i||elem__select(e),e.removeAttr("data-drag-start-left"),e.removeAttr("data-drag-start-top")):(elem__Save__currentPosition(e),a=1/window.tn.zoom,s=parseInt(e.css("left"),10)-parseInt(e.attr("data-drag-start-left"))*a,l=parseInt(e.css("top"),10)-parseInt(e.attr("data-drag-start-top"))*a,e.hasClass("tn-group")&&!e.hasClass("tn-group__open")||(e.removeAttr("data-drag-start-left"),e.removeAttr("data-drag-start-top")),e.hasClass("tn-group")||1<$(".tn-elem__selected").length&&e.hasClass("tn-elem__selected")?(a=1/window.tn.zoom,d=$(".tn-elem__selected").length?$(".tn-elem__selected"):e.find(".tn-elem"),e.hasClass("tn-group")&&!e.hasClass("tn-group__selected")&&(d=e.find(".tn-elem")),e.hasClass("tn-group__selected")||group__select(e.attr("id")),$.each(d,function(){var e=$(this),t=parseInt(e.attr("data-drag-start-left"))*a+s,i=parseInt(e.attr("data-drag-start-top"))*a+l,n=group__getById(elem__getFieldValue(e,"groupid"));n&&n.length&&!n.hasClass("tn-group__open")||(e.css("left",t+"px"),e.css("top",i+"px")),elem__Save__currentPosition(e),$(this).removeAttr("data-drag-start-left"),$(this).removeAttr("data-drag-start-top")})):e.hasClass("tn-elem__selected")||elem__select(e),"%"===u&&elem__renderViewOneField(e,"left"),"%"===c&&elem__renderViewOneField(e,"top"),(r=!(r=$(".tn-group__selected")).length&&e.hasClass("tn-group")?e:r).length?r.each(function(){var e=$(this);group__setPositionByElemsAttrs(e.attr("id")),setTimeout(function(){e.removeClass("noclick"),e.find(".tn-elem").removeClass("noclick")},200)}):setTimeout(function(){e.removeClass("noclick")},10),e.hasClass("tn-elem")&&e.closest(".tn-group__open").length&&group__setPositionByElemsAttrs(_=elem__getFieldValue(e,"groupid"))),tn_set_lastChanges(),t.stopImmediatePropagation(),t.altKey&&(1<$(".tn-elem__selected").length?elem__DragWithOptionStop(e):$(".tn-elem__selected").attr("data-field-zindex-value",allelems__getHighestZIndex()+1),layers__update()),$(".tn-elem__selected, .tn-group__selected").length&&(tn_setOutlinePosition("selected"),tn_showOutline("selected")),$(".tn-elem__hover, .tn-group__hover").length&&(tn_setOutlinePosition("hover"),tn_showOutline("hover")),window.tn.flags.isElemDragging=!1}function elem__DragWithOptionStart(e){var t=$(".tn-elem__selected:not(.tn-elem__fake)"),i=e.hasClass("tn-elem__selected"),n=e.hasClass("tn-group"),o=e.hasClass("tn-group__selected"),s=!n&&elem__getFieldValue(e,"groupid"),l=!1,a=999;i||n?!o&&n?t=e.find(".tn-elem"):s&&!n&&(l=!0,i||(t=e)):(t=e,s&&(l=!0)),e.optionCopyData=elem__DuplicateByOption(t,l),l&&group__checkGroupedElsOutside(),s&&(a=parseInt(group__getHighestZIndexInGroup(s),10)),t.each(function(){var e=$(this),t=parseInt(e.css("zindex"),10);e.css("zindex",a+t)})}function elem__DragWithOptionStop(e){allelems__unselect(),void 0!==e.optionCopyData&&(e.optionCopyData.newGroupIds.forEach(function(e){group__create(e,void 0,!0)}),e.optionCopyData.elementsDuplicates.forEach(function(e){var t=$("#"+e.originalId),e=$("#"+e.newElemId),t=(elem__SwapCoords(t,e),elem__getFieldValue(e,"groupid"));t?group__select(t,!0):elem__select__also(e)}),delete e.optionCopyData,elem__checkZIndexes__Dubble())}function elem__DragUndo(e){var t,i,n=e.hasClass("tn-elem__selected");1<$(".tn-elem__selected").length&&n||e.hasClass("tn-group")?(i=e.hasClass("tn-group__selected")||n?null:e,t="elems_selected_move",e.optionCopyData&&(t="elems_selected_add",i=$(e.optionCopyData.elementsDuplicates.map(function(e){return"#"+e.newElemId}).join(",")))):(t="elem_move",(i=e).optionCopyData&&(t="elem_add",i=$("#"+e.optionCopyData.elementsDuplicates[0].newElemId))),tn_undo__Add(t,i)}function elem__Click(e,t,i,n){var o,s,l;1===$(".tn-elem__selected").length&&e.hasClass("tn-elem__selected")||(s=(o=e.hasClass("tn-group"))?e.attr("id"):elem__getFieldValue(e,"groupid"),l=o?e:s?group__getById(s):null,t.target.classList.contains("t-slds__arrow"))||"yes"!==e.attr("data-edit-mode")&&(e.hasClass("noclick")?e.removeClass("noclick"):(tn_console("click: element"),e.hasClass("tn-elem__selected")?t.shiftKey?1<s?group__unselect(s):elem__unselect(e):1<$(".tn-elem__selected").length?1<$(".tn-group__selected").length&&s?group__select(s):!n&&s||elem__select(e):"text"!==e.attr("data-elem-type")||"y"==elem__getFieldValue(e,"lock")||void 0!==i||e.find(".tn-atom__sbs-anim-wrapper").length||(e.attr("data-edit-ready")?"q"===window.ver_redactor?editElementField:editElementField_redactor:elem__setEditReady)(e):t.shiftKey&&0<$(".tn-elem__selected").length?window.tn.flags.isSbsStepMode||(!(1<s)||n||l&&l.hasClass("tn-group__open")?elem__select__also(e):group__select(s,!0),window.tn.flags.isRulersShow&&rulers__highlightElem(null,"multi")):1<s&&!n&&(!l||!l.hasClass("tn-group__open"))||o?group__select(s):elem__select(e)))}function elem__mouseDown(e){$(".tn-elem__selected").each(function(){var e=$(this),t=e.position();e.attr("data-drag-start-left",t.left),e.attr("data-drag-start-top",t.top)});var t,e=e.hasClass("tn-group")?e:$(e.closest(".tn-group"));e.length&&!e.hasClass("tn-group__open")&&(t=e.position(),e.attr("data-drag-start-left",t.left),e.attr("data-drag-start-top",t.top))}function elem__addSnapEvents(e,t,i){var n=e.data("ui-draggable"),o=e.isSnap,s=!1;n.snapElements&&$.each(n.snapElements,function(e,t){t.snapping&&(s=!0)}),!1===o&&!0===s&&n._trigger("snapin",t,i),!0===o&&!1===s&&n._trigger("snapout",t,i),e.isSnap=s}function elem__hoverIn(){var e=$(this),t=$(".ui-draggable-dragging").length,i=tn__getElem(e);i&&i.classList.contains("t-sbs-anim_playing")||(e.hasClass("tn-group")&&!e.hasClass("tn-group__open")&&e.addClass("tn-group__hover"),e.hasClass("tn-elem")&&e.addClass("tn-elem__hover"),i=$(".tn-elem__hover"),e=$(".tn-group__hover"),i.length+e.length===0||window.tn.flags.isRotateMode||1===i.length&&"yes"!==i.attr("data-edit-mode")&&(tn_setOutlinePosition("hover"),tn_showOutline("hover")),window.tn.flags.isKeyboardAltDown&&!t&&rulersOption__setPosition())}function elem__hoverOut(){$(this).removeClass("tn-elem__hover").removeClass("tn-group__hover"),tn_hideOutline("hover"),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition()}function elem__getValueWithFactor(e){return e+e*(1/window.tn.zoom-1)}function elem__addDraggable(l,a){a=a||{};var e=tn_getLocalField("isSnapDisabled"),n={};l.draggable({grid:[1,1],distance:5,snap:!e&&".tn-elem, .tn-guide, .tn-canvas-min, .tn-canvas-max",snapTolerance:6,appendTo:".tn-artboard",helper:function(e){var n,o,t=$(".tn-artboard > .tn-elem__selected, .tn-artboard > .tn-group__selected"),i=t.filter(l).length;return 1<t.length&&i?(n=$('<div class="tn-elem__helper"></div>'),o=elem__getSelectedBoundingBox(),t.each(function(){var e=$(this),t=e.position(),i=e.clone().detach();i.addClass("tn-elem__drag-clone"),i.hasClass("tn-group")&&i.children().addClass("tn-elem__drag-clone"),i.removeClass("tn-elem__selected"),i.removeClass("tn-elem__hover"),i.data("draggableXY.original",e),i.css("top",elem__getValueWithFactor(t.top)-elem__getValueWithFactor(o.top)),i.css("left",elem__getValueWithFactor(t.left)-elem__getValueWithFactor(o.left)),n.append(i),e.css("display","none")}),n.css({position:"absolute",width:elem__getValueWithFactor(o.width),height:elem__getValueWithFactor(o.height)}),l.draggable("option","cursorAt",{top:e.pageY-o.top,left:e.pageX-o.left}),window.tn.flags.isRulersShow&&"undefined"!=typeof _rulers__highlightObserver&&_rulers__highlightObserver.observe(n[0],{attributes:!0,characterData:!0,subtree:!0,childList:!0,attributeOldValue:!0,characterDataOldValue:!0}),n):l},start:function(e,t){tn_console("drag: start");var i=window.tn.zoom;l.draggable("option","grid",[i,i]),elem__startDrag(l,e,t),(n=t_throttle(function(){elem__setCoordsPanel(l,"drag")},80))()},drag:function(e,t){elem__dragDrag(l,e,t),n()},stop:function(t,i){tn_console("drag: stop");var e=$(".tn-elem__helper"),n=elem__calculateSnapToGrid(i.helper[0]);if(e.length){var o=e.children();n.isLeft?e.css("left",elem__getValueWithFactor(n.left)):n.isRight&&e.css("left",elem__getValueWithFactor(n.right-e.outerWidth()*window.tn.zoom));const s=e.position();o.each(function(){var e=$(this),t=e.data("draggableXY.original"),e=e.position();t.css("top",elem__getValueWithFactor(s.top+e.top)),t.css("left",elem__getValueWithFactor(s.left+e.left)),t.css("display","")}),l.draggable("option","cursorAt",null)}else n.isLeft?l.css("left",elem__getValueWithFactor(n.left)):n.isRight&&l.css("left",elem__getValueWithFactor(n.right-l.outerWidth()*window.tn.zoom));e=window.tn.flags.isMultiEdit&&window.tn.multi_edit_elems.get().every(e=>e.classList.contains("tn-elem__sbsmode"));group__isSelectedOnlyGroups()&&e?window.tn.multi_edit_elems.get().forEach(e=>{elem__stopDrag($(e),t,i)}):elem__stopDrag(l,t,i),tn_multiEdit__updateUi(),a.isGroup&&!e&&group__setPositionByElemsAttrs(l.attr("id"))}})}function elem__calculateSnapToGrid(e){if(window.tn.flags.isGridHidden||"true"===localStorage.getItem("isSnapDisabled"))return{isLeft:!1,isRight:!1,left:0,right:0};const s=window.scrollX;var t=document.querySelector(".tn-canvas-min"),i=e.getAttribute("data-field-groupid-value");const l=t.getBoundingClientRect();var t=e.getBoundingClientRect(),e=Array.from(document.querySelectorAll(".tn-grid__column")).map(e=>{e=e.getBoundingClientRect();return[e.left-l.left,e.left-l.left+e.width]}).flat(),t={left:t.left-l.left,right:t.left+t.width-l.left,gridLeftValues:e},n=(t,i)=>{let n=t,o=-1;for(let e=0;e<i.length;e++)if(Math.abs(t-i[e])<=6){n=i[e],o=e;break}return{snappedValue:n+s+l.left,snappedIndex:o}},o=n(t.left,e),n=n(t.right,e);return i&&(t=document.querySelector(`.tn-group[id="${i}"]`).getBoundingClientRect(),o.snappedValue=o.snappedValue-(t.left+window.scrollX),n.snappedValue=n.snappedValue-(t.left+window.scrollX)),{isLeft:-1!==o.snappedIndex,isRight:-1!==n.snappedIndex,left:o.snappedValue,right:n.snappedValue}}function elem__checkForHTMLVideo(e,t){var i,n,e=e.get(0);return!(window.tn.flags.isMultiEdit||!e||"video"!==e.getAttribute("data-elem-type")||"html"!==elem__getFieldValue($(e),"vidtype")||e.hasAttribute("data-video-no-resize")&&t||"cover"===elem__getFieldValue($(e),"objectfitvideo")||(n=parseFloat((e.offsetWidth/e.offsetHeight).toFixed(1)),i=e.querySelector("video"),i=parseFloat(((i?.videoWidth||1)/(i?.videoHeight||1)).toFixed(1)),n=.1<=Math.round(10*Math.abs(n-i))/10,t||(n?e.setAttribute("data-video-no-resize","y"):e.removeAttribute("data-video-no-resize")),n))}function elem__setCoordsPanel(e,t){var i,n,o,s,l=e.attr("id"),a=e.hasClass("tn-group"),d=0!==e.closest(".tn-group").length,l=(a&&(l=$(".tn-elem__fake[data-field-groupid-value="+l+"]").attr("id")),$(".tn-settings[data-for-elem-id="+l+"]")),r=l.find("[name=top]"),_=l.find("[name=left]"),c=l.find("[name=height]"),l=l.find("[name=width]");"drag"===t?((i=elem__getRealPosition(e)).top=elem__convertPosition__Absolute__toLocal(e,"top",i.top),i.left=elem__convertPosition__Absolute__toLocal(e,"left",i.left),r.val(i.top),_.val(i.left)):"resize"!==t||a||d||window.tn.flags.isMultiEdit||(i=elem__getFieldValue(e,"heightunits"),t=elem__getFieldValue(e,"widthunits"),a=Math.round(window.el_resize_dimensions.top),d=Math.round(window.el_resize_dimensions.left),n=Math.round(window.el_resize_dimensions.width),o=Math.round(window.el_resize_dimensions.height),s=elem__convertPosition__Absolute__toLocal(e,"top",a),e=elem__convertPosition__Absolute__toLocal(e,"left",d),r.length&&a&&r.val(s),_.length&&d&&_.val(e),c.length&&o&&"px"===i&&c.val(o),l.length&&n&&"px"===t&&l.val(n))}function elem__renderView(t){t=tn__getjQueryElem(t),tn_console("func: elem__renderView");var e=(e=t.attr("data-fields"))?e.split(","):[],i=t.attr("data-elem-type");e.forEach(function(e){elem__renderViewOneField(t,e,i)}),t.isSnap=!1,tn_console_runtime()}function elem__renderViewOneField(i,e,t){var n,o,s,l,a,d,r,_,c,u,p,g,m,f=elem__getFieldValue(i=tn__getjQueryElem(i),e),h=i.find(".tn-atom"),b=(void 0===t&&(t=i.attr("data-elem-type")),"left"==e&&(n=elem__getFieldValue(i,"groupid"),$("#"+n).length?group__setPositionByElemsAttrs(n,!!window.tn.groupsBounds&&window.tn.groupsBounds[n],!0):(f=elem__convertPosition__Local__toAbsolute(i,e,f),i.css("left",parseFloat(f)+"px"))),"top"==e&&(n=elem__getFieldValue(i,"groupid"),$("#"+n).length?group__setPositionByElemsAttrs(n,!!window.tn.groupsBounds&&window.tn.groupsBounds[n],!0):(f=elem__convertPosition__Local__toAbsolute(i,e,f),i.css("top",parseFloat(f)+"px"))),"width"==e&&(f=elem__getWidth(i,f),i.css("width",parseInt(f)+"px"),"tooltip"==t&&i.css("height",parseInt(f)+"px"),"gallery"==t&&(b=elem__getFieldValue(i,"borderwidth"),"none"!=(o=elem__getFieldValue(i,"borderstyle"))&&""!=b||(b=0),f-=2*parseInt(b),f=parseFloat(f).toFixed(1),i.css("width",f+"px"),i.find(".t-slds__main").css("width",f+"px"),i.find(".tn-atom__slds-img").css("width",f+"px")),tn_shapeBorderRadius__shouldShowHandle(i[0]))&&tn_shapeBorderRadius__setHandlePosition(i[0]),"height"==e&&(0==(f=elem__getHeight(i,f))&&(f=1),i.css("height",parseInt(f)+"px"),"gallery"===t&&(b=elem__getFieldValue(i,"borderwidth"),"none"!=(o=elem__getFieldValue(i,"borderstyle"))&&""!=b||(b=0),f-=2*parseInt(b),f=parseFloat(f).toFixed(1),i.css("height",f+"px"),i.find(".tn-atom__slds-img").css("height",f+"px"),i.find(".t-slds__main").css("height",f+"px")),tn_shapeBorderRadius__shouldShowHandle(i[0]))&&tn_shapeBorderRadius__setHandlePosition(i[0]),"color"==e&&(""==f&&"button"==t&&(f="transparent"),"text"===t?tn_isGradientStyle(f)?(h.css({color:"transparent","background-image":f,"-webkit-background-clip":"text","caret-color":"#000"}),isSafari&&h.css({display:"inline-block","-webkit-box-decoration-break":"clone"})):(h.css({color:f,"background-image":"","-webkit-background-clip":"","caret-color":""}),isSafari&&h.css({display:"","-webkit-box-decoration-break":""})):h.css("color",f),"tooltip"==t&&i.css("color",f),"button"==t)&&elem__renderViewOneField(i,"colorhover"),"align"==e&&i.css("text-align",f),"fontfamily"==e&&i.css("font-family",'"'+f+'"'),"fontsize"==e&&elem__setLineHeightFontSize(i,f,"fontsize"),"lineheight"==e&&elem__setLineHeightFontSize(i,f,"lineheight"),"letterspacing"==e&&i.css("letter-spacing",parseFloat(f,10)+"px"),"lettercase"==e&&i.css("text-transform",f||""),"zindex"==e&&i.css("z-index",parseInt(f,10)),"fontweight"==e&&i.css("font-weight",parseInt(f,10)),"variationweight"==e&&i.css("font-weight",parseInt(f,10)),"bgcolor"==e&&"text"!==t&&(""==f&&(f="transparent"),r=elem__getFieldValue(i,"bgimg"),tn_isGradientStyle(f=tn_replaceSingleQuotes(f))?(r=r?"url("+r+"), "+f:f,h.css({"background-image":r,"background-color":"transparent"})):(h.css("background-color",f),(n=h.css("background-image"))&&-1===n.indexOf("url(")&&-1!==n.indexOf("-gradient(")&&h.css("background-image",""),r&&h.css("background-image","url("+r+")")),"button"==t)&&elem__renderViewOneField(i,"bgcolorhover"),"bgattachment"==e&&(window.tn.curResolution<=960&&(f="scroll"),i.find(".tn-atom").css("background-attachment",f)),"bgposition"===e&&"custom"!==f?i.find(".tn-atom").css("background-position",f):"bgposition"===e&&"custom"===f&&i.find(".tn-atom").css("background-position",""),"custom"===elem__getFieldValue(i,"bgposition"));if("bgposition_imgpos"===e&&b&&f&&(n=f.split(","),i.find(".tn-atom").css("background-position-x",n[0]),i.find(".tn-atom").css("background-position-y",n[1])),"bgposition_imgsize"===e&&b&&f?(y=f.split(",").map(function(e){return parseFloat(e,10)}),i.find(".tn-atom").css("background-size",y[0]+"%")):"bgposition_imgsize"!==e||f||i.find(".tn-atom").css("background-size","cover"),"borderwidth"==e&&(""!=f&&(f=parseInt(f)+"px"),"gallery"==t?(i.find(".t-slds__main").css("border-width",f),o=elem__getFieldValue(i,"borderstyle"),"near"!=(g=elem__getFieldValue(i,"slds_arrowcontrols"))&&"in"!=g||("none"!=o?i.find(".t-slds__arrow").css("margin-top",f):i.find(".t-slds__arrow").css("margin-top","")),elem__renderViewOneField(i,"width"),elem__renderViewOneField(i,"height")):(i.find(".tn-atom").css("border-width",f),"image"===t&&(0<elem__getFieldValue(i,"borderradius")?(i.find(".tn-atom").css("overflow","hidden"),i.find("img").css("border-radius","")):i.find(".tn-atom").css("overflow","")))),"borderradius"==e&&(""!=f&&(f=parseInt(f,10)+"px"),"gallery"==t?i.find(".t-slds__main").css("border-radius",f):(i.find("img").css("border-radius",f),i.find(".tn-atom").css("border-radius",f),("shape"==t||"image"==t||"button"==t)&&(i.css("border-radius",f),n=tn__getElem(i).querySelector(".tn-elem__transform-wrapper"))&&(n.style.borderRadius=f),"video"===t||"image"===t&&0<elem__getFieldValue(i,"borderwidth")?(i.find(".tn-atom").css("overflow","hidden"),"image"===t&&i.find("img").css("border-radius","")):"image"===t&&i.find(".tn-atom").css("overflow","")),tn_shapeBorderRadius__shouldShowHandle(i[0]))&&(i.find(".border-radius-handle").length?tn_shapeBorderRadius__setHandlePosition:tn_shapeBorderRadius__initHandle)(i[0]),"bordercolor"==e&&(""==f&&(f="transparent"),i.find(".tn-atom").css("border-color",f),i.find(".t-slds__main").css("border-color",f),"button"==t)&&elem__renderViewOneField(i,"bordercolorhover"),"borderstyle"==e&&(""==f&&(f="solid"),"gallery"==t?(i.find(".t-slds__main").css("border-style",f),elem__renderViewOneField(i,"borderwidth")):i.find(".tn-atom").css("border-style",f)),"container"==e&&(elem__renderViewOneField(i,"left"),elem__renderViewOneField(i,"top")),"opacity"==e&&i.find(".tn-atom").css("opacity",parseFloat(f,10)),"rotate"===e&&(elem__renderView_processBackdropFilter(b=tn__getElem(i),n=tn_parseCSSFilter(o=elem__getFieldValue(i,"effects")),f),elem__renderView__renderFilterValue(b,o,n),(b?.querySelector(".tn-elem__transform-wrapper, .tn-atom")).style.transform=`rotate(${parseInt(f,10)}deg)`),"img"==e&&i.find(".tn-atom__img").attr("src",f),"bgimg"==e&&(void 0===f&&(f=""),n=tn_isGradientStyle(o=elem__getFieldValue(i,"bgcolor")),f?(r="url("+f+")",n&&(r+=", "+o),h.css({"background-image":r,"background-size":"cover","background-repeat":"no-repeat"})):h.css("background-image",n?o:"")),"tipimg"==e&&(void 0===f&&(f=""),i.find(".tn-atom__tip-img").remove(),""!=f)&&(i.find(".tn-atom__tip").prepend('<img src="" class="tn-atom__tip-img">'),i.find(".tn-atom__tip-img").attr("src",f)),"alt"==e&&i.find(".tn-atom__img").attr("alt",f),"shadowcolor"!=e&&"shadowopacity"!=e&&"shadowx"!=e&&"shadowy"!=e&&"shadowblur"!=e&&"shadowspread"!=e||(b=elem__getFieldValue(i,"shadowcolor"),r=parseFloat(elem__getFieldValue(i,"shadowopacity")),h=parseInt(elem__getFieldValue(i,"shadowx"),10),n=parseInt(elem__getFieldValue(i,"shadowy"),10),o=parseInt(elem__getFieldValue(i,"shadowblur"),10),s=parseInt(elem__getFieldValue(i,"shadowspread"),10),isNaN(r)&&(r=1),isNaN(h)&&(h=0),isNaN(n)&&(n=0),isNaN(o)&&(o=0),isNaN(s)&&(s=0),w="gallery"==t?".t-slds__main":".tn-atom",void 0===(b=1!=r&&void 0!==b&&""!=b?"rgba("+(l=tn_hex2rgb(b))[0]+","+l[1]+","+l[2]+","+r+")":b)||""==b?i.find(w).css("box-shadow","none"):i.find(w).css("box-shadow",h+"px "+n+"px "+o+"px "+s+"px "+b)),"effects"===e&&(l=tn__getElem(i),f||(l.style.filter="",l.style.backdropFilter="",l.style.WebkitBackdropFilter="",l.style.transform=""),elem__renderView_processBackdropFilter(l,r=tn_parseCSSFilter(f),f),elem__renderView__renderFilterValue(l,f,r)),"caption"==e&&i.find(".tn-atom").html(f),"classname"==e&&i.addClass(f),"youtubeid"!=e||""!=(p=elem__getFieldValue(i,"vidtype"))&&"y"!=p||(v="y"==(v=elem__getFieldValue(i,"showinfo"))?1:0,i.find(".tn-atom").html('<div class="tn-atom__videoiframe" style="pointer-events:none; width:100%; height:100%;"><iframe id="youtubeiframe" width="100%" height="100%" src="//www.youtube.com/embed/'+f+"?rel=0&fmt=18&html5=1&showinfo="+v+'" frameborder="0" allowfullscreen></iframe></div>')),"vimeoid"==e&&"v"==(p=elem__getFieldValue(i,"vidtype"))&&(v=elem__getFieldValue(i,"showinfo"),i.find(".tn-atom").html('<div class="tn-atom__videoiframe" style="pointer-events:none; width:100%; height:100%;"><iframe src="//player.vimeo.com/video/'+f+"?badge=0"+("y"==v?"&portrait=1&title=1&byline=1":"&portrait=0&title=0&byline=0")+'&color=ffffff" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')),"html"!==elem__getFieldValue(i,"vidtype")||"mp4video"!==e&&"mp4controls"!==e&&"objectfitvideo"!==e||elem__renderHTMLVideo(e,i),"youtubeid"!=e&&"vimeoid"!=e&&"mp4video"!=e||""!=(m=elem__getFieldValue(i,"bgimg"))&&i.find(".tn-atom").html('<div class="tn-atom__video-play-link"><div class="tn-atom__video-play-icon"><svg width="70" height="70" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="30" r="30" fill="black"/><path d="M41 29.7495L24.0014 19.2495L24.0061 40.2493L41 29.7495Z" fill="white"/></svg></div></div>'),"bgcolorhover"==e&&i.hover(function(){tn_isGradientStyle(f=tn_replaceSingleQuotes(f=""!=(f=""==f?elem__getFieldValue(i,"bgcolor"):f)&&void 0!==f?f:"transparent"))?i.find(".tn-atom").css({"background-color":"","background-image":f}):i.find(".tn-atom").css({"background-color":f,"background-image":""})},function(){var e;tn_isGradientStyle(e=tn_replaceSingleQuotes(elem__getFieldValue(i,"bgcolor")))?i.find(".tn-atom").css({"background-color":"","background-image":e}):i.find(".tn-atom").css({"background-color":e,"background-image":""})}),"bordercolorhover"==e&&i.hover(function(){""!=(f=""==f?elem__getFieldValue(i,"bordercolor"):f)&&void 0!==f||(f="transparent"),i.find(".tn-atom").css("border-color",f)},function(){var e=elem__getFieldValue(i,"bordercolor");""==e&&(e="transparent"),i.find(".tn-atom").css("border-color",e)}),"colorhover"==e&&i.hover(function(){""!=(f=""==f?elem__getFieldValue(i,"color"):f)&&void 0!==f||(f="transparent"),i.find(".tn-atom").css("color",f)},function(){var e=elem__getFieldValue(i,"color");""==e&&(e="transparent"),i.find(".tn-atom").css("color",e)}),"speedhover"==e&&(-1<f?setInterval(function(){i.find(".tn-atom").css({transition:"background-color "+parseFloat(f)+"s ease-in-out, color "+parseFloat(f)+"s ease-in-out, border-color "+parseFloat(f)+"s ease-in-out"})},200):i.find(".tn-atom").css({transition:"none"})),"slds_imgposition"==e&&(""==f&&(f="center center"),i.find(".tn-elem__gallery__position-styles").remove(),i.find(".t-slds__container").append('\t\t\t<style class="tn-elem__gallery__position-styles">\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .tn-atom__slds-img {\t\t\t\t\tbackground-position: '+f+";\t\t\t\t}\t\t\t</style>\t\t")),"slds_stretch"==e&&(""==f&&(f="cover"),i.find(".tn-elem__gallery__stretch-styles").remove(),i.find(".t-slds__container").append('\t\t\t<style class="tn-elem__gallery__stretch-styles">\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .tn-atom__slds-img {\t\t\t\t\tbackground-size: '+f+";\t\t\t\t}\t\t\t</style>\t\t")),"slds_cursorcontrol"==e&&(""==f&&(f="none"),i.removeClass("tn-elem__gallery_arrows-cursor"),"on"==f)&&i.addClass("tn-elem__gallery_arrows-cursor"),"slds_arrowcontrols"==e&&(""==f&&(f="near"),i.removeClass("tn-elem__gallery_arrows-in tn-elem__gallery_arrows-near tn-elem__gallery_arrows-none tn-elem__gallery_arrows-above tn-elem__gallery_arrows-under"),i.addClass("tn-elem__gallery_arrows-"+f),"above"==f||"under"==f?(a=elem__getFieldValue(i,"slds_arrowsize"),""==(d=elem__getFieldValue(i,"slds_arrowbetweenmargin"))&&(d="10"),""==a&&(a="s"),a=t_zeroGallery__getArrowSize(a),i.find(".t-slds__arrow_container").css("width",2*a+parseInt(d))):(i.find(".t-slds__arrow_container").css("width","100%"),elem__renderViewOneField(i,"borderwidth")),i.find(".t-slds__arrow_wrapper").css("width","0"),"in"==f&&i.find(".t-slds__arrow_wrapper").css("width","0"),elem__renderViewOneField(i,"slds_arrowhmargin"),elem__renderViewOneField(i,"slds_arrowvmargin"),"under"==f)&&elem__renderViewOneField(i,"slds_captiontopmargin"),"slds_dotshmargin"==e&&(""==f&&(f="20"),i.find(".tn-elem__gallery__bullet-hmargin-styles").remove(),i.find(".t-slds__container").append('\t\t\t<style class="tn-elem__gallery__bullet-hmargin-styles">\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .t-slds__bullet {\t\t\t\t\tmargin: 10px '+f/2+"px;\t\t\t\t}\t\t\t</style>\t\t")),"slds_dotscontrols"==e&&(""==f&&(f="none"),i.find(".t-slds__bullet_wrapper").css("display","block"),u=parseInt(elem__getFieldValue(i,"slds_dotssize")),"near"==f?i.find(".t-slds__bullet_wrapper").css("bottom",-20-u+"px"):"in"==f?i.find(".t-slds__bullet_wrapper").css("bottom","0"):"none"==f&&i.find(".t-slds__bullet_wrapper").css("display","none"),elem__renderViewOneField(i,"slds_dotsvmargin"),elem__renderViewOneField(i,"slds_arrowvmargin")),"slds_playiconsize"==e&&(""==f&&(f="70"),i.find(".tn-elem__gallery__icon-size-styles").remove(),i.find(".t-slds__container").append('\t\t\t<style class="tn-elem__gallery__icon-size-styles">\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .tn-elem__gallery__play {\t\t\t\t\twidth: '+parseInt(f)+"px;\t\t\t\t\theight: "+parseInt(f)+"px;\t\t\t\t\tleft: calc(50% - "+parseInt(f)/2+"px);\t\t\t\t\ttop: calc(50% - "+parseInt(f)/2+"px);\t\t\t\t}\t\t\t</style>\t\t")),"slds_playiconcolor"==e&&(""==f&&(f="#fff"),i.find(".tn-elem__gallery__icon-color-styles").remove(),i.find(".t-slds__container").append('\t\t\t<style class="tn-elem__gallery__icon-color-styles">\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .tn-elem__gallery__play_icon__color-holder {\t\t\t\t\tfill: '+f+"\t\t\t\t}\t\t\t</style>\t\t")),"slds_arrowtype"==e&&(""==f&&(f="1"),i.find(".t-null__slds-arrow").css("display","none"),i.find(".t-null__slds-arrow_"+f).css("display","block"),elem__renderViewOneField(i,"slds_arrowsize")),"slds_arrowborder"==e&&(""==f&&(f="none"),i.find(".tn-elem__gallery__arrow-border-styles").remove(),"none"!=f)&&(y=elem__getFieldValue(i,"slds_arrowlinesize")||"1",w=elem__getFieldValue(i,"slds_arrowcolor")||"#222",h=elem__getFieldValue(i,"slds_arrowcolorhover")||w,i.find(".t-slds__container").append('\t\t\t\t<style class="tn-elem__gallery__arrow-border-styles">\t\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .t-slds__arrow_body:before {\t\t\t\t\t\tborder: '+y+"px solid "+w+';\t\t\t\t\t}\t\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .t-slds__arrow_body:hover:before {\t\t\t\t\t\tborder: '+y+"px solid "+h+";\t\t\t\t\t}\t\t\t\t</style>\t\t\t")),"slds_arrowsize"==e&&(""==f&&(f="s"),f=t_zeroGallery__getArrowSize(f),i.find(".t-slds__arrow_body").attr("style","width: "+parseInt(f)+"px !important;"),elem__renderViewOneField(i,"slds_arrowbgcolor"),elem__renderViewOneField(i,"slds_arrowbetweenmargin"),elem__renderViewOneField(i,"slds_arrowvmargin")),"slds_arrowlinesize"==e&&(""==f&&(f="1"),i.find(".t-slds__arrow_body polyline, .t-slds__arrow_body path").css("stroke-width",parseInt(f)+"px"),elem__renderViewOneField(i,"slds_arrowborder")),"slds_arrowcolor"==e&&(""==f&&(f="#222"),i.find(".t-slds__arrow_container polyline, .t-slds__arrow_container path").css("stroke",f),elem__renderViewOneField(i,"slds_arrowborder"),elem__renderViewOneField(i,"slds_arrowcolorhover"),elem__renderViewOneField(i,"slds_arrowbgcolor")),"slds_dotsbgcolor"==e&&(tn_isGradientStyle(f=tn_replaceSingleQuotes(f=""==f?"#fff":f))?i.find(".t-slds__bullet_body").css({"background-color":"transparent","background-image":f}):i.find(".t-slds__bullet_body").css({"background-color":f,"background-image":""})),"slds_dotsbgcoloractive"==e&&(""===f&&(f="#222"),i.find(".t-slds__bullet_wrapper style").remove(),n=i.find(".t-slds__bullet_wrapper").get(0),o=`
			<style>
				[data-elem-id="${i.attr("id")}"] .t-slds__bullet_active .t-slds__bullet_body {
					${tn_isGradientStyle(f=tn_replaceSingleQuotes(f))?"background-color":"background-image"}: none !important;
					${tn_isGradientStyle(f)?"background-image":"background-color"}: ${f} !important;
				}
			</style>`,n)&&n.insertAdjacentHTML("beforeend",o),"slds_autoplay"==e&&""==f&&(f="0"),"slds_arrowbgcolor"==e&&(a=elem__getFieldValue(i,"slds_arrowsize"),s=t_zeroGallery__getArrowSize(a),b=elem__getFieldValue(i,"slds_arrowbgopacity"),""==f?i.find(".t-slds__arrow").css({width:s,height:s,"background-color":"transparent","background-image":""}):tn_isGradientStyle(f=tn_replaceSingleQuotes(f))?i.find(".t-slds__arrow").css({width:s,height:s,"background-color":"transparent","background-image":f}):i.find(".t-slds__arrow").css({width:s,height:s,"background-color":b?"rgba("+tn_hex2rgba(f,b)+")":f,"background-image":""}),elem__renderViewOneField(i,"slds_arrowbgcolorhover")),"slds_arrowbgopacity"==e&&elem__renderViewOneField(i,"slds_arrowbgcolor"),"slds_arrowalign"==e&&(""==f&&(f="center"),i.find(".t-slds__arrow_container").removeClass("t-slds__arrow_container-left t-slds__arrow_container-center t-slds__arrow_container-right"),i.find(".t-slds__arrow_container").addClass("t-slds__arrow_container-"+f)),"slds_dotssize"==e&&(""==f&&(f="10"),i.find(".t-slds__bullet_body").css({width:f+"px",height:f+"px"}),elem__renderViewOneField(i,"slds_dotscontrols")),"slds_loop"==e&&("none"==(f=""==f?"loop":f)?(i.find(".t-slds__items-wrapper").attr("data-slider-with-cycle","false"),i.find(".t-slds__arrow_container").addClass("t-slds__nocycle")):"loop"==f&&(i.find(".t-slds__items-wrapper").attr("data-slider-with-cycle","true"),i.find(".t-slds__arrow_container").removeClass("t-slds__nocycle"))),"slds_speed"==e&&("none"==(f=""==f?"none":f)?(i.find(".t-slds__items-wrapper").attr("data-slider-transition",""),i.find(".t-slds__items-wrapper").removeClass("t-slds_animated-slow"),i.find(".t-slds__items-wrapper").removeClass("t-slds_animated-fast"),i.find(".t-slds__items-wrapper").addClass("t-slds_animated-none")):"slow"==f?(i.find(".t-slds__items-wrapper").attr("data-slider-transition","500"),i.find(".t-slds__items-wrapper").removeClass("t-slds_animated-fast"),i.find(".t-slds__items-wrapper").removeClass("t-slds_animated-none"),i.find(".t-slds__items-wrapper").addClass("t-slds_animated-slow")):"fast"==f&&(i.find(".t-slds__items-wrapper").attr("data-slider-transition","300"),i.find(".t-slds__items-wrapper").removeClass("t-slds_animated-slow"),i.find(".t-slds__items-wrapper").removeClass("t-slds_animated-none"),i.find(".t-slds__items-wrapper").addClass("t-slds_animated-fast"))),"slds_arrowcolorhover"==e&&(elem__renderViewOneField(i,"slds_arrowborder"),i.find(".t-slds__arrow").hover(function(){""!=(f=""==(f=""==f?elem__getFieldValue(i,"slds_arrowcolorhover"):f)?elem__getFieldValue(i,"slds_arrowcolor"):f)&&void 0!==f||(f="#222"),$(this).find("polyline, path").css("stroke",f)},function(){var e=elem__getFieldValue(i,"slds_arrowcolor");""==e&&(e="#222"),$(this).find("polyline, path").css("stroke",e)})),"slds_arrowbgcolorhover"==e&&i.find(".t-slds__arrow").hover(function(){var e=elem__getFieldValue(i,"slds_arrowbgopacityhover");""==e&&(e="1.0"),tn_isGradientStyle(f=tn_replaceSingleQuotes(f=""==(f=""==f?elem__getFieldValue(i,"slds_arrowbgcolor"):f)?"transparent":f))?$(this).css({"background-color":"transparent","background-image":f}):(e="transparent"!=f?"rgba("+tn_hex2rgba(f,e)+")":f,$(this).css({"background-color":e,"background-image":""}))},function(){var e,t=elem__getFieldValue(i,"slds_arrowbgcolor");tn_isGradientStyle(t=tn_replaceSingleQuotes(t=""==t?"transparent":t))?$(this).css({"background-color":"transparent","background-image":t}):("transparent"!==t&&(t="rgba("+tn_hex2rgba(t,e=""==(e=elem__getFieldValue(i,"slds_arrowbgopacity"))?1:e)+")"),$(this).css({"background-color":t,"background-image":""}))}),"slds_dotsvmargin"==e&&(""==f&&(f="16"),"near"===(_=elem__getFieldValue(i,"slds_dotscontrols"))?(i.find(".t-slds__bullet_wrapper").css("margin-bottom",-f+"px"),i.find(".t-slds__bullet_wrapper").css("padding-bottom",0)):(i.find(".t-slds__bullet_wrapper").css("padding-bottom",f+"px"),i.find(".t-slds__bullet_wrapper").css("margin-bottom",0)),elem__renderViewOneField(i,"slds_captiontopmargin"),elem__renderViewOneField(i,"slds_arrowvmargin")),"slds_captiontopmargin"==e&&(""==f&&(f="20"),_=elem__getFieldValue(i,"slds_dotscontrols"),g=elem__getFieldValue(i,"slds_arrowcontrols"),l=0,"near"===_&&(c=elem__getFieldValue(i,"slds_dotsvmargin"),u=elem__getFieldValue(i,"slds_dotssize"),l=20+parseInt(u)+parseInt(c)),"under"===g&&(a=elem__getFieldValue(i,"slds_arrowsize"),""==(d=elem__getFieldValue(i,"slds_arrowvmargin"))&&(d="10"),""==a&&(a="s"),a=t_zeroGallery__getArrowSize(a),l=l+parseInt(a)+parseInt(d)),i.find(".tn-elem__gallery__caption-position-styles").remove(),i.find(".t-slds__container").append('\t\t\t<style class="tn-elem__gallery__caption-position-styles">\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .t-slds__caption {\t\t\t\t\tmargin-top: '+(l+parseInt(f))+"px\t\t\t\t}\t\t\t</style>\t\t")),"slds_captionwidth"==e&&(""==f&&(f="80"),i.find(".tn-elem__gallery__caption-width-styles").remove(),i.find(".t-slds__container").append('\t\t\t<style class="tn-elem__gallery__caption-width-styles">\t\t\t\t.tn-elem[data-elem-id="'+i.attr("data-elem-id")+'"] .t-slds__caption {\t\t\t\t\twidth: '+parseInt(f)+"%\t\t\t\t}\t\t\t</style>\t\t")),"slds_arrowhmargin"==e&&(""==f&&(f="30"),"near"===(g=elem__getFieldValue(i,"slds_arrowcontrols"))?(i.find(".t-slds__arrow-right").css("left",f+"px"),i.find(".t-slds__arrow-right").css("right","auto"),i.find(".t-slds__arrow-left").css("right",f+"px"),i.find(".t-slds__arrow-left").css("left","auto")):(i.find(".t-slds__arrow-right").css("right",f+"px"),i.find(".t-slds__arrow-right").css("left","auto"),i.find(".t-slds__arrow-left").css("left",f+"px"),i.find(".t-slds__arrow-left").css("right","auto"))),"slds_arrowvmargin"==e&&(""==f&&(f="10"),r={},"above"===(g=elem__getFieldValue(i,"slds_arrowcontrols"))?(r.top=0-f+"px",r.bottom="auto",i.find(".t-slds__arrow").css("margin-top","0")):"under"===g?(p=0,"near"===(_=elem__getFieldValue(i,"slds_dotscontrols"))&&(c=elem__getFieldValue(i,"slds_dotsvmargin"),u=elem__getFieldValue(i,"slds_dotssize"),p=20+parseInt(u)+parseInt(c)),f=parseInt(f)+p,r.bottom=0-f+"px",r.top="auto",i.find(".t-slds__arrow").css("margin-top","0")):(r.top="",r.bottom=""),i.find(".t-slds__arrow_container").css(r),elem__renderViewOneField(i,"slds_captiontopmargin")),"slds_arrowbetweenmargin"==e&&(""==f&&(f="10"),"above"!==(g=elem__getFieldValue(i,"slds_arrowcontrols"))&&"under"!==g||(i.find(".t-slds__arrow-right").css("margin-left",f/2),i.find(".t-slds__arrow-left").css("margin-right",f/2),elem__renderViewOneField(i,"slds_arrowcontrols"))),"widthunits"==e&&elem__renderViewOneField(i,"width"),"heightunits"==e&&elem__renderViewOneField(i,"height"),"leftunits"==e&&elem__renderViewOneField(i,"left"),"topunits"==e&&elem__renderViewOneField(i,"top"),"tipposition"==e){if(!i.hasClass("tn-elem__selected"))return;""==f&&(f="top");var v=parseInt(i.find(".tn-atom__tip").outerWidth()),w=parseInt(i.find(".tn-atom__tip").outerHeight()),y=parseInt(i.find(".tn-atom__pin").width());"top"==f&&i.find(".tn-atom__tip").css("top","-"+(+w+15)+"px").css("left","-"+(v/2-y/2)+"px"),"right"==f&&i.find(".tn-atom__tip").css("top",y/2-w/2+"px").css("left",y+15+"px"),"bottom"==f&&i.find(".tn-atom__tip").css("top",+y+15+"px").css("left","-"+(v/2-y/2)+"px"),"left"==f&&i.find(".tn-atom__tip").css("top",y/2-w/2+"px").css("left","-"+(v+15)+"px")}"tipbgcolor"==e&&(tn_isGradientStyle(f=tn_replaceSingleQuotes(f=""==f?"transparent":f))?i.find(".tn-atom__tip").css({"background-color":"","background-image":f}):i.find(".tn-atom__tip").css({"background-color":f,"background-image":""}),"button"==t)&&elem__renderViewOneField(i,"bgcolorhover"),"tipradius"==e&&(""==f&&(f=0),i.find(".tn-atom__tip").css("border-radius",f+"px")),"tipwidth"==e&&(""==f&&(f=260),i.find(".tn-atom__tip").css("width",parseFloat(f)+"px")),"tipshadowblur"==e&&(""==f&&(f=0),i.find(".tn-atom__tip").css("box-shadow","rgba(0, 0, 0, 0.3) 0px 0px "+f+"px 0px")),"pinicon"==e&&(""==f||"img"==f?i.find(".tn-atom__pin").html(""):(void 0!==(h=elem__getFieldValue(i,"pincolor"))&&""!=h||(h="#000"),"qst"==f&&(m='<div class="tn-atom__pin-icon">',m=(m=(m+='<svg width="100%" height="100%" style="display:block;" viewBox="0 0 25 25"><g stroke="none" stroke-width="1.5" fill="none" fill-rule="evenodd"><g>')+'<g transform="translate(9.000000, 6.800000)"><path d="M3.48833774,8.19927008 C3.48833774,7.88872587 3.3487997,6.65099635 4.37688754,5.90659633 C5.69058476,4.88826489 7.04132628,4.41067505 7.04132628,2.75352263 C7.04132628,1.62587484 6.231817,0.131200155 4.07587217,0.0202534993 C2.22064757,-0.103393555 0.471623579,1.06713456 0.500349002,2.75352263" stroke="'+h+'"></path>')+'<ellipse fill="'+h+'" cx="3.5" cy="11.3" rx="1.2" ry="1.2"></ellipse></g></g></g></svg></div>'),"info"==f&&(m='<div class="tn-atom__pin-icon">',m=(m+='<svg width="100%" height="100%" style="display:block;" viewBox="0 0 25 25"><g stroke="none" stroke-width="1.5" fill="none" fill-rule="evenodd"><g>')+'<path d="M13,10 L13,18" stroke="'+h+'" stroke-linejoin="bevel"></path><circle fill="'+h+'" cx="13" cy="7.0" r="1.3"></circle></g></g></svg></div>'),"plus"==f&&(m='<div class="tn-atom__pin-icon">',m=(m+='<svg width="100%" height="100%" style="display:block;" viewBox="0 0 25 25">')+'<g stroke="none" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="square"><g stroke="'+h+'"><g transform="translate(7.500000, 7.700000)"><path d="M5,0 L5,9.28571429"></path><path d="M0.357142857,4.64285714 L9.64285714,4.64285714"></path></g></g></g></svg></div>'),"camera"==f&&(m=(m='<div class="tn-atom__pin-icon"><svg width="100%" height="100%" style="display:block;" viewBox="0 0 25 25"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">')+'<g fill="'+h+'"><path d="M7,8.86363636 L8.36363636,8.86363636 L9.26906134,7.0527864 C9.43845336,6.71400238 9.78471648,6.5 10.1634885,6.5 L14.8365115,6.5 C15.2152835,6.5 15.5615466,6.71400238 15.7309387,7.0527864 L16.6363636,8.86363636 L18,8.86363636 C18.5522847,8.86363636 19,9.31135161 19,9.86363636 L19,16.1363636 C19,16.6886484 18.5522847,17.1363636 18,17.1363636 L7,17.1363636 C6.44771525,17.1363636 6,16.6886484 6,16.1363636 L6,9.86363636 C6,9.31135161 6.44771525,8.86363636 7,8.86363636 Z M12.5,15.1666667 C14.0954893,15.1666667 15.3888889,13.8732671 15.3888889,12.2777778 C15.3888889,10.6822885 14.0954893,9.38888889 12.5,9.38888889 C10.9045107,9.38888889 9.61111111,10.6822885 9.61111111,12.2777778 C9.61111111,13.8732671 10.9045107,15.1666667 12.5,15.1666667 Z M12.5,13.7222222 C11.7022554,13.7222222 11.0555556,13.0755224 11.0555556,12.2777778 C11.0555556,11.4800331 11.7022554,10.8333333 12.5,10.8333333 C13.2977446,10.8333333 13.9444444,11.4800331 13.9444444,12.2777778 C13.9444444,13.0755224 13.2977446,13.7222222 12.5,13.7222222 Z"></path></g></g></svg></div>'),"star"==f&&(m=(m='<div class="tn-atom__pin-icon"><svg width="100%" height="100%" style="display:block;" viewBox="0 0 25 25"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">')+'<g fill="'+h+'"><polygon points="12.605 16.6945552 7.90485152 19.1655695 8.80250001 13.9318772 5 10.2253557 10.2549258 9.46177034 12.605 4.69999981 14.9550743 9.46177034 20.21 10.2253557 16.4075 13.9318772 17.3051485 19.1655695"></polygon></g></g></svg></div>'),i.find(".tn-atom__pin").html(m))),"pincolor"==e&&elem__renderViewOneField(i,"pinicon"),"inputs"==e&&(f=i.find(".tn-atom__inputs-textarea").val(),elem__renderForm(i,f)),"imgs"==e&&(t_zeroGallery__render(i,f),t_sldsInit(i),t_slds_updateSlider(i),hammer.get("pan").set({enable:!1,preventDefault:!0}),i.find(".t-slds").css("visibility","visible"),i.find(".ui-resizable-handle").css("display",""),i.find(".ui-resizable-handle").css("display",""),i.find(".ui-resizable-handle").css("display","")),"width"!=e&&"height"!=e&&"fontsize"!=e&&"fontfamily"!=e&&"letterspacing"!=e&&"lineheight"!=e&&"fontweight"!=e&&"img"!=e||(elem__renderViewOneField(i,"left"),elem__renderViewOneField(i,"top")),"gallery"==t&&"invisible"!=e&&t_slds_updateSlider(i)}function allelems__renderView(){for(var e in tn_console("func: allelems__renderView"),$(".tn-elem").each(function(){var e=$(this),t=elem__getFieldValue(e,"groupid");!$("#"+t).length||window.tn.groupsBounds&&window.tn.groupsBounds[t]||(window.tn.groupsBounds||(window.tn.groupsBounds={}),window.tn.groupsBounds[t]=group__getMinMaxPoints(t)),elem__renderView(e)}),window.tn.groupsBounds)group__updateElemsActualPosition(e);window.tn.groupsBounds=null,tn_console_runtime()}function elem__renderHTMLVideo(e,i){var t=elem__getFieldValue(i,"mp4video"),n="hidden"===elem__getFieldValue(i,"mp4controls");const o="cover"===elem__getFieldValue(i,"objectfitvideo");var s=i.find(".tn-atom").get(0);if(s)if("mp4video"===e){var l=s.querySelector("source")?.src;if(l!==t&&(l||t)&&(s.innerHTML=t?`
					<div class="tn-atom__videoiframe" style="pointer-events:none; width:100%; height:100%; display: flex; align-items: center; justify-content: center">
						<img class="html-video-loader" style="display: block;" src="https://tilda.cc/tpl/img/ajax-loader.gif" style="" alt="">
						<video width="100%" style="display: none;${o?"object-fit:cover;height: 100%;position: absolute;":""}"
							playsinline ${n?"":"controls"}>
							<source src="${t}" type="video/mp4">
						</video>
					</div>
				`:"",t)){const a=i.get(0).querySelector("video"),d=i.get(0).querySelector(".html-video-loader");a&&a.addEventListener("canplay",()=>{var e,t;d&&(d.style.display="none"),a.style.display="block",o||(e=a.videoWidth/a.videoHeight,t=elem__getFieldValue(i,"width"),elem__getFieldValue(i,"height")<(t=Math.floor(t/e))&&elem__setFieldValue(i,"height",t,"render","updateui")),tn_setOutlinePosition("selected")})}}else{l=i.get(0).querySelector("video");l&&(n&&l.removeAttribute("controls"),n||l.setAttribute("controls",""),o?(l.style.height="100%",l.style.objectFit="cover",l.style.position="absolute"):(l.style.height="",l.style.objectFit="",l.style.position=""),"objectfitvideo"===e)&&(s="cover"===elem__getFieldValue(i,"objectfitvideo")?elem__getFieldValue(i,"height"):i.height(),elem__setFieldValue(i,"height",s,"render",""),tn_setOutlinePosition())}}function elem__renderView_processBackdropFilter(e,t,i){var n,o="tn-elem__transform-wrapper",s=e.querySelector("."+o),l=e.querySelector(".tn-atom");t&&t.isBackdrop&&i?t.isBackdrop&&(i=getComputedStyle(l).borderRadius,"0"===(t=elem__getFieldValue(e,"rotate"))?s&&(e.removeChild(s),e.appendChild(l)):s?(s.classList.add("tn-elem__transform-wrapper--disabled"),s.style.cssText=elem__renderView_getStylesForTransformWrapper(t,i),s.classList.remove("tn-elem__transform-wrapper--disabled")):((n=document.createElement("div")).classList.add(o),n.style.cssText=elem__renderView_getStylesForTransformWrapper(t,i),n.appendChild(l),e.appendChild(n))):s&&(e.removeChild(s),e.appendChild(l))}function elem__renderView_getStylesForTransformWrapper(e,t){return`transform: rotate(${e}deg); border-radius: ${t}; display: table; width: inherit; height: inherit;`}function elem__renderView__renderFilterValue(e,t,i){var n,o;!i||!t||t.split(" ").length<2||(t=t.split(" ")[1].slice(0,-1),n=e.querySelector(".tn-elem__transform-wrapper"),i=i.isBackdrop,(o=n||e).style.filter=i?"":t,o.style.backdropFilter=i?t:"",o.style.WebkitBackdropFilter=i?t:"",o===n&&(e.style.filter="",e.style.backdropFilter="",e.style.WebkitBackdropFilter=""),e.style.transform="translateZ(0)")}function allelems__unselect(e){$(".tn-elem__selected").each(function(){elem__unselect($(this),!0)}),e||(panelABSettings__open(),window.tn.flags.isSbsPanelOpen&&panelSBS__close()),tn_hideOutline("selected"),rulersOption__hide(),tn_destroyTidyControls(),group__unselectAll(),window.tn.flags.isMultiEdit=!1,window.tn.multi_edit_elems=null,$(".tn-elem__fake").remove(),elem__removeAxis(),$("body").removeClass("tn-multiselected"),window.tn.flags.isRulersShow&&rulers__destroyHighlight()}function elem__select(e){e=tn__getjQueryElem(e),tn_console(),allelems__unselect(!0),allelems__closeEditMode(),window.tn.curResolution!=window.tn.topResolution&&"y"!==elem__getFieldValue(e,"animmobile")&&panelSBS__close(e,!0),e.addClass("tn-elem__selected"),elem__updateUIControls(e);var t=$(".tn-outline_selected");t.removeClass("tn-outline__fluid"),t.removeClass("tn-outline__locked"),(e.hasClass("tn-elem__locked")?(t.addClass("tn-outline__locked"),tn_hideOutline("hover"),tn_hideOutlineDescription):(t.removeClass("tn-outline__locked"),tn_showOutlineDescription))();e.hasClass("tn-elem__fluid")?(t.addClass("tn-outline__fluid"),tn_hideOutline("hover")):t.removeClass("tn-outline__fluid"),tn_setOutlinePosition("selected"),tn_showOutline("selected"),e.trigger("elementSelected"),elem__drawAxis(e),window.tn.flags.isSettingsFocused=!1,1<$(".tn-elem__selected").length?$("body").addClass("tn-multiselected"):$("body").removeClass("tn-multiselected");t=elem__getFieldValue(e,"groupid"),t&&group__openSelection(group__getById(t)),tn_console_runtime(),"text"===e.attr("data-elem-type")&&elem__setEditReady(e),t=e.attr("id");window.tn.flags.isRulersShow&&rulers__highlightElem(t)}function elem__unselect(e,t){tn_console("func: elem__unselect"),e.removeClass("tn-elem__selected");sbs__removeSBSWrapper(tn__getElems(e)),e.trigger("elementUnselected"),window.tn.flags.isSbsStepMode&&sbs__elem__exitonStepMode(e);var i,e=$(".tn-elem__selected").length;1===e&&(i=$(".tn-elem__selected"),window.tn.flags.isMultiEdit=!1,allelems__closeEditMode(),t||i.trigger("elementSelected")),1<e&&!t?(window.tn.flags.isMultiEdit=!0,window.tn.multi_edit_elems=$(".tn-elem__selected"),panelSettings__openTimeout(window.tn.multi_edit_elems,!0),$("body").addClass("tn-multiselected")):$("body").removeClass("tn-multiselected"),t||(0===e?(panelABSettings__open(),tn_hideOutline("selected"),rulersOption__hide()):tn_setOutlinePosition("selected")),elem__removeAxis(),tn_console_runtime("func: elem__unselect")}function allelems__closeEditMode(){$("[data-edit-mode=yes]").each(function(){saveElementEditedField($(this))})}function elem__select__also(e){tn_console("func: elem__select__also");var t=elem__getFieldValue(e,"lock");$(".tn-elem__selected").filter(".tn-elem__locked").length||"y"==t||(allelems__closeEditMode(),e.addClass("tn-elem__selected"),window.tn.flags.isMultiEdit=!0,window.tn.multi_edit_elems=$(".tn-elem__selected"),panelSettings__openTimeout(window.tn.multi_edit_elems,!0),layers__hightlight(),elem__removeAxis(),window.tn.flags.isSettingsFocused=!1,1<$(".tn-elem__selected").length?$("body").addClass("tn-multiselected"):$("body").removeClass("tn-multiselected"),window.tn.flags.isSbsPanelOpen&&sbs__updateAnimatedElWrapper(tn__getElem(e),"wrap"),e.hasClass("tn-elem__locked")||(tn_setOutlinePosition("selected"),tn_showOutline("selected")),$(".tn-outline_selected").removeClass("tn-outline__fluid"),tn_console_runtime("func: elem__select__also"),tn_destroyTidyControls(),tn_createSpacingControls())}function allelems__selectall(){var e,t=$(".tn-artboard > .tn-elem, .tn-group");0!=t.length&&(allelems__closeEditMode(),(e=$(".tn-outline_selected")).removeClass("tn-outline__fluid"),e.removeClass("tn-outline__locked"),t.each(function(){var e=$(this),t=e.hasClass("tn-group"),i=(t?group__getFieldValue:elem__getFieldValue)(e,"lock"),n=t?group__getFieldValue(e,"hidden"):elem__getFieldValue(e,"invisible");"y"!=i&&"y"!=n&&(t?group__select(e.attr("id"),!0,!0):e.addClass("tn-elem__selected"))}),1==(t=$(".tn-elem__selected")).length?(elem__updateUIControls(t),t.trigger("elementSelected")):1<t.length&&(window.tn.flags.isMultiEdit=!0,panelSettings__openTimeout(window.tn.multi_edit_elems=t,!0),layers__hightlight()),1<t.length?$("body").addClass("tn-multiselected"):$("body").removeClass("tn-multiselected"),elem__removeAxis(),window.tn.flags.isSettingsFocused=!1,tn_setOutlinePosition("selected"),tn_showOutline("selected"),tn_destroyTidyControls(),tn_createSpacingControls(),window.tn.flags.isRulersShow)&&rulers__highlightElem(null,"multi")}function elem__selected__offsetMove(t,i){$(".tn-artboard .tn-elem__selected").each(function(){var e=$(this),e=(elem__offsetMove(e,t,i),elem__getFieldValue(e,"groupid"));e&&group__setPositionByElemsAttrs(e)}),window.tn.flags.isMultiEdit&&!group__isSelectedOnlyGroups()&&tn_multiEdit__updateUi(),tn_setOutlinePosition("selected"),tn_showOutline("selected"),tn_hideOutline("hover")}function elem__selected__lineheightChange(i){$(".tn-elem__selected").each(function(){var e,t=$(this);"text"===t.attr("data-elem-type")&&(e=elem__getFieldValue(t,"lineheight"),e=parseFloat(e),(e=10<=(e+=+i)?10:e)<=0&&(e=0),elem__setFieldValue(t,"lineheight",e=Math.round(100*e)/100,"render","updateui"))})}function elem__selected__letterspacingChange(i){$(".tn-elem__selected").each(function(){var e,t=$(this);"text"===t.attr("data-elem-type")&&(e=elem__getFieldValue(t,"letterspacing"),e=parseFloat(e),(e=50<=(e+=+i)?50:e)<=-50&&(e=-50),elem__setFieldValue(t,"letterspacing",e=Math.round(100*e)/100,"render","updateui"))})}function elem__selected__makeBigger(n){$(".tn-elem__selected").each(function(){var e,t,i=$(this);"text"==i.attr("data-elem-type")&&(e=elem__getFieldValue(i,"fontsize"),e=parseInt(e,10),elem__setFieldValue(i,"fontsize",e+=2*n,"render","updateui")),"image"==i.attr("data-elem-type")&&(e=elem__getFieldValue(i,"width"),e=parseInt(e,10),elem__setFieldValue(i,"width",e+=10*n,"render","updateui")),"shape"!=i.attr("data-elem-type")&&"video"!=i.attr("data-elem-type")&&"html"!=i.attr("data-elem-type")||(e=elem__getFieldValue(i,"width"),e=parseInt(e,10),t=parseInt(elem__getFieldValue(i,"height"))/e,elem__setFieldValue(i,"width",e+=10*n,"render","updateui"),elem__setFieldValue(i,"height",parseInt(e*t),"render","updateui")),"tooltip"==i.attr("data-elem-type")&&(e=elem__getFieldValue(i,"width"),e=parseInt(e,10),elem__setFieldValue(i,"width",e+=+n,"render","updateui"))}),tn_setOutlinePosition("selected")}function elem__selected__buf__Copy(){var t,i,n,e=$(".tn-elem__selected"),o=$(".tn-group__selected");0!=e.length&&void 0!==e&&(t=[],i={},o.each(function(){var e=$(this).attr("id");t.push(e),i[e]=group__getDataJson(e)}),o=window.tn.curResolution,n={},e.each(function(){var e=$(this),t=e.attr("data-elem-id");n[t]=elem__getData__inJson(e)}),e=localStorage.getItem("buf"),e=$.parseJSON(e),(e=[]).push({comm:"copytobuf",res:o,data:n,groups:i}),tn_console("BUFFFF"+(o=JSON.stringify(e))),localStorage.setItem("buf",o))}function elem__selected__buf__Paste(){var e=localStorage.getItem("buf"),e=$.parseJSON(e);if(void 0===e||null==e)return"";var t,i=e[0].data,d=e[0].groups,r=[],_={},e=((i=$.map(i,function(e,t){return e})).sort(function(e,t){return e.zindex-t.zindex}),$.each(i,function(e,t){var i,n,o,s,l,a;void 0!==t&&(t=(i=t).elem_id,i.groupid&&!group__getById(i.groupid)&&delete i.groupid,0<$("[data-elem-id="+t+"]").length&&(l="grid"===(t=i.container)?window.tn.canvas_min_width:window.tn.canvas_max_width,a=10,"%"===i.leftunits&&(a=1),i.groupid&&group__checkElemsWithPercentUnits(i.groupid,"left")&&"%"!==i.leftunits&&(a=l/100),l="grid"===t?window.tn.canvas_min_height:window.tn.canvas_max_height,t=10,"%"===i.topunits&&(t=1),i.groupid&&group__checkElemsWithPercentUnits(i.groupid,"left")&&"%"!==i.topunits&&(t=l/100),i.top=parseInt(i.top,10)+t+"px",i.left=parseInt(i.left,10)+a+"px",window.tn.screens.forEach(function(e,t){e!=window.tn.topResolution&&(void 0!==(n=i["top-res-"+e])&&(i["top-res-"+e]=parseInt(n,10)+10+"px"),void 0!==(n=i["left-res-"+e]))&&(i["left-res-"+e]=parseInt(n,10)+10+"px")})),i.groupid&&d[i.groupid]&&(_[i.groupid]||(_[i.groupid]=Date.now()+""+getRandomInt(1e4,99999)),i.groupid=_[i.groupid]),i.elem_id=Date.now(),i.zindex=allelems__getHighestZIndex()+1,"form"===i.elem_type&&(o=JSON.parse(i.inputs),s=Date.now(),Object.keys(o).forEach(function(e,t){o[e].lid=s+t}),i.inputs=JSON.stringify(o)),t=(l=addElem(i)).attr("data-elem-id"),a=elem__getFieldValue(l,"groupid"),r[t]=t,a)&&group__insertElemInGroup(l,a)}),Object.keys(d).forEach(function(e){var t=d[e];group__create(_[e],t),$(".tn-group#"+_[e]).addClass("tn-group__selected")}),Object.keys(r).length);if(0<e)if(1==e)for(var n in r)(t=$("#"+n)).trigger("click"),tn_undo__Add("elem_add",t);else{for(var n in allelems__unselect(),Object.keys(d).forEach(function(e){var t=$(".tn-group#"+_[e]);group__select(_[e],1!==Object.keys(d).length),t.draggable("enable")}),r)(t=$("#"+n)).addClass("tn-elem__selected"),elem__select__also(t);tn_undo__Add("elems_selected_add",r)}layers__update()}function elems__selected__alignLeft(l,e){if(tn_console("func: elems__selected__alignLeft"),"eachother"==(e=void 0!==e&&""!=e?e:"eachother")){if($(".tn-elem__selected").length<2)return}else if(0==$(".tn-elem__selected").length)return;var i,n,a=1===$(".tn-group__selected").length&&$(".tn-group__selected .tn-elem").length===$(".tn-elem__selected").length;if("eachother"==e||"grid"==e||"window"==e){var o,s,d=1e6,r=-1e6;if($(a?".tn-elem__selected":".tn-group__selected, .tn-elem__selected").each(function(){var e,t=$(this),i=elem__getFieldValue(t,"groupid");(!(e=i?group__getById(i):e)||e.hasClass("tn-group__open")||a)&&(i=elem__getRealPosition(t),"left"==l&&(o=i.left)<d&&(d=o),"right"==l&&(s=i.left+parseInt(t.width(),10),r<s)&&(r=s),"center"==l)&&((o=i.left)<d&&(d=o),s=i.left+parseInt(t.width(),10),r<s)&&(r=s)}),1e6==d&&-1e6==r)return}"eachother"==e&&$(a?".tn-elem__selected":".tn-group__selected, .tn-elem__selected").each(function(){var e,t,i,n=$(this),o=n.hasClass("tn-group"),s=elem__getFieldValue(n,"groupid");if(e=s?group__getById(s):e){if(!e.hasClass("tn-group__open")&&!a)return;t=parseInt(e.css("left"),10)}"left"==l&&(i=e?d-t:d),"right"==l&&(i=r-parseInt(n.width(),10),i=e?i-t:i),"center"==l&&(i=d+parseInt((r-d)/2,10)-parseInt(n.width()/2,10),i=e?i-t:i),n.css("left",i+"px"),o?group__saveCurrentPosition(n.attr("id")):elem__Save__currentPosition(n)}),"grid"==e&&(i=[],n=0,"left"==l&&(n=window.tn.canvas_min_offset_left-d),"right"==l&&(n=window.tn.canvas_min_offset_left+window.tn.canvas_min_width-r),"center"==l&&(n=window.tn.canvas_min_width/2-(d-window.tn.canvas_min_offset_left+(r-d)/2)),$(".tn-elem__selected").each(function(){var e=$(this),t=parseInt(e.css("left"),10),t=(e.css("left",t+n+"px"),elem__Save__currentPosition(e),elem__getFieldValue(e,"groupid"));t&&-1===i.indexOf(t)&&i.push(t)}),i.forEach(function(e){group__setPositionByElemsAttrs(e)})),"window"==e&&(i=[],n=0,"left"==l&&(n=window.tn.canvas_max_offset_left-d),"right"==l&&(n=window.tn.canvas_max_offset_left+window.tn.canvas_max_width-r),"center"==l&&(n=window.tn.canvas_max_width/2-(d-window.tn.canvas_max_offset_left+(r-d)/2)),$(".tn-elem__selected").each(function(){var e=$(this),t=parseInt(e.css("left")),t=(e.css("left",t+n+"px"),elem__Save__currentPosition(e),elem__getFieldValue(e,"groupid"));t&&-1===i.indexOf(t)&&i.push(t)}),i.forEach(function(e){group__setPositionByElemsAttrs(e)})),tn_setOutlinePosition("selected"),tn_destroyTidyControls(),tn_createSpacingControls()}function elems__selected__alignTop(l,e){if(tn_console("func: elems__selected__alignTop"),"eachother"==e){if($(".tn-elem__selected").length<2)return}else if(0==$(".tn-elem__selected").length)return;var i,n,a=1===$(".tn-group__selected").length&&$(".tn-group__selected .tn-elem").length===$(".tn-elem__selected").length;if("eachother"==e||"grid"==e||"window"==e){var o,s,d=1e6,r=-1e6;if($(".tn-elem__selected").length<2)return;if($(a?".tn-elem__selected":".tn-group__selected, .tn-elem__selected").each(function(){var e,t=$(this),i=elem__getFieldValue(t,"groupid");(!(e=i?group__getById(i):e)||e.hasClass("tn-group__open")||a)&&(i=elem__getRealPosition(t),"top"==l&&(o=i.top)<d&&(d=o),"bottom"==l&&(s=i.top+parseInt(t.height(),10),r<s)&&(r=s),"middle"==l)&&((o=i.top)<d&&(d=o),s=i.top+parseInt(t.height(),10),r<s)&&(r=s)}),1e6==d&&-1e6==r)return}"eachother"==e&&$(a?".tn-elem__selected":".tn-group__selected, .tn-elem__selected").each(function(){var e,t,i,n=$(this),o=n.hasClass("tn-group"),s=elem__getFieldValue(n,"groupid");if(e=s?group__getById(s):e){if(!e.hasClass("tn-group__open")&&!a)return;t=parseInt(e.css("top"),10)}"top"==l&&(i=e?d-t:d),"bottom"==l&&(i=r-parseInt(n.height(),10),i=e?i-t:i),"middle"==l&&(i=d+parseInt((r-d)/2)-parseInt(n.height()/2,10),i=e?i-t:i),n.css("top",i+"px"),o?group__saveCurrentPosition(n.attr("id")):elem__Save__currentPosition(n)}),"grid"==e&&(i=[],n=0,"top"==l&&(n=window.tn.canvas_min_offset_top-d),"bottom"==l&&(n=window.tn.canvas_min_offset_top+window.tn.canvas_min_height-r),"middle"==l&&(n=window.tn.canvas_min_height/2-(d-window.tn.canvas_min_offset_top+(r-d)/2)),$(".tn-elem__selected").each(function(){var e=$(this),t=parseInt(e.css("top"),10),t=(e.css("top",t+n+"px"),elem__Save__currentPosition(e),elem__getFieldValue(e,"groupid"));t&&-1===i.indexOf(t)&&i.push(t)}),i.forEach(function(e){group__setPositionByElemsAttrs(e)})),"window"==e&&(i=[],n=0,"top"==l&&(n=window.tn.canvas_max_offset_top-d),"bottom"==l&&(n=window.tn.canvas_max_offset_top+window.tn.canvas_max_height-r),"middle"==l&&(n=window.tn.canvas_max_height/2-(d-window.tn.canvas_max_offset_top+(r-d)/2)),$(".tn-elem__selected").each(function(){var e=$(this),t=parseInt(e.css("top")),t=(e.css("top",t+n+"px"),elem__Save__currentPosition(e),elem__getFieldValue(e,"groupid"));t&&-1===i.indexOf(t)&&i.push(t)}),i.forEach(function(e){group__setPositionByElemsAttrs(e)})),tn_setOutlinePosition("selected"),tn_destroyTidyControls(),tn_createSpacingControls()}function elem__Delete(e){e=tn__getjQueryElem(e);var t,i,n=[];e&&e.length?((t=elem__getFieldValue(e,"groupid"))&&n.push(t),window.tn.flags.isSbsPanelOpen&&panelSBS__close(e,!0),e.remove()):(i=$(".tn-elem__selected")).each(function(){var e=$(this),t=elem__getFieldValue(e,"groupid");t&&n.push(t),window.tn.flags.isSbsPanelOpen&&1===i.length&&panelSBS__close(e,!0),e.remove()}),group__checkEmpty(),n.length&&n.forEach(function(e){group__getById(e)&&group__setPositionByElemsAttrs(e,!1,!0)}),layers__update(),tn_figma__checkAmazonImages(),tn_hideOutline("hover"),tn_hideRotateCursor($(".tn-rotate-cursor"))}function elem__Duplicate(e,t){tn_console("func: elem__Duplicate");var i,n,o,e=elem__getData__inJson(e);return e.elem_id=Date.now(),e.zindex=allelems__getHighestZIndex()+1,"form"===e.elem_type&&(i=JSON.parse(e.inputs),n=0,o=Date.now(),Object.keys(i).forEach(function(e){i[e].lid=o+n,n++}),e.inputs=JSON.stringify(i)),e=addElem(e),t||elem__select(e),layers__update(),e}function elem__DuplicateByOption(e,l){tn_console("func: elem__DuplicateByOption");var a={},d={elementsDuplicates:[],newGroupIds:[]};return e.each(function(){var e,t,i,n,o,s=$(this);s.hasClass("tn-elem__drag-clone")||((e=elem__getData__inJson(s)).elem_id=Date.now(),"form"===e.elem_type&&(t=JSON.parse(e.inputs),i=0,n=Date.now(),Object.keys(t).forEach(function(e){t[e].lid=n+i,i++}),e.inputs=JSON.stringify(t)),e.groupid&&!l&&(a[e.groupid]?e.groupid=a[e.groupid]:(o=group__createGroupId(),a[e.groupid]=o,d.newGroupIds.push(o),e.groupid=o)),o=addElem(e),d.elementsDuplicates.push({originalId:s.attr("id"),newElemId:o.attr("id")}))}),layers__update(),d}function elem__SwapCoords(e,t){var i={left:elem__getFieldValue(e,"left"),top:elem__getFieldValue(e,"top")},n={left:elem__getFieldValue(t,"left"),top:elem__getFieldValue(t,"top")};elem__setFieldValue(e,"left",n.left),elem__setFieldValue(e,"top",n.top),elem__setFieldValue(t,"left",i.left),elem__setFieldValue(t,"top",i.top),elem__renderView(e),elem__renderView(t)}function elem__Lock(e,i){tn_console("func: elem_Lock");var n=e&&0<e.length?e:$(".tn-elem__selected");n.each(function(){var e,t=$(this);0!=t.length&&(e=elem__getFieldValue(t,"lock"),elem__setFieldValue(t,"lock",void 0!==i?i:"y"===e?"":"y","render","updateui"),"y"===e&&t.removeClass("tn-elem__locked"),layers__update(),(e=t.closest(".tn-group")).length?group__select(e.attr("id")):(1<n.length?elem__select__also:elem__select)(t))})}function elem__Invisible(e,i){tn_console("func: elem_invisible"),(e&&0<e.length?e:$(".tn-elem__selected")).each(function(){var e,t=$(this);0!=t.length&&(e=elem__getFieldValue(t,"invisible"),elem__setFieldValue(t,"invisible",e=void 0!==i?i:"y"===e?"":"y","render","updateui"),"y"!==e?(t.removeClass("tn-elem__invisible"),(e=elem__getFieldValue(t,"groupid"))?group__select(e):elem__select(t)):(tn_hideOutline("selected"),tn_hideOutline("hover"),floor__mousedown()))}),layers__update()}function tn_arrange__backward(e){var t=$(".tn-settings [name=zindex]");tn_undo__Add("elems_sort"),window.tn.flags.isMultiEdit?$(".tn-artboard > .tn-elem__selected, .tn-group__selected").each(function(){var e=$(this);e.hasClass("tn-group")?group__setZIndex__Backward(e):(e=elem__setZIndex__Backward(e),t.val(e))}):(e=elem__setZIndex__Backward(e),t.val(e)),layers__update(),tn_set_lastChanges()}function tn_arrange__forward(e){var t=$(".tn-settings [name=zindex]");tn_undo__Add("elems_sort"),window.tn.flags.isMultiEdit?$(".tn-artboard > .tn-elem__selected, .tn-group__selected").each(function(){var e=$(this);e.hasClass("tn-group")?group__setZIndex__Forward(e):(e=elem__setZIndex__Forward(e),t.val(e))}):(e=elem__setZIndex__Forward(e),t.val(e)),layers__update(),tn_set_lastChanges()}function tn_arrange__sendFront(e){var t=$(".tn-settings [name=zindex]");tn_undo__Add("elems_sort"),window.tn.flags.isMultiEdit?$(".tn-artboard > .tn-elem__selected, .tn-group__selected").each(function(){var e=$(this);e.hasClass("tn-group")?group__setZIndex__Front(e):(e=elem__setZIndex__Front(e),t.val(e))}):(e=elem__setZIndex__Front(e),t.val(e)),layers__update(),tn_set_lastChanges()}function tn_arrange__sendBack(e){var t=$(".tn-settings [name=zindex]");tn_undo__Add("elems_sort"),window.tn.flags.isMultiEdit?$(".tn-artboard > .tn-elem__selected, .tn-group__selected").each(function(){var e=$(this);e.hasClass("tn-group")?group__setZIndex__Back(e):(e=elem__setZIndex__Back(e),t.val(e))}):(e=elem__setZIndex__Back(e),t.val(e)),layers__update(),tn_set_lastChanges()}function tn_elem__copy(e){window.tn.flags.isMultiEdit?(elem__selected__buf__Copy(),elem__selected__buf__Paste()):(elem__offsetMove(e=elem__Duplicate(e),20,20),tn_undo__Add("elem_duplicate",e)),tn_set_lastChanges()}function tn_elem__delete(){1===$(".tn-elem__selected").length?tn_undo__Add("elem_delete",$(".tn-elem__selected")):tn_undo__Add("elems_selected_delete"),elem__Delete(),tn_set_lastChanges(),floor__mousedown()}function tn_elem__lock(e){e=e||$(".tn-elem__selected"),tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:e),(group__isSelectedOnlyGroups()?group__lock:elem__Lock)(),tn_set_lastChanges()}function tn_elem__hide(e,t){tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:e),e&&1===e.length?(elem__Click(e,t,"noedit"),elem__Invisible(e)):window.tn.flags.isMultiEdit&&(group__isSelectedOnlyGroups()?group__hide():elem__Invisible($(".tn-elem__selected"))),tn_set_lastChanges(),t&&t.stopPropagation()}function elem__clearAdaptiveAttributes(i){var e=elem__getBreakpointsForAdaptive(!0);const n=i.getAttribute("data-fields").split(",");e.forEach(t=>{n.forEach(e=>{i.removeAttribute(`data-field-${e}-res-${t}-value`)})})}function elem__checkForAdaptive(){let n=!1;const t=elem__getBreakpointsForAdaptive();return document.querySelectorAll(".tn-elem__selected").forEach(i=>{if(!n){const e=i.getAttribute("data-fields").split(",");t.forEach(t=>{e.forEach(e=>{i.getAttribute(`data-field-${e}-res-${t}-value`)&&(n=!0)})})}}),n}function elem__getBreakpointsForAdaptive(e=!1){var t=window.tn.screens,i=window.tn.curResolution,n=window.tn.topResolution;let o=t.indexOf(i);return i!==n&&e&&o++,t.slice(0,o)}function elem__setZIndex__Backward(e){tn_console("func: elem__zindex__backward");var i,t=e.closest(".tn-group"),t=t.length?t.find(".tn-elem"):$(".tn-artboard > .tn-elem, .tn-group"),n=elem__getFieldValue(e,"zindex"),n=parseInt(n,10),o=0;return t.each(function(){var e=$(this),t=e.hasClass("tn-group")?group__getLowestZIndexInGroup(e.attr("id"),"zindex"):elem__getFieldValue(e,"zindex");(t=parseInt(t))<n&&o<t&&(i=e,o=t)}),void 0!==i?(elem__setFieldValue(e,"zindex",o,"render"),i.hasClass("tn-group")?(t=i.find(".tn-elem")).each(function(){var e=$(this);elem__setFieldValue(e,"zindex",parseInt(elem__getFieldValue(e,"zindex"))+1)}):elem__setFieldValue(i,"zindex",n,"render"),elem__getFieldValue(e,"zindex")):n}function elem__setZIndex__Forward(e){tn_console("func: elem__zindex__forward");var i,t=e.closest(".tn-group"),t=t.length?t.find(".tn-elem"):$(".tn-artboard > .tn-elem, .tn-group"),n=elem__getFieldValue(e,"zindex"),n=parseInt(n,10),o=0;return t.each(function(){var e=$(this),t=e.hasClass("tn-group")?group__getHighestZIndexInGroup(e.attr("id"),"zindex"):elem__getFieldValue(e,"zindex"),t=parseInt(t);o<t&&(i=e,o=t)}),t.each(function(){var e=$(this),t=e.hasClass("tn-group")?group__getHighestZIndexInGroup(e.attr("id"),"zindex"):elem__getFieldValue(e,"zindex"),t=parseInt(t);n<t&&t<o&&(i=e,o=t)}),void 0!==i?(elem__setFieldValue(e,"zindex",o,"render"),i.hasClass("tn-group")?(t=i.find(".tn-elem")).each(function(){var e=$(this);elem__setFieldValue(e,"zindex",parseInt(elem__getFieldValue(e,"zindex"))-1)}):elem__setFieldValue(i,"zindex",n,"render"),elem__getFieldValue(e,"zindex")):n}function elem__setZIndex__Front(t){tn_console("func: elem__zindex__front");var e,i,n=t.closest(".tn-group"),o=elem__getFieldValue(t,"zindex"),o=parseInt(o,10),s=0;return n.length?(e=n.attr("id"),s=parseInt(group__getHighestZIndexInGroup(e))):$(".tn-elem").each(function(){var e=elem__getFieldValue($(this),"zindex"),e=parseInt(e);s<e&&(s=e)}),s==o?o:(i=o,(n.length?n.find(".tn-elem"):$(".tn-elem")).each(function(){var e=$(this),e=parseInt(elem__getFieldValue(e,"zindex"));o<e&&(i=elem__setZIndex__Forward(t))}),i)}function elem__setZIndex__Back(t){tn_console("func: elem__zindex__back");var i,e=t.closest(".tn-group"),n=elem__getFieldValue(t,"zindex"),n=parseInt(n,10),o=1e7;return e.length||$(".tn-elem").each(function(){var e=elem__getFieldValue($(this),"zindex");(e=parseInt(e,10))<o&&(o=e)}),o==n?n:($(".tn-elem").each(function(){var e=$(this),e=parseInt(elem__getFieldValue(e,"zindex"));parseInt(e,10)<n&&(i=elem__setZIndex__Backward(t))}),i)}function allelems__getHighestZIndex(e){var t=0;return(e&&e.length?e:$(".tn-elem")).each(function(){var e=$(this).attr("data-field-zindex-value");void 0!==(e=parseInt(e,10))&&0==isNaN(e)&&t<e&&(t=e)}),t=parseInt(t,10)}function elem__checkZIndexes__Dubble(){var o={},s=($(".tn-elem").each(function(){var e=$(this),t=group__getFieldValue(e,"zindex");o[t]?o[t].push(e):o[t]=[e]}),0);Object.keys(o).forEach(function(i){var e,t,n=o[i];1===n.length?(e=n[0],t=parseInt(i)+s,e.attr("data-field-zindex-value",t),e.css("z-index",t)):n.forEach(function(e){var t=parseInt(i)+s;e.attr("data-field-zindex-value",t),e.css("z-index",t),s++})})}function group__rerender(){document.querySelectorAll(".tn-group").forEach(e=>{e=e.id;group__setPositionByElemsAttrs(e,group__getMinMaxPoints(e),!0)})}function group__create(t,i,e){var n,o,s,l=t?$("[data-field-groupid-value="+t+"]"):$(".tn-elem__selected");void 0===l||l.length<2?elem__delFieldValue($("[data-field-groupid-value="+t+"]"),"groupid"):(n=t||group__createGroupId(),e||tn_undo__Add("elems_selected_save"),t?l.each(function(){var e=$(this),e=(elem__unselect(e,!0),$("[data-elem-id="+e.attr("id")+"]"));1<e.length&&e.each(function(){var e=$(this);e.html()||e.remove()})}):(o=allelems__getHighestZIndex(l),l.sort(function(e,t){e=parseInt(elem__getFieldValue($(e),"zindex"));return parseInt(elem__getFieldValue($(t),"zindex"))-e}),l.each(function(){var e=$(this);elem__unselect(e,!0),elem__setFieldValue(e,"groupid",n,!1,!1,window.tn.topResolution),elem__setFieldValue(e,"zindex",o),o--})),elem__checkZIndexes__Dubble(),$(".tn-artboard").append('<div id="'+n+'" class="tn-group"></div>'),$("#"+n+".tn-group").append(l),l.draggable("disable"),l.resizable("disable"),group__setPositionByElemsAttrs(n),group__addUiClickEvents(group__getById(n)),group__updateZIndex(n),group__saveCurrentPosition(n),"object"==typeof i?(i.leftunits||(i.leftunits="px"),i.toptunits||(i.toptunits="px"),s=group__findHighestNameIndex(),i.name||(i.name="Group "+s),Object.keys(i).forEach(function(e){"id"!==e&&("lock"===e&&"y"===i[e]?group__lock(n,!0):"hidden"===e&&"y"===i[e]?group__hide(n,!0):group__setFieldValue(t,e,i[e]))})):(s=group__findHighestNameIndex(),group__setFieldValue(n,"leftunits","px"),group__setFieldValue(n,"topunits","px"),group__setFieldValue(n,"name","Group "+s)),e||(tn_set_lastChanges(),layers__update(),group__select(n)),group__checkEmpty())}function group__createGroupId(){return Date.now()+""+getRandomInt(1e4,99999)}function group__insertElemInGroup(e,t){var i=group__getById(t);i&&(elem__setFieldValue(e,"groupid",t,!1,!1,window.tn.topResolution),i.append(e),elem__renderViewOneField(e,"left"),elem__renderViewOneField(e,"top"))}function group__deleteElemFromGroup(e,t){group__getById(t)&&(elem__delFieldValue(e,"groupid",!1,!1,!1,window.tn.topResolution),e.appendTo(".tn-artboard"),elem__renderViewOneField(e,"left"),elem__renderViewOneField(e,"top"),e.draggable("enable"),group__setPositionByElemsAttrs(t))}function group__findHighestNameIndex(){var t=0;return $(".tn-group").each(function(){var e=group__getFieldValue($(this),"name");e&&2===(e=e.split("Group ")).length&&(e=parseInt(e[1]),!isNaN(e))&&t<e&&(t=e)}),t+1}function group__getDataJson(e){var t,i,n="name,lock,hidden,left,top,leftunits,topunits",o=[];return e?(t=group__getById(e),i={id:e},n.split(",").forEach(function(e){i[e]=group__getFieldValue(t,e)}),o=i):$(".tn-group").each(function(){var t=$(this),i={id:t.attr("id")};n.split(",").forEach(function(e){i[e]=group__getFieldValue(t,e)}),o.push(i)}),o}function group__getMinMaxPoints(e){var t,i=1e6,n=-1e6,o=1e6,s=-1e6;return group__getAllElementsById(e).each(function(){var e=$(this);(t=elem__convertPosition__Local__toAbsolute(e,"top",parseInt(elem__getFieldValue(e,"top"))))<i&&(i=t),t=t+parseInt(e.height()),n<t&&(n=t),(t=elem__convertPosition__Local__toAbsolute(e,"left",parseInt(elem__getFieldValue(e,"left"))))<o&&(o=t),t=t+parseInt(e.width()),s<t&&(s=t)}),{y_min:i,y_max:n,x_min:o,x_max:s}}function group__setPositionByElemsAttrs(e,t,i){tn_console();var n=t||group__getMinMaxPoints(e);$("#"+e+".tn-group").css("top",n.y_min).css("left",n.x_min).css("height",n.y_max-n.y_min).css("width",n.x_max-n.x_min),t||group__updateElemsActualPosition(e),group__saveCurrentPosition(e,!1,i)}function group__getAllElementsById(e){return $("#"+e+".tn-group .tn-elem")}function group__getHighestZIndexInGroup(e){var t=0;return group__getAllElementsById(e).each(function(){var e=elem__getFieldValue($(this),"zindex");void 0!==(e=parseInt(e))&&0==isNaN(e)&&t<e&&(t=e)}),t=parseInt(t,10)}function group__getLowestZIndexInGroup(e){var t=1e7;return group__getAllElementsById(e).each(function(){var e=elem__getFieldValue($(this),"zindex");void 0!==(e=parseInt(e,10))&&0==isNaN(e)&&e<t&&(t=e)}),t=parseInt(t,10)}function group__updateZIndex(e){var t=group__getById(e),e=group__getHighestZIndexInGroup(e);t.css("z-index",e)}function group__getById(e){e=$("#"+e+".tn-group");return e.length?e:null}function group__setFieldValue(e,t,i){e=group__getById(e);e&&e.attr("data-field-"+t+"-value",i)}function group__getFieldValue(e,t){return e.attr("data-field-"+t+"-value")}function group__updateElemsActualPosition(e){var n,o,t=group__getById(e);t&&(n=t.css("left").slice(0,-2),o=t.css("top").slice(0,-2),$("[data-field-groupid-value="+e+"]").each(function(){var e,t,i=$(this);i.hasClass("tn-elem__fake")||(e=elem__convertPosition__Local__toAbsolute(i,"left",e=elem__getFieldValue(i,"left")),t=elem__convertPosition__Local__toAbsolute(i,"top",t=elem__getFieldValue(i,"top")),i.css({left:e-n,top:t-o}))}))}function group__saveCurrentPosition(e,t,i){var n,o=group__getById(e);o&&(t?(n=parseInt(o.css(t)),group__setFieldValue(e,t,n=group__convertPosition__Absolute__toLocal(o,t,n)),panelSettings__updateGroupUi(o,t,n)):(t=parseInt(o.css("left")),group__setFieldValue(e,"left",t=group__convertPosition__Absolute__toLocal(o,"left",t)),n=parseInt(o.css("top")),group__setFieldValue(e,"top",n=group__convertPosition__Absolute__toLocal(o,"top",n)),tn_multiEdit__updateUi()),i||o.find(".tn-elem").each(function(){elem__Save__currentPosition($(this))}))}function group__updateGroupSizesUI(e,t){var e=group__getById(e),i=parseInt(e.css(t));panelSettings__updateGroupUi(e,t,i)}function group__select(e,t,i=!1){tn_console();var n,o=group__getById(e);o&&(t||allelems__unselect(!0),allelems__closeEditMode(),window.tn.flags.isSbsPanelOpen&&panelSBS__close(),(n=group__getAllElementsById(e)).each(function(){$(this).addClass("tn-elem__selected")}),$(".tn-elem__selected").resizable("disable"),i||(window.tn.flags.isMultiEdit=!0,window.tn.multi_edit_elems=t?$(".tn-elem__selected"):n,window.tn.flags.isGroupSelected=!0,panelSettings__openTimeout(n,!(window.tn.flags.isSettingsFocused=!1))),o.addClass("tn-group__selected"),layers__hightlight(),$("body").addClass("tn-multiselected"),elem__removeAxis(),(i=$(".tn-outline_selected")).removeClass("tn-outline__locked"),i.removeClass("tn-outline__fluid"),tn_showOutlineDescription(),(o.hasClass("tn-group__locked")?(i.addClass("tn-outline__locked"),tn_hideOutline("hover"),tn_hideOutlineDescription):(i.removeClass("tn-outline__locked"),tn_showOutlineDescription))(),tn_setOutlinePosition("selected"),tn_showOutline("selected"),window.tn.flags.isRulersShow)&&rulers__highlightElem(e)}function group__unselectAll(){var e=$(".tn-group"),t=$(".tn-group .tn-elem");e.removeClass("tn-group__selected"),t.removeClass("tn-elem__selected"),group__closeSelectionForAll(),layers__hightlight(),tn_hideOutline("selected")}function group__unmake(e,i){tn_console();var t,n=$(".tn-elem__selected");(e||void 0!==n&&0!=n.length)&&(i||tn_undo__Add("elems_selected_save"),t=e?$(".tn-group#"+e):$(".tn-group__selected"),e&&(n=t.find(".tn-elem")),t.find(".tn-elem").unwrap(),t.remove(),n.each(function(){var e=$(this),t=elem__getFieldValue(e,"groupid");(i||void 0!==t&&0<t)&&(elem__delFieldValue(e,"groupid",!1,!1,!1,window.tn.topResolution),elem__renderViewOneField(e,"left"),elem__renderViewOneField(e,"top"),e.draggable("enable"))}),i||tn_set_lastChanges(),layers__update())}function group__checkEmpty(t){$(t?".tn-group#"+t:".tn-group").each(function(){var e=$(this),e=t||e.attr("id");group__getAllElementsById(e).length<2&&group__unmake(e,!0)})}function group__unselect(e){tn_console();var t,i=group__getAllElementsById(e),e=group__getById(e),i=(i.each(function(){var e=$(this);e.removeClass("tn-elem__selected"),e.resizable("disable"),e.trigger("elementUnselected"),window.tn.flags.isSbsStepMode&&sbs__elem__exitonStepMode(e)}),e.removeClass("tn-group__selected"),$(".tn-elem__selected"));1===i.length&&((t=$(".tn-elem__selected")).resizable("enable"),allelems__closeEditMode(),t.trigger("elementSelected")),1<i.length?(window.tn.flags.isMultiEdit=!0,panelSettings__openTimeout(window.tn.multi_edit_elems=i,!0),$("body").addClass("tn-multiselected")):$("body").removeClass("tn-multiselected"),(0===i.length?(panelABSettings__open(),tn_hideOutline):tn_setOutlinePosition)("selected"),e.draggable("enable"),layers__hightlight(),elem__removeAxis()}function group__openSelection(e){e.addClass("tn-group__open"),e.removeClass("tn-group__hover"),tn_setOutlinePosition("hover"),e.draggable("disable"),e.find(".tn-elem").each(function(){var e=$(this);"y"!==elem__getFieldValue(e,"lock")&&e.draggable("enable")})}function group__closeSelectionForAll(){var e=$(".tn-group__open");e.length&&(e.find(".tn-elem").draggable("disable"),e.removeClass("tn-group__open"),e.draggable("enable"))}function group__lock(e,t,i){var n,o;t||i||tn_undo__Add("elems_selected_save"),e?(group__setFieldValue(e,"lock",o="y"===group__getFieldValue(i=$(".tn-group#"+e),"lock")?null:"y"),n=group__getAllElementsById(e),"y"===o?(i.addClass("tn-group__locked"),i.draggable("disable")):(i.removeClass("tn-group__locked"),i.draggable("enable"))):$(".tn-group__selected").each(function(){var e=$(this),t=e.attr("id"),i="y"===group__getFieldValue(e,"lock")?null:"y";group__setFieldValue(t,"lock",i),n=group__getAllElementsById(t),"y"===i?(e.addClass("tn-group__locked"),e.draggable("disable")):(e.removeClass("tn-group__locked"),e.draggable("enable"))}),t||(elem__Lock(n,o),tn_set_lastChanges()),layers__update()}function group__hide(e,t,i){var n,o,s;t||i||tn_undo__Add("elems_selected_save"),e?(n=$(".tn-group#"+e),o=group__getAllElementsById(e),group__setFieldValue(e,"hidden",s="y"===(e=group__getFieldValue(n,"hidden"))?null:"y"),e?n.removeClass("tn-group__hidden"):n.addClass("tn-group__hidden"),t||(elem__Invisible(o,s),tn_set_lastChanges())):$(".tn-group__selected").each(function(){var e=$(this),t=e.attr("id"),i=(o=group__getAllElementsById(t),group__getFieldValue(e,"hidden"));group__setFieldValue(t,"hidden","y"===i?null:"y"),i?e.removeClass("tn-group__hidden"):e.addClass("tn-group__hidden")}),t||(elem__Invisible(o,s),i)||tn_set_lastChanges(),layers__update()}function group__unlockWithoutLockedElems(){$('.tn-group__locked .tn-elem:not([data-field-lock-value="y"])').parents(".tn-group__locked").each(function(){group__lock($(this).attr("id"),!0)})}function group__showkWithoutHiddenElems(){$('.tn-group__hidden .tn-elem:not([data-field-invisible-value="y"])').parents(".tn-group__hidden").each(function(){group__hide($(this).attr("id"),!0)})}function group__convertPosition__Absolute__toLocal(e,t,i){var n,o,s;return i=parseInt(i,10),"left"===t&&(n=group__getFieldValue(e,"leftunits"),o=window.tn.canvas_min_offset_left,s=window.tn.canvas_min_width,i-=o,"%"===n)&&(i=Math.round(i/s*100)),i="top"===t&&(n=group__getFieldValue(e,"topunits"),o=window.tn.canvas_min_offset_top,s=window.tn.canvas_min_height,i-=o,"%"===n)?Math.round(i/s*100):i}function group__convertPosition__Local__toAbsolute(e,t,i){var n,o;return void 0===i&&(i=group__getFieldValue(e,t)),i=parseInt(i,10),"left"==t&&(n=window.tn.canvas_min_offset_left,o=window.tn.canvas_min_width,i=n+(i="%"===group__getFieldValue(e,"leftunits")?parseInt(o*parseFloat(i/100)):i)),"top"==t&&(n=window.tn.canvas_min_offset_top,o=window.tn.canvas_min_height,i=n+(i="%"===group__getFieldValue(e,"topunits")?parseInt(o*parseFloat(i/100)):i)),i}function group__isSelectedOnlyGroups(){var e=$(".tn-group__selected").find(".tn-elem"),t=$(".tn-elem__selected");return e.length===t.length}function group__aligntoCanvas(n){tn_console("func: elem__aligntoCanvas"),0!==$(".tn-group__selected").length&&$(".tn-group__selected").each(function(){var e=$(this),t=e.width(),i=e.height();"left"==n&&e.css("left",window.tn.canvas_min_offset_left+"px"),"right"==n&&e.css("left",window.tn.canvas_min_offset_left+window.tn.canvas_min_width-parseInt(t)+"px"),"center"==n&&e.css("left",window.tn.canvas_min_offset_left+window.tn.canvas_min_width/2-parseInt(t/2)+"px"),"top"==n&&e.css("top",window.tn.canvas_min_offset_top+"px"),"bottom"==n&&e.css("top",window.tn.canvas_min_offset_top+window.tn.canvas_min_height-parseInt(i)+"px"),"middle"==n&&e.css("top",window.tn.canvas_min_offset_top+window.tn.canvas_min_height/2-parseInt(i/2)+"px"),group__saveCurrentPosition(e.attr("id")),tn_setOutlinePosition("selected")})}function group__checkGroupedElsOutside(){var t=[];$(".tn-artboard > .tn-elem[data-field-groupid-value]").each(function(){var e=elem__getFieldValue($(this),"groupid");e&&-1===t.indexOf(e)&&t.push(e)}),t.forEach(function(e){var t=$('.tn-elem[data-field-groupid-value="'+e+'"]'),i=group__getById(e);1===t.length?elem__delFieldValue(t,"groupid"):i&&i.length?t.each(function(){group__insertElemInGroup($(this),e)}):group__create(e,void 0,!0)})}function group__setZIndex__Backward(e){tn_undo__Add("elems_sort");var i,t,n,o=group__getLowestZIndexInGroup(e.attr("id")),o=parseInt(o),s=$(".tn-artboard > .tn-elem:not(.tn-elem__fake), .tn-group"),l=0;s.each(function(){var e=$(this),t=e.hasClass("tn-group")?group__getLowestZIndexInGroup(e.attr("id")):elem__getFieldValue(e,"zindex"),t=parseInt(t,10);l<t&&t<o&&(l=t,i=e)}),0!==l&&(t=0,e.find(".tn-elem").each(function(){var e=$(this);elem__setFieldValue(e,"zindex",l+t),e.css("z-index",l+t),t++}),n=l+t,i.hasClass("tn-group")?(t=0,i.find(".tn-elem").each(function(){var e=$(this);elem__setFieldValue(e,"zindex",n+t),e.css("z-index",n+t),t++})):(elem__setFieldValue(i,"zindex",n),i.css("z-index",n))),tn_set_lastChanges()}function group__setZIndex__Forward(e){tn_undo__Add("elems_sort");var i,n=group__getLowestZIndexInGroup(e.attr("id")),n=parseInt(n),e=$(".tn-artboard > .tn-elem:not(.tn-elem__fake), .tn-group"),o=1e6;e.each(function(){var e=$(this),t=e.hasClass("tn-group")?group__getLowestZIndexInGroup(e.attr("id")):elem__getFieldValue(e,"zindex");(t=parseInt(t,10))<o&&n<t&&(o=t,i=e)}),i&&(i.hasClass("tn-group")?group__setZIndex__Backward(i):(e=elem__setZIndex__Backward(i),i.css("z-index",e))),tn_set_lastChanges()}function group__setZIndex__Back(e){tn_undo__Add("elems_sort");var t=$(".tn-artboard > .tn-elem:not(.tn-elem__fake), .tn-group"),i=e.attr("id"),t=sortElemsByZindex(t),t=$(t[t.length-1]),n=t.hasClass("tn-group")?group__getLowestZIndexInGroup(t.attr("id")):elem__getFieldValue(t,"zindex"),n=parseInt(n,10),t=sortElemsByZindex(e.find(".tn-elem")),o=0;$(t.get().reverse()).each(function(){var e=$(this);elem__setFieldValue(e,"zindex",n+o),e.css("z-index",n+o),o++}),$(".tn-elem:not(.tn-elem__fake)").each(function(){var e,t=$(this);elem__getFieldValue(t,"groupid")!=i&&(e=elem__getFieldValue(t,"zindex"),elem__setFieldValue(t,"zindex",(e=parseInt(e,10))+o),t.css("z-index",e+o))}),tn_set_lastChanges()}function group__setZIndex__Front(e){tn_undo__Add("elems_sort");var t=$(".tn-artboard > .tn-elem:not(.tn-elem__fake), .tn-group"),i=e.attr("id"),t=sortElemsByZindex(t),n=group__getLowestZIndexInGroup(i),t=$(t[0]),o=t.hasClass("tn-group")?group__getLowestZIndexInGroup(t.attr("id")):elem__getFieldValue(t,"zindex"),o=parseInt(o,10),t=sortElemsByZindex(e.find(".tn-elem")),s=0;$(t.get().reverse()).each(function(){var e=$(this);elem__setFieldValue(e,"zindex",o+s),e.css("z-index",o+s),s++}),$(".tn-elem:not(.tn-elem__fake)").each(function(){var e,t=$(this);elem__getFieldValue(t,"groupid")==i||elem__getFieldValue(t,"zindex")<n||(e=elem__getFieldValue(t,"zindex"),elem__setFieldValue(t,"zindex",(e=parseInt(e))-s),t.css("z-index",e-s))}),tn_set_lastChanges()}function group__checkElemsWithPercentUnits(e,t){e=group__getById(e);return("left"===t?e.find('.tn-elem[data-field-leftunits-value="%"]'):"top"===t?e.find('.tn-elem[data-field-topunits-value="%"]'):e.find('.tn-elem[data-field-topunits-value="%"], .tn-elem[data-field-leftunits-value="%"]')).length}function panelSettings__getCommonAttrs(e){e=tn__getElems(e);let o={types:[],commonAttrs:{},fields:[]};return e.forEach(e=>{var t,i=e.attributes;for(t in i){let e=i[t].name;e&&e.includes("data-field-")&&(e=panelSettings__processAttributeName(e),o.commonAttrs[e]||(o.commonAttrs[e]="initial"))}var n=e.getAttribute("data-elem-type"),n=(o.types.includes(n)||o.types.push(n),e.getAttribute("data-fields").split(",")),e=(e.fieldsArray=n).filter(e=>!o.fields.includes(e));e.length&&(o.fields=o.fields.concat(e))}),e.forEach(e=>{panelSettings__setCommonAttributes(Object.values(e.attributes).filter(e=>e.name.includes("data-field-")),o,e?.fieldsArray||[])}),o}function panelSettings__setCommonAttributes(e,i,t){e.forEach(e=>{var t=panelSettings__processAttributeName(e.name);"initial"===i.commonAttrs[t]?i.commonAttrs[t]=e.value:i.commonAttrs[t]!==e.value&&(i.commonAttrs[t]=null)});var n,o=e.map(e=>panelSettings__processAttributeName(e.name));for(n in i.commonAttrs){var s=n.split("-res-")[0];!o.includes(n)&&t.includes(s)&&(i.commonAttrs[n]=null)}return i}function panelSettings__processAttributeName(e){return e.replace("data-field-","").replace("-value","")}function panelSettings__checkSettingsShow(t,i,e){switch(e){case"uniq":o=!window.tn.flags.isMultiEdit&&t===i||window.tn.flags.isMultiEdit&&1===t.length&&t[0]===i;break;case"except":var n,o=!0;window.tn.flags.isMultiEdit?(n=[],t.forEach(function(e){-1===i.indexOf(e)&&n.push(e)}),0===n.length&&(o=!1)):i.forEach(function(e){e===t&&(o=!1)});break;case"several":o=!1,window.tn.flags.isMultiEdit?t.forEach(function(e){0<=i.indexOf(e)&&(o=!0)}):0<=i.indexOf(t)&&(o=!0)}return o}function panelSettings__openTimeout(e,t){window.tn.panelSettingTimerID&&clearTimeout(window.tn.panelSettingTimerID),window.tn.panelSettingTimerID=setTimeout(function(){panelSettings__open(e,t),window.tn.panelSettingTimerID=0},1)}function panelSettings__open(e,t){var i,n,o,s,l,a;tn_console(),allcolorpickers__destroy(),e||1<(e=$(".tn-elem__selected")).length&&(t=!0),$(".tn-elem__fake").remove(),t?(n=(t=panelSettings__getCommonAttrs(e)).commonAttrs,o=t.types,window.tn.flags.isMultiEdit_common_attrs=n,window.tn.flags.isMultiEdit_types=o,n=addFake(n,t.fields.join(",")),i=n.attr("data-elem-id")):(i=e.data.elem_id,o=(n=$("#"+i)).attr("data-elem-type"),window.tn.flags.isMultiEdit&&document.querySelectorAll(".tn-elem__selected").length<=1&&(window.tn.flags.isMultiEdit=!1)),$(".tn-right-box").removeClass("tn-right-box_hide"),t=window.tn.flags.isMultiEdit?group__isSelectedOnlyGroups()?1<$(".tn-group__selected").length?"Selected Groups":"Selected Group":"Selected elements":"Element settings",e=$(".tn-right-box").scrollTop(),$(".tn-right-box").html('<div class="tn-right-box__header"><span class="tn-right-box__caption">'+t+'</span><img src="img/tn-close.png" class="tn-right-box__icon" width="15px"></div>'),$(".tn-right-box__header").click(function(){tn_console("click: Minify panel"),tn_toggleSettings(!0)}),$(".tn-right-box").append('<div class="tn-settings" data-for-elem-id="'+i+'"></div>'),t=$(".tn-settings"),s="",n&&(i=n.attr("data-elem-id"),s=n.attr("data-fields")),window.tn.flags.isSbsPanelOpen?panelSBS__open(i):(panelSettings__drawLayout(t,n,i,o),tn_addSectionHandlers(),panelSettings__addControls(i,n,o,s,!1),tn_tooltip_update(),tn_console_runtime(),$(".tn-right-box").scrollTop(e),l=t.find(".sui-paste-btn-basic"),a=t.find(".sui-copy-btn-basic"),window.tn.flags.isMultiEdit&&a.css("display","none"),t.find(".sui-copy-btn-basic").on("click",function(){panelSettings__copyAnimation($(this).parents(".tn-settings").attr("data-for-elem-id")),"block"!==l.css("display")&&l.css("display","block"),td__showBubbleNotice("Animation is copied",3e3)}),l.on("click",function(){panelSettings__pasteAnimation(),panelSettings__pasteAnimationAttr(i),"block"===a.css("display")||window.tn.flags.isMultiEdit||a.css("display","block"),td__showBubbleNotice("Animation is pasted",3e3)}),panelSettings__addAlignContextMenu())}function panelSettings__addControls(n,o,s,e,l){var a,t,i,d,r,_,c=$(".tn-settings"),u=window.tn.curResolution;s=Array.isArray(s)?s[0]:s,window.tn.flags.isMultiEdit&&(control__drawUi__paddingelems(),setTimeout(function(){smartAlign__elems__setSpacingFieldValues()},100)),e&&e.length&&(e=e.split(","),group__isSelectedOnlyGroups()&&-1===e.indexOf("height")&&(e.push("height"),e.push("heightunits")),t=elem__getFieldValue(o,"fontweight"),i=elem__getFieldValue(o,"inputfontweight"),d=elem__getFieldValue(o,"inputtitlefontweight"),r=elem__getFieldValue(o,"inputelsfontweight"),_=elem__getFieldValue(o,"buttonfontweight"),e.forEach(function(e){var t="";if("sbsevent"==e||"sbstrg"==e||"sbstrgofst"==e||"sbsloop"==e||"sbsopts"==e||"sbstrgels"==e)return!0;if("layer"==e)return!0;if("bgposition_imgsize"==e||"bgposition_imgpos"==e)return!0;a=!group__isSelectedOnlyGroups()||"left"!==e&&"top"!==e&&"container"!==e&&"axisx"!==e&&"axisy"!==e&&"leftunits"!==e&&"topunits"!==e?l?JSON.parse(localStorage.getItem("tzerobasicanimation"))[e]:elem__getFieldValue(o,e):(i=$(".tn-group__selected"),l?JSON.parse(localStorage.getItem("tzerobasicanimation"))[e]:group__getFieldValue(i,e));var i;0!=(i=c.find("[data-control-field="+e+"]")).length||group__isSelectedOnlyGroups()||window.tn.flags.isMultiEdit||(t+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="'+e+'" data-control-value="'+a+'"></div></td></tr></table>',"form"===s?("button"==e.substr(0,6)?c.find(".sui-panel__section-formbuttonstyle"):c.find(".sui-panel__section-formstyle")).append(t):"filewidth"!=e&&"fileheight"!=e&&"code"!=e&&"vectorjson"!=e&&c.find(".sui-panel__section-other").append(t),i=c.find("[data-control-field="+e+"]")),0<i.length&&i.attr("data-control-value",a),"shape"===s&&"bgposition"===e?control__drawUi__shapeBgPosition(n,e):"fontweight"===e||"container"===e||"axisx"===e||"axisy"===e||"fontfamily"===e||"bgattachment"===e||"bgposition"===e||"borderstyle"===e||"linktarget"===e||"relnofollow"===e||"buttonstat"===e||"tag"===e||"shadowopacity"===e||"leftunits"===e||"topunits"===e||"widthunits"===e||"heightunits"===e||"figure"===e||"zoomable"===e||"lazyoff"===e||"pevent"===e||"animstyle"===e||"animprx"===e||"animfix"===e||"tipposition"===e||"tipopen"===e||"pinicon"===e||"vidtype"===e||"showinfo"===e||"mute"===e||"loop"===e||"autoplay"===e||"objectfitvideo"===e||"mp4controls"===e||"gallery"===s&&("slds_arrowsize"===e||"slds_arrowbgopacity"===e||"slds_arrowbgopacityhover"===e||"slds_loop"===e||"slds_speed"===e||"slds_arrowcontrols"===e||"slds_dotscontrols"===e||"slds_stretch"===e||"slds_imgposition"===e||"slds_captionwidth"===e||"slds_arrowalign"===e||"slds_arrowtype"===e||"slds_cursorcontrol"===e||"slds_arrowborder"===e)?control__drawUi__selectbox(n,e,!1):"variationweight"===e||"fontsize"===e||"width"===e&&!group__isSelectedOnlyGroups()||"height"===e&&!group__isSelectedOnlyGroups()||"lineheight"===e||"letterspacing"===e||"opacity"===e||"rotate"===e||"animduration"===e||"animdelay"===e||"animdistance"===e||"animscale"===e||"animtriggeroffset"===e||"animprxs"===e||"animprxdx"===e||"animprxdy"===e||"animfixdist"===e||"animfixtrgofst"===e||"speedhover"===e||"tipwidth"===e||"tipradius"===e||"tipshadowblur"===e?control__drawUi__slider(n,e,!1):"lettercase"===e?control__drawUi__lettercase(n,e):"align"==e?control__drawUi__radio(n,e):"img"!=e&&"bgimg"!=e&&"tipimg"!=e||window.tn.flags.isMultiEdit?"imgs"==e?control__drawUi__galleryupload(n):("filewidth"==e||"fileheight"==e)&&0<a?$(".sui-file-label").append(" "+a+"px"):"code"==e?control__drawUi__code(n,e):"form"===s?"buttonfontweight"===e||"inputelsfontweight"===e||"inputtitlefontweight"===e||"inputfontweight"===e||"inputpos"===e||"inputfontfamily"===e||"fieldfontfamily"===e||"inputsstyle"===e||"inputsstyle2"===e||"buttonalign"===e||"buttonfontfamily"===e||"buttonuppercase"===e||"buttonfontfamily"===e||"formbottomcb"===e?control__drawUi__selectbox(n,e,!1):"buttonvariationweight"===e||"inputelsvariationweight"===e||"inputtitlevariationweight"===e||"inputvariationweight"===e||"inputfontsize"===e||"inputtitlefontsize"===e||"inputelsfontsize"===e||"buttonfontsize"===e?control__drawUi__slider(n,e,!1):"inputs"==e?control__drawUi__inputs(n,e):"receivers"==e?control__drawUi__receivers(n,e):"receivers_names"!=e&&control__drawUi__input(n,e):"effects"===e?(control__drawUi__selectbox(n,"effectstype"),control__drawUi__slider(n,"effectsvalue"),(t=(t=elem__getFieldValue(o,"effects"))&&tn_parseCSSFilter(t))||$('[data-control-field="effectsvalue"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="effects"]').closest(".sui-panel__table").css("display","none")):"vectorjson"===e?control__drawUi__vector(n):control__drawUi__input(n,e):control__drawUi__upload(n,e),!group__isSelectedOnlyGroups()&&$(".tn-group__selected").length&&($('[data-control-field="width"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="height"]').closest(".sui-panel__table").css("display","none")),u!=window.tn.topResolution&&("classname"==e||"shadowopacity"==e||"shadowcolor"==e||"zindex"==e||"tag"==e||"fontfamily"==e||"fontweight"==e||"lettercase"==e||"link"==e||"linktarget"==e||"relnofollow"==e||"buttonstat"==e||"img"==e||"bgimg"==e||"alt"==e||"figure"==e||"zoomable"==e||"lazyoff"==e||"pevent"==e||"code"==e||"vectorjson"==e||"inputs"==e||"form"===s&&("inputfontfamily"==e||"fieldfontfamily"==e||"inputfontweight"==e||"inputcolor"==e||"inputbgcolor"==e||"inputbordercolor"==e||"inputelscolor"==e||"inputelsfontweight"==e||"inputtitlefontweight"==e||"inputtitlecolor"==e||"inputsstyle"==e||"inputsstyle2"==e||"buttontitle"==e||"buttoncolor"==e||"buttonbgcolor"==e||"buttonbordercolor"==e||"buttonhovercolor"==e||"buttonhoverbgcolor"==e||"buttonhoverbordercolor"==e||"buttonhovershadowsize"==e||"buttonfontfamily"==e||"buttonfontweight"==e||"formmsgcolor"==e||"formmsgbgcolor"==e||"formmsgsuccess"==e||"formmsgurl"==e||"formname"==e||"formbottomtext"==e||"formbottomcb"==e||"formerrreq"==e||"formerremail"==e||"formerrphone"==e||"formerrname"==e)||"gallery"===s&&("color"==e||"slds_playiconcolor"==e||"slds_dotsbgcoloractive"==e||"slds_dotsbgcolor"==e||"slds_arrowbgopacityhover"==e||"slds_arrowbgopacity"==e||"slds_arrowbgcolorhover"==e||"slds_arrowbgcolor"==e||"slds_arrowcolorhover"==e||"slds_arrowcolor"==e||"imgs"==e||"slds_imgposition"==e||"slds_stretch"==e||"slds_arrowtype"==e)?(i.closest(".sui-panel__table").css("display","none"),"img"==e&&i.closest(".sui-panel__section-image").css("display","none"),"bgimg"==e&&i.closest(".sui-panel__section-bgimage").css("display","none"),"link"==e&&i.closest(".sui-panel__section-link").css("display","none"),"alt"==e&&i.closest(".sui-panel__section-tag").css("display","none"),"tag"==e&&i.closest(".sui-panel__section-tag").css("display","none"),"code"==e&&i.closest(".sui-panel__section-code").css("display","none"),"vectorjson"==e&&i.closest(".sui-panel__section-vectorjson").css("display","none"),"inputs"==e&&i.closest(".sui-panel__section-inputs").css("display","none"),"imgs"==e&&i.closest(".sui-panel__section-gallery-imgs").css("display","none"),"gallery"===s&&i.closest(".sui-panel__section-gallery-settings").css("display","none")):(void 0!==elem__getFieldValue_for_Res(o,e,u)||group__isSelectedOnlyGroups()||i.addClass("sui-form-group_undefined"),"animmobile"==e&&u<1200&&tn__updateUI__mobAnimation(o))),elem__getFieldValue(o,"classname")||$('[data-control-field="classname"]').closest(".sui-panel__table").css("display","none"),l&&o.attr("data-field-"+e+"-value",a)}),$('[data-control-field="animmobile"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="groupid"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="amazonsrc"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="uploaderror"]').closest(".sui-panel__table").css("display","none"),"variation"!==t&&$('[data-control-field="variationweight"]').closest(".sui-panel__table").css("display","none"),"variation"!==i&&$('[data-control-field="inputvariationweight"]').closest(".sui-panel__table").css("display","none"),"variation"!==d&&$('[data-control-field="inputtitlevariationweight"]').closest(".sui-panel__table").css("display","none"),"variation"!==r&&$('[data-control-field="inputelsvariationweight"]').closest(".sui-panel__table").css("display","none"),"variation"!==_&&$('[data-control-field="buttonvariationweight"]').closest(".sui-panel__table").css("display","none"),window.tn.flags.isMultiEdit)&&($('[data-section-name="image"]').css("display","none"),$('[data-section-name="imgs"]').css("display","none"),$('[data-section-name="bgimg"]').css("display","none"),$('[data-section-name="inputs"]').css("display","none"),1<s.length)&&(c.find('[data-section-name="formstyle"]').css("display","none"),c.find('[data-section-name="formbuttonstyle"]').css("display","none"),c.find('[data-section-name="arrows"]').css("display","none"),c.find('[data-section-name="dots"]').css("display","none"),c.find('[data-section-name="code"]').css("display","none"),c.find('[data-section-name="tipimg"]').css("display","none"),c.find('[data-section-name="playicon"]').css("display","none")),control__drawUi__actions(n),o&&(control__drawUi__alignelem(n),control__drawUi__animtest(n),control__drawUi__sbsopenbtn(n),control__drawUi__animmobile(n)),group__isSelectedOnlyGroups()&&$(".sui-panel__toggleContainerFields").css("display","none"),$(".tn-artboard > .tn-elem__selected").length&&$(".tn-group__selected").length&&$(".sui-panel__section-container").addClass("sui-panel__section_disable"),o&&!window.tn.flags.isMultiEdit||(group__isSelectedOnlyGroups()&&1===$(".tn-group__selected").length?control__drawUi__alignelem($(".tn-group__selected").attr("id"),!0):control__drawUi__alignelems()),u!=window.tn.topResolution&&("tooltip"===s&&(c.find(".sui-panel__section-pin").css("display","none"),c.find(".sui-panel__section-font").css("display","none"),c.find(".sui-panel__section-shadow").css("display","none"),c.find(".sui-panel__section-tip").css("display","none"),c.find(".sui-panel__section-tipimg").css("display","none"),c.find(".sui-panel__section-other").find('[data-control-field="opacity"]').css("display","none")),"video"===s)&&(c.find(".sui-panel__section-video").css("display","none"),c.find(".sui-panel__section-videosett").css("display","none"),c.find(".sui-panel__section-bgimg").css("display","none"))}function panelSettings__toggle(){tn_console("func: panelSettings__toggle"),$(".tn-right-box").toggleClass("tn-right-box_hide")}function panelSettings__showcontainerfields(){$(".sui-panel__toggleContainerFields").remove(),$(".sui-panel__section-container").removeClass("sui-panel_hidden")}function panelSettings__updateGroupUi(e,t,i){var n=$("[data-control-field="+t+"]"),o=$(".tn-settings [name="+t+"]");void 0===i&&(i=group__getFieldValue(e,t)),n.attr("data-control-value",i),o.val(i)}function panelSettings__updateUi(e,t,i){var n,o,s=window.tn.curResolution,l=$("[data-control-field="+t+"]"),a=$(".tn-settings [name="+t+"]");void 0===(i=window.tn.flags.isMultiEdit&&void 0===i?"Mixed":i)&&(i=elem__getFieldValue(e,t)),"opacity"==t&&(i*=100),"animscale"==t&&(i*=100),"formmsgsuccess"!=t&&"formbottomtext"!=t||void 0!==i&&""!=i&&(i=$("<div>"+i+"</div>").text()),l.attr("data-control-value",i),a.val(i),0<(a=l.find(".sui-slider")).length&&(a.slider({value:parseFloat(i)}),"width"!==t&&"height"!==t||("%"===elem__getFieldValue(e,t+"units")?a.slider({min:0,max:100}):a.slider({min:10,max:window.tn.topResolution}))),"color"!=t&&"bgcolor"!=t&&"bordercolor"!=t&&"shadowcolor"!=t&&"bordercolorhover"!=t&&"colorhover"!=t&&"tipbgcolor"!=t&&"pincolor"!=t&&"pinbgcolor"!=t&&"pinbordercolor"!=t&&"slds_arrowcolor"!=t&&"slds_arrowcolorhover"!=t&&"slds_arrowbgcolor"!=t||control__drawUi__input(e.attr("id"),t),"align"==t&&(l.find('input:radio[name="align"]').filter('[id="'+i+'"]').prop("checked",!0),l.find(".sui-radio-div").buttonset("refresh")),"lettercase"==t&&(l.find(".sui-btn-lettercase").removeClass("sui-btn-lettercase_active"),(i?l.find('input:radio[name="lettercase"]').filter('[id="'+i+'"]').prop("checked",!0).parent():l.find(".sui-btn-lettercase-reset")).addClass("sui-btn-lettercase_active")),"fontweight"==t&&$('[data-control-field="variationweight"]').closest(".sui-panel__table").css("display","variation"===i?"table":"none"),"inputvariationweight"==t&&$('[data-control-field="inputvariationweight"]').closest(".sui-panel__table").css("display","variation"===i?"table":"none"),"inputtitlevariationweight"==t&&$('[data-control-field="inputtitlevariationweight"]').closest(".sui-panel__table").css("display","variation"===i?"table":"none"),"inputelsvariationweight"==t&&$('[data-control-field="inputelsvariationweight"]').closest(".sui-panel__table").css("display","variation"===i?"table":"none"),"buttonvariationweight"==t&&$('[data-control-field="buttonvariationweight"]').closest(".sui-panel__table").css("display","variation"===i?"table":"none"),"img"!=t&&"bgimg"!=t&&"tipimg"!=t||(n=l.find(".sui-file-div"),a=l.find(".sui-file-label"),""!=i?(a.html("..."+i.substr(i.length-15)),n.css("display","block")):(a.html(""),n.css("display","none"))),"imgs"!=t||window.tn.flags.isMultiEdit||control__drawUi__galleryupload(e.attr("id")),"lock"==t&&(n=$(".tn-settings").find(".sui-btn-lock"),"y"==i?(n.html("Unlock"),e.draggable("disable"),e.resizable("disable"),e.addClass("tn-elem__locked")):(n.html("Lock"),elem__getFieldValue(e,"groupid")||e.draggable("enable"),e.closest(".tn-group").length&&!e.closest(".tn-group").hasClass("tn-group__open")||e.resizable("enable"),e.removeClass("tn-elem__locked"))),"invisible"==t&&("y"==i?e.addClass("tn-elem__invisible"):e.removeClass("tn-elem__invisible")),s!=window.tn.topResolution&&(void 0!==elem__getFieldValue_for_Res(e,t,s)||group__isSelectedOnlyGroups()?l.removeClass("sui-form-group_undefined"):l.addClass("sui-form-group_undefined")),s<1200&&"animmobile"==t&&(window.tn.flags.isMultiEdit?setTimeout(function(){tn__updateUI__mobAnimation(e)},300):tn__updateUI__mobAnimation(e),control__drawUi__animmobile(e.attr("id"))),"effects"!==t&&"effectstype"!==t&&"effectsvalue"!==t||(n=a="",(s=elem__getFieldValue(e,"effects"))?(n=(s=tn_parseCSSFilter(s))?s.value:0,a=s.type,s.isBackdrop&&(a="bd_"+a)):a=n="",$(".tn-settings [name=effectstype]").val(a),$(".tn-settings [name=effectsvalue]").val(n),$("[data-control-field=effectstype]").attr("data-control-value",a),$("[data-control-field=effectsvalue]").attr("data-control-value",n),a?(control__drawUi__slider(e.attr("id"),"effectsvalue"),$('.tn-settings [data-control-field="effectsvalue"]').closest(".sui-panel__table").css("display","table")):$('.tn-settings [data-control-field="effectsvalue"]').closest(".sui-panel__table").css("display","none")),"bgposition"===t&&(n=(s=!!elem__getFieldValue(e,"bgimg"))&&"custom"===i,o=l.find('option[value="custom"]'),a=l.find(".js-shape-bg-position-edit"),o.css("display",n?"":"none"),a.css("display",s?"":"none"),control__drawUi__shapeBgPosition__drawIcon(e),setTimeout(()=>{o.html("Custom "+bgposition__getCustomFieldHintText("elem",e))})),tn_tooltip_update()}function tn__updateUI__mobAnimation(e){var t={},n=["animmobile","animstyle","animprx","animfix","sbsevent"];if(n.forEach(function(e){t[e]=""}),t.hasBasicAnim=!1,window.tn.flags.isMultiEdit){var i=window.tn.multi_edit_elems.get();if(!i.length)return;var o=i.reduce(function(t,i){return n.forEach(function(e){void 0===t[e]&&(t[e]=[]),elem__getFieldValue_for_Res($(i),e,window.tn.topResolution)&&t[e].push("y")}),t},{});0===o.animmobile.length?t.animmobile=!1:o.animmobile.length===i.length?t.animmobile="y":t.animmobile="diff-group",t.animstyle=o.animstyle.length===i.length,t.animprx=o.animprx.length===i.length,t.animfix=o.animfix.length===i.length,t.sbsevent=o.sbsevent.length===i.length,t.hasBasicAnim=o.animstyle.length||o.animprx.length||o.animfix.length}else{for(var s in t)t[s]=elem__getFieldValue_for_Res(e,s,window.tn.topResolution);t.hasBasicAnim=t.animstyle||t.animprx||t.animfix}"diff-group"===t.animmobile?($(".sui-panel__section-anim").css("display","none"),$(".sui-panel__section-sbsopenbtn").css("display","none"),$(".sui-panel__section-animmobile").css("display","none"),$(".sui-panel__section-animmobilediff").css("display","block")):"y"===t.animmobile?($(".sui-panel__section-anim").css("display",t.hasBasicAnim?"block":"none"),$(".sui-panel__section-sbsopenbtn").css("display",t.sbsevent?"block":"none"),$(".sui-panel__section-animmobilediff").css("display","none")):($(".sui-panel__section-anim").css("display","none"),$(".sui-panel__section-sbsopenbtn").css("display","none"),$(".sui-panel__section-animmobilediff").css("display","none"),$(".sui-panel__section-animmobile").css("display",t.hasBasicAnim||t.sbsevent?"block":"none"))}function control__drawUi__paddingelems(){var a,d,r,_,c,u,n=$(".tn-settings"),p=!1;$(".tn-elem__selected").each(function(e){var t=$(this),i=elem__getFieldValue(t,"container"),n=elem__getFieldValue(t,"axisx"),o=elem__getFieldValue(t,"axisy"),s=elem__getFieldValue(t,"leftunits"),l=elem__getFieldValue(t,"topunits"),t=elem__getFieldValue(t,"widthunits");"px"==s&&(s=""),"px"==l&&(l=""),void 0!==t&&"px"!=t||(t=""),0==e?(a=i,d=n,r=o,_=s,c=l,u=t):a==i&&d==n&&r==o&&_==s&&c==l&&u==t||(p=!0)});["horizontalpadding","verticalpadding"].forEach(function(e){var t=n.find("[data-control-field="+e+"]"),i=t.find("input"),e=i.get(0);!0===p?t.css("opacity","0.3").css("pointer-events","none"):t.css("opacity","1").css("pointer-events","auto"),setTimeout(function(){t.find(".sui-slider").slider({range:"max",min:0,max:1e3,step:5,value:i.closest(".sui-form-group").attr("data-control-value"),start:function(){t.removeClass("sui-form-group_undefined")},slide:function(e,t){t=t.value;i.val(t),i.closest(".sui-form-group").attr("data-control-value",t),i.trigger("change")}}),$(".sui-slider .ui-slider-handle").unbind("keydown")},1),e&&e.addEventListener("keydown",tn_updateInputValueOnKeyUp),tn_selectAllTextInsideField(e),i.focusin(function(){window.tn.flags.isSettingsFocused=!0}),i.focusout(function(){window.tn.flags.isSettingsFocused=!1}),i.change(function(){tn_console("panelsettings onchange input");var e=$(this),t=tn_calculateInputNumber(t=e.val());(t=1e3<(t=""==(t=parseInt(t,10))?0:t)?1e3:t)<-1e3&&(t=-1e3),isNaN(t)&&(t=1),e.val(t),e.parents(".sui-form-group").find(".sui-slider").slider("value",t),tn_undo__Add("elems_selected_move"),"horizontalpadding"==e.attr("name")&&setAverageHorizontalPadding(t),"verticalpadding"==e.attr("name")&&setAverageVerticalPadding(t),tn_set_lastChanges()})})}function panelSettings__copyAnimation(e){var i=$("#"+e),n={},o=["animstyle","animduration","animdistance","animdelay","animtriggeroffset","animprx","animprxs","animfix","animfixtrgofst","animfixdist"];["animstyle","animduration","animdelay","animtriggeroffset","animscale","animdistance","animprx","animfix","animprxs","animprxdx","animprxdy","animfixdist","animfixtrgofst","animmobile"].forEach(function(e){n[e]=void 0!==elem__getFieldValue(i,e)?elem__getFieldValue(i,e):""}),window.tn.screens.forEach(function(t){t!=window.tn.topResolution&&o.forEach(function(e){n[e+"-res-"+t]=void 0!==elem__getFieldValue_for_Res(i,e,t)?elem__getFieldValue_for_Res(i,e,t):""})}),localStorage.setItem("tzerobasicanimation",JSON.stringify(n))}function panelSettings__pasteAnimation(){var e=[];$(".tn-elem__selected").each(function(){e.push($(this).data("elem-id"))}),e.forEach(function(e){var t=$("#"+e),i=t.attr("data-elem-type"),n=t.attr("data-fields");panelSettings__addControls(e,t,i,n,!0)})}function panelSettings__pasteAnimationAttr(e){var t,i=$("#"+e),n=JSON.parse(localStorage.getItem("tzerobasicanimation"));for(t in n)elem__setFieldValue(i,t,n[t],"render","updateui"),-1!==t.indexOf("-res-")&&""===n[t]&&elem__delFieldValue(i,t)}function panelSettings__cleanBasicAnimtion(e){panelSettings__updateUi(e,"animduration",""),panelSettings__updateUi(e,"animdelay",""),panelSettings__updateUi(e,"animdistance",""),panelSettings__updateUi(e,"animscale",""),panelSettings__updateUi(e,"animtriggeroffset",""),panelSettings__updateUi(e,"animprx",""),panelSettings__updateUi(e,"animprxs",""),panelSettings__updateUi(e,"animprxdy",""),panelSettings__updateUi(e,"animprxdx",""),panelSettings__updateUi(e,"animfix",""),panelSettings__updateUi(e,"animfixdist",""),panelSettings__updateUi(e,"animfixtrgofst",""),panelSettings__updateUi(e,"animstyle",""),control__drawUi__selectbox(e.attr("id"),"animstyle"),control__drawUi__selectbox(e.attr("id"),"animprx"),control__drawUi__selectbox(e.attr("id"),"animfix")}function panelSettings__addAlignContextMenu(){$(".tn-settings").find(".sui-btn-context-distribution").on("click",function(){var e,t=$(".tn-contextmenu-box_align");0===t.length?($('[data-control="alignelem"]').append(panelSettings__drawAlignContextMenu()),e=parseInt($(".sui-table-align").position().top+$(".sui-table-align").outerHeight(),10),(t=$(".tn-contextmenu-box_align")).css({right:0,top:e})):panelSettings__closeAlignContextMenu(t)}),$(document).mouseup(function(e){var t,i=$(".tn-contextmenu-box_align");0!==i.length&&(t=$(".sui-btn-context-distribution"),i.is(e.target)||0!==i.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length||panelSettings__closeAlignContextMenu(i))}),$(document).on("click",".tn-contextmenu-box_align .tn-contextmenu-box__item",function(){panelSettings__closeAlignContextMenu($(".tn-contextmenu-box_align"))}),$(document).off("click",".tn-contextmenu-box__item_tidyup"),$(document).on("click",".tn-contextmenu-box__item_tidyup",function(){tn_undo__Add("elems_selected_move"),smartAlignElements(),tn_set_lastChanges()}),$(document).off("click",".tn-contextmenu-box__item_verticalspacing"),$(document).on("click",".tn-contextmenu-box__item_verticalspacing",function(){tn_undo__Add("elems_selected_move"),smartAlign__distributeSpacing("vertical"),tn_set_lastChanges()}),$(document).off("click",".tn-contextmenu-box__item_horizontalspacing"),$(document).on("click",".tn-contextmenu-box__item_horizontalspacing",function(){tn_undo__Add("elems_selected_move"),smartAlign__distributeSpacing("horizontal"),tn_set_lastChanges()}),$(document).off("click",".tn-contextmenu-box__item_leftedges"),$(document).on("click",".tn-contextmenu-box__item_leftedges",function(){tn_undo__Add("elems_selected_move"),smartAlign__distributeEdges("horizontal","left"),tn_set_lastChanges()}),$(document).off("click",".tn-contextmenu-box__item_verticalcenters"),$(document).on("click",".tn-contextmenu-box__item_verticalcenters",function(){tn_undo__Add("elems_selected_move"),smartAlign__distributeEdges("horizontal","coordCenterHorizontal"),tn_set_lastChanges()}),$(document).off("click",".tn-contextmenu-box__item_rightedges"),$(document).on("click",".tn-contextmenu-box__item_rightedges",function(){tn_undo__Add("elems_selected_move"),smartAlign__distributeEdges("horizontal","right"),tn_set_lastChanges()}),$(document).off("click",".tn-contextmenu-box__item_topedges"),$(document).on("click",".tn-contextmenu-box__item_topedges",function(){tn_undo__Add("elems_selected_move"),smartAlign__distributeEdges("vertical","top"),tn_set_lastChanges()}),$(document).off("click",".tn-contextmenu-box__item_horizontalcenters"),$(document).on("click",".tn-contextmenu-box__item_horizontalcenters",function(){tn_undo__Add("elems_selected_move"),smartAlign__distributeEdges("vertical","coordCenterVertical"),tn_set_lastChanges()}),$(document).off("click",".tn-contextmenu-box__item_bottomedges"),$(document).on("click",".tn-contextmenu-box__item_bottomedges",function(){tn_undo__Add("elems_selected_move"),smartAlign__distributeEdges("vertical","bottom"),tn_set_lastChanges()})}function panelSettings__closeAlignContextMenu(e){e.remove()}function panelSettings__drawLayout(e,t,i,n){var o=window.tn.curResolution,s=$(".tn-artboard").attr("data-record-id"),l=+o<1200?' style="display:none;"':"",a=""===elem__getFieldValue(t,"animstyle")&&""===elem__getFieldValue(t,"animprx")&&""===elem__getFieldValue(t,"animfix")?' style="display:none;"':"",d=null===localStorage.getItem("tzerobasicanimation")?' style="display:none;"':"",r='<div class="sui-panel__section sui-panel__section-alignelem" data-section-name="alignelem"><table class="sui-panel__table" style="height:40px; padding-top:5px;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="alignelem"></div></td></tr></table></div>',t=(r+='<div class="sui-panel__section sui-panel__section-pos" data-section-name="pos"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group-pos-twocoldiv" data-control-field="left" data-control-value=""></div></td><td class="sui-panel__td"><div class="sui-form-group sui-form-group-untis" data-control-field="leftunits" data-control-value=""></div></td><td class="sui-panel__td sui-panel__2col-space"></td><td class="sui-panel__td"><div class="sui-form-group sui-form-group-pos-twocoldiv" data-control-field="top" data-control-value=""></div></td><td class="sui-panel__td"><div class="sui-form-group sui-form-group-untis" data-control-field="topunits" data-control-value=""></div></td></tr></table><table class="sui-panel__table\tsui-panel__padd_b-10" style="margin-top:-5px;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group-width" data-control-field="width" data-control-value=""></div></td><td class="sui-panel__td" style="width:30px;"><div class="sui-form-group sui-form-group-untis" data-control-field="widthunits" data-control-value=""></div></td>',panelSettings__checkSettingsShow(n,["shape","button","video","html","gallery"],"several")?r+='<td class="sui-panel__td sui-panel__2col-space"></td><td class="sui-panel__td"><div class="sui-form-group sui-form-group-pos-twocoldiv" data-control-field="height" data-control-value=""></div></td><td class="sui-panel__td"><div class="sui-form-group sui-form-group-untis" data-control-field="heightunits" data-control-value=""></div></td>':r+='<td class="sui-panel__td" style="display:none;width:1px;"><div class="sui-form-group" data-control-field="height" data-control-value=""></div></td>',r+="</tr></table>",window.tn.flags.isMultiEdit&&(r+='<table class="sui-panel__table sui-panel__padd_b-10" style="margin-top:-5px;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group-pos-twocoldiv" data-control-field="horizontalpadding" data-control-value=""><table><tr><td><label class="sui-label sui-label_horizontalpadding">'+`<svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M0 4H2.5V15H0" stroke="#9F9F9F"/>
											<path d="M14.5 4H12V15H14.5" stroke="#9F9F9F"/>
											<path d="M7 6.5V12.5" stroke="black"/>
										</svg>`+'</label></td><td style="width:100%;"><div class="sui-input-slider-div"><input type="text" value="" name="horizontalpadding" class="sui-input" autocomplete="off"></div><div class="sui-slider-relwrapper"><div class="sui-slider-abswrapper"><div class="sui-slider"></div></div></div></td></tr></table></div></td><td class="sui-panel__td"><div class="sui-form-group sui-form-group-pos-twocoldiv" data-control-field="verticalpadding" data-control-value=""><table><tr><td><label class="sui-label sui-label_verticalpadding">'+`<svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M12.75 2.25L12.75 4.75L1.75 4.75L1.75 2.25" stroke="#9F9F9F"/>
											<path d="M12.75 16.75L12.75 14.25L1.75 14.25L1.75 16.75" stroke="#9F9F9F"/>
											<path d="M10.25 9.25L4.25 9.25" stroke="black"/>
										</svg>`+'</label></td><td style="width:100%;"><div class="sui-input-slider-div"><input type="text" value="" name="verticalpadding" class="sui-input" autocomplete="off"></div><div class="sui-slider-relwrapper"><div class="sui-slider-abswrapper"><div class="sui-slider"></div></div></div></td></tr></table></div></td></tr></table>'),r+='<table class="sui-panel__table sui-panel__toggleContainerFields" style="margin-top:-5px; margin-bottom:-15px;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group__container-togler" onClick="panelSettings__showcontainerfields()">+ Container<span class="sui-containers-togler__container"></span> (x<span class="sui-containers-togler__axisx"></span>, y<span class="sui-containers-togler__axisy"></span>)</div></td></tr></table></div><div class="sui-panel__section sui-panel_hidden sui-panel__section-container" data-section-name="container" style="margin-top:-10px;"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group__hint">Define the element’s orientation area: grid area or the entire browser window, and set the origin position.</div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="container" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="axisx" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="axisy" data-control-value=""></div></td></tr></table></div>',group__isSelectedOnlyGroups()&&(r+='<div class="tn-right-box__header"><span class="tn-right-box__caption">Elements In Group</span></div>'),panelSettings__checkSettingsShow(n,"button","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-link" data-section-name="button-link"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="caption" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="link" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="linktarget" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="relnofollow" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="buttonstat" data-control-value=""></div></td></tr></table>',group__isSelectedOnlyGroups()||(r+='<div class="sui-form-group__hint sui-form-group__hint_buttonstat" data-stat-id="/tilda/click/rec'+s+"/button"+i+'">Button click displays in analytic system as page view:<br>/tilda/click/rec'+s+"/button"+i+"</div>"),r+="</div>"),(window.tn.flags.isMultiEdit&&panelSettings__checkSettingsShow(n,["shape","button","tooltip"],"several")&&(1!==n.length||"button"===n[0])||!window.tn.flags.isMultiEdit&&panelSettings__checkSettingsShow(n,"button","uniq"))&&(r+='<div class="sui-panel__section sui-panel__section-button" data-section-name="button"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgcolor" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"video","uniq")&&(r=(r+='<div class="sui-panel__section sui-panel__section-video" data-section-name="video"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="vidtype" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="youtubeid" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="vimeoid" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="vimeohash" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="mp4video" data-control-value=""></div></td></tr></table></div>')+'<div class="sui-panel__section sui-panel__section-videosett" data-section-name="videosett"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="autoplay" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="showinfo" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="mute" data-control-value=""></div><p class="sui-panel-mute-autoplay-message sui-form-group__hint" '+("y"===elem__getFieldValue(t,"autoplay")?"":'style="display:none;"')+'>Latest versions of most browsers don\'t allow autoplay with sound.</p></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="loop" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="startsec" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="endsec" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="mp4controls" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="objectfitvideo" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"tooltip","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-pin" data-section-name="pin"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="pinicon" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="pincolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgcolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bordercolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="borderwidth" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-bgimg"><label class="sui-label sui-label_title">Pin image</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgimg" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"gallery","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-gallery-imgs" data-section-name="imgs"><label class="sui-label sui-label_title">Images</label><table class="sui-panel__table"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="imgs" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"gallery","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-gallery-settings" data-section-name="settings"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_stretch" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_imgposition" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_loop" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_speed" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_autoplay" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="zoomable" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-arrows" data-section-name="arrows"><label class="sui-label sui-label_title">Arrows</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowcontrols" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowtype" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowsize" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowlinesize" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowborder" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowcolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowbgcolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowbgopacity" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowcolorhover" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowbgcolorhover" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowbgopacityhover" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowhmargin" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowalign" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowvmargin" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_arrowbetweenmargin" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-dots" data-section-name="dots"><label class="sui-label sui-label_title">Dots</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_dotscontrols" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_dotssize" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_dotsbgcolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_dotsbgcoloractive" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_dotsvmargin" data-control-value=""></div></td></tr></table></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_dotshmargin" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-playicon" data-section-name="playicon"><label class="sui-label sui-label_title">Play icon<div class="sui-label-ask tooltip" data-tooltip="Icon for playing video will appear, <br> when you specify video id"></div></label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_playiconsize" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_playiconcolor" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,["text","button","tooltip","gallery"],"several")&&(r+='<div class="sui-panel__section sui-panel__section-font" data-section-name="font">',window.tn.flags.isMultiEdit||"gallery"!==n||(r+='<label class="sui-label sui-label_title">Caption</label>'),r+='<table class="sui-panel__table sui-panel__padd_b-10" <tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="align" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="color" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="fontsize" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="fontfamily" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="fontweight" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="variationweight" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="lineheight" data-control-value=""></div></td><td class="sui-panel__td"><div class="sui-form-group" data-control-field="letterspacing" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"<tr class="sui-panel__tr"<td class="sui-panel__td"<div class="sui-form-group" data-control-field="lettercase" data-control-value=""></div</td</tr></table>',panelSettings__checkSettingsShow(n,"gallery","uniq")&&(r+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_captiontopmargin" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="slds_captionwidth" data-control-value=""></div></td></tr></table>'),r+="</div>"),panelSettings__checkSettingsShow(n,"image","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-image" data-section-name="image"><label class="sui-label sui-label_title">Image</label><table class="sui-panel__table"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="img" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"shape","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-bgcolor" data-section-name="bgcolor"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgcolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="figure" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-bgimg" data-section-name="bgimg"><label class="sui-label sui-label_title">Background image</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgimg" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgattachment" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgposition" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="zoomable" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="lazyoff" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"video","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-bgimg" data-section-name="bgimg"><label class="sui-label sui-label_title">Cover image</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgimg" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"html","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-code" data-section-name="code"><label class="sui-label sui-label_title">HTML Code</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="code" data-control-value=""></div></td></tr></table></div>'),!panelSettings__checkSettingsShow(n,"vector","uniq")||window.tn.curResolution!==window.tn.topResolution||window.tn.flags.isMultiEdit||(r+='<div class="sui-panel__section sui-panel__section-vectorjson" data-section-name="vectorjson"><label class="sui-label sui-label_title">Vector Editor</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="vectorjson" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"form","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-inputs" data-section-name="inputs"><label class="sui-label sui-label_title">Inputs</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="inputs" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10" style="display:none;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="inputs" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="receivers" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10" style="display:none;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="receivers" data-control-value=""></div><div class="sui-form-group" data-control-field="receivers_names" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-formstyle" data-section-name="formstyle"><label class="sui-label sui-label_title">Form style</label></div><div class="sui-panel__section sui-panel__section-formbuttonstyle" data-section-name="formbuttonstyle"><label class="sui-label sui-label_title">Button</label></div>'),r+='<div class="sui-panel__section sui-panel__section-other" data-section-name="other">',panelSettings__checkSettingsShow(n,["html","form","vector"],"except")&&(r+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="opacity" data-control-value=""></div></td></tr></table>'),panelSettings__checkSettingsShow(n,["html","tooltip","form","vector"],"except")&&(r+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="rotate" data-control-value=""></div></td></tr></table>'),r+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="zindex" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="actions" data-control-value=""></div></td></tr></table>',panelSettings__checkSettingsShow(n,["shape","button"],"several")&&(r+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="pevent" data-control-value=""></div></td></tr></table>'),panelSettings__checkSettingsShow(n,["text","image","shape","button","vector"],"several")&&(r+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="effectstype" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="effectsvalue" data-control-value=""></div></td></tr></table>'),r+='<table class="sui-panel__table sui-panel__padd_b-10" style="display:none;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="lock" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10" style="display:none;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="invisible" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="classname" data-control-value=""></div></td></tr></table></div>',panelSettings__checkSettingsShow(n,["text","image","shape","vector"],"several")&&(r+='<div class="sui-panel__section sui-panel__section-link" data-section-name="link"><label class="sui-label sui-label_title">Link</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="link" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="linktarget" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="relnofollow" data-control-value=""></div></td></tr></table>',panelSettings__checkSettingsShow(n,["image","shape"],"several")&&(r+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="buttonstat" data-control-value=""></div></td></tr></table>',group__isSelectedOnlyGroups()||(r+='<div class="sui-form-group__hint sui-form-group__hint_buttonstat" data-stat-id="/tilda/click/rec'+s+"/button"+i+'">Button click displays in analytic system as page view:<br>/tilda/click/rec'+s+"/button"+i+"</div>")),r+="</div>"),panelSettings__checkSettingsShow(n,["image","shape","button","gallery","video"],"several")&&(r+='<div class="sui-panel__section sui-panel__section-border" data-section-name="border"><label class="sui-label sui-label_title">Border</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bordercolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="borderwidth" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="borderradius" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="borderstyle" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,["text","html","form","vector"],"except")&&(r+='<div class="sui-panel__section sui-panel__section-shadow" data-section-name="shadow"><label class="sui-label sui-label_title">Shadow</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="shadowcolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="shadowopacity" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="shadowx" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="shadowy" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="shadowblur" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="shadowspread" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"text","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-tag" data-section-name="tag"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="tag" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="pevent" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"image","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-tag" data-section-name="tag"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="alt" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="zoomable" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="lazyoff" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="pevent" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"button","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-button-hover" data-section-name="hover"><label class="sui-label sui-label_title">Hover</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bgcolorhover" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="colorhover" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="bordercolorhover" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="speedhover" data-control-value=""></div></td></tr></table></div>'),panelSettings__checkSettingsShow(n,"tooltip","uniq")&&(r+='<div class="sui-panel__section sui-panel__section-tip" data-section-name="tip"><label class="sui-label sui-label_title">Tip settings</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="tipposition" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="tipopen" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="tipbgcolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="tipradius" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="tipshadowblur" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="tipwidth" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-tipimg" data-section-name="tipimg"><label class="sui-label sui-label_title">Tip image</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="tipimg" data-control-value=""></div></td></tr></table></div>'),r=(r+='<div class="sui-panel__section sui-panel__section-anim" data-section-name="anim"><div class="sui-header-wrapper"><label class="sui-label sui-label_title">Basic animation</label><div class="sui-copypaste-wrapper"'+l+">")+('<div class="sui-copy-btn sui-copy-btn-basic tooltip" data-tooltip="Copy animation to clipboard"'+a+'><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 12.5h-9m0 0l3-3m-3 3l3 3M17.5 10V5.5H14m3.5 9.5v4.5h-13v-14H8" stroke="#9F9F9F"/><rect x="8.5" y="4.5" width="5" height="2" rx=".5" stroke="#9F9F9F"/></svg></div>')+('<div class="sui-paste-btn sui-paste-btn-basic tooltip" data-tooltip="Paste animation from clipboard"'+d+'><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 19.5H4.5v-14H8M17.5 7V5.5H13" stroke="#9F9F9F"/><rect x="8.5" y="4.5" width="5" height="2" rx=".5" stroke="#9F9F9F"/><path fill-rule="evenodd" clip-rule="evenodd" d="M20 19h-8v-9h5v3h3v6zm1-6v7H11V9h7l3 3v1z" fill="#9F9F9F"/></svg></div>'),`
	<table class="sui-panel__table sui-panel__padd_b-10" style="padding-top: 10px;display: ${group__isSelectedOnlyGroups()?"block":"none"}">
		<tr class="sui-panel__tr">
		<td class="sui-panel__td">
		<p class="sui-form-group__hint">Notice: for elements in group animation will be played separately for each element.</p>
		</td>
		</tr>
	</table>
	`),r=r+('</div></div><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animstyle" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animduration" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animdistance" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animscale" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animdelay" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animtriggeroffset" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10" style="padding-bottom:20px"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="animtest"></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animprx" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10" style="padding-bottom:20px;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animprxs" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animprxdx" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10" style="padding-bottom:20px;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animprxdy" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animfix" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10" style="display:none;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animfixtrgofst" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="animfixdist" data-control-value=""></div></td></tr></table>'+t+"</div>")+'<div class="sui-panel__section sui-panel__section-sbsopenbtn" data-section-name="sbsopenbtn"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="sbsopenbtn" data-control-value=""></div></td></tr></table></div>';o<1200&&(r+='<div class="sui-panel__section sui-panel__section-animmobile" data-section-name="animmobile"><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="animmobile" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-animmobilediff" data-section-name="animmobilediff"><table class="sui-panel__table"><tr class="sui-panel__tr"><td class="sui-panel__td"><p class="sui-form-group__hint">Selected elements have different mobile animation display settings. Please set the same mobile animation display for each element.</p></td></tr></table></div>'),e.append(r)}function panelSettings__drawAlignContextMenu(){return'<div class="tn-contextmenu-box_align"><div class="tn-contextmenu-box__section"><div class="tn-contextmenu-box__item tn-contextmenu-box__item_tidyup"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path stroke="#7B7B84" d="M.5.5h5v5h-5zM.5 8.5h5v5h-5zM8.5.5h5v5h-5zM8.5 8.5h5v5h-5z"/></svg><span>Tidy Up</span></div></div><div class="tn-contextmenu-box__section"><div class="tn-contextmenu-box__section-title">Distribute Spacing</div><div class="tn-contextmenu-box__item tn-contextmenu-box__item_verticalspacing"><svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 7H3" stroke="#FCFCFC"/><path d="M11.5 0v2.5H.5V0M11.5 14v-2.5H.5v2" stroke="#7B7B84"/></svg><span>Vertical Spacing</span></div><div class="tn-contextmenu-box__item tn-contextmenu-box__item_horizontalspacing"><svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 3v6" stroke="#FCFCFC"/><path d="M0 .5h2.5v11H0M14 .5h-2.5v11h2" stroke="#7B7B84"/></svg><span>Horizontal Spacing</span></div></div><div class="tn-contextmenu-box__section"><div class="tn-contextmenu-box__section-title">Distribute Edges</div><div class="tn-contextmenu-box__item tn-contextmenu-box__item_leftedges"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="14" viewBox="0 0 15 14" fill="none"><path d="M0 11.5h6.5v-9H0M10 10.5h4.5v-7H10" stroke="#7B7B84"/><path d="M0 0v14h1V0H0zM9 0v14h1V0H9z" fill="#fff"/></svg><span>Left Edges</span></div><div class="tn-contextmenu-box__item tn-contextmenu-box__item_verticalcenters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="14" viewBox="0 0 16 14" fill="none"><path d="M13 3V0h-1v3h1zM13 14v-3h-1v3h1zM4 14v-2H3v2h1zM4 2V0H3v2h1z" fill="#fff"/><path d="M15.5 3.5h-6v7h6v-7zM6.5 2.5h-6v9h6v-9z" stroke="#7B7B84"/></svg><span>Vertical Centers</span></div><div class="tn-contextmenu-box__item tn-contextmenu-box__item_rightedges"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="14" viewBox="0 0 15 14" fill="none"><path d="M15 11.5H8.5v-9H15M5 10.5H.5v-7H5" stroke="#7B7B84"/><path d="M15 0v14h-1V0h1zM6 0v14H5V0h1z" fill="#fff"/></svg><span>Right Edges</span></div><div class="tn-contextmenu-box__item tn-contextmenu-box__item_topedges"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16" fill="none"><path d="M2.5 0v6.5h9V0M3.5 10v5.5h7V10" stroke="#7B7B84"/><path d="M14 0H0v1h14V0zM14 9H0v1h14V9z" fill="#fff"/></svg><span>Top Edges</span></div><div class="tn-contextmenu-box__item tn-contextmenu-box__item_horizontalcenters"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16" fill="none"><path d="M2 3H0v1h2V3zM14 3h-2v1h2V3zM3 12H0v1h3v-1zM14 12h-3v1h3v-1z" fill="#fff"/><path d="M2.5 6.5v-6h9v6h-9zM3.5 9.5v6h7v-6h-7z" stroke="#7B7B84"/></svg><span>Horizontal Centers</span></div><div class="tn-contextmenu-box__item tn-contextmenu-box__item_bottomedges"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16" fill="none"><path d="M2.5 16V9.5h9V16M3.5 6V.5h7V6" stroke="#7B7B84"/><path d="M14 16H0v-1h14v1zM14 7H0V6h14v1z" fill="#fff"/></svg><span>Bottom Edges</span></div></div></div>'}function control__drawUi__input(e,d){var i,r=$("[data-control-field="+d+"]"),t=r.attr("data-control-value"),n=d,_=$(".tn-settings");if(void 0===t)return!0;"top"!=d&&"left"!=d&&"height"!=d||(t=parseInt(t,10),isNaN(t)&&(t="")),"top"==d&&(n="y"),"left"==d&&(n="x"),"height"==d&&(n="h"),"width"==d&&(n="w"),"zindex"==d&&(n="arrange"),"borderradius"==d&&(n="radius"),"borderstyle"==d&&(n="style"),"borderwidth"==d&&(n="Brdr.size, px"),"bordercolor"==d&&(n="Border"),"shadowcolor"==d&&(n="Shadow"),"shadowx"==d&&(n="offset x"),"shadowy"==d&&(n="offset y"),"shadowblur"==d&&(n="blur"),"shadowspread"==d&&(n="spread"),"bgcolorhover"==d&&(n="bgcolor on Hover"),"colorhover"==d&&(n="Color on Hover"),"bordercolorhover"==d&&(n="Border on Hover"),"speedhover"==d&&(n="Speed"),"widthvw"==d&&(n="Fluid width"),"heightvh"==d&&(n="Fluid height"),"leftvw"==d&&(n="Fluid X"),"topvh"==d&&(n="Fluid Y"),"youtubeid"==d&&(n="Youtube Url or ID"),"vimeoid"==d&&(n="Vimeo Url or ID"),"vimeohash"==d&&(n="Hash"),"mp4video"==d&&(n="Video Url"),"pincolor"==d&&(n="Icon color"),"tipbgcolor"==d&&(n="Bg. color"),"startsec"==d&&(n="Start sec."),"endsec"==d&&(n="End sec"),"classname"==d&&(n="CSS Class Name"),"bgcolor"==d&&(n="Bg. color"),"inputcolor"==d&&(n="Input color"),"inputbgcolor"==d&&(n="Input bg.color"),"inputbordercolor"==d&&(n="Input border color"),"inputbordersize"==d&&(n="Input border size"),"inputradius"==d&&(n="Input radius"),"inputheight"==d&&(n="Input height"),"inputmargbottom"==d&&(n="Input margin bottom"),"inputmargright"==d&&(n="Input margin right"),"inputtitlecolor"==d&&(n="Input title color"),"inputtitlemargbottom"==d&&(n="Input title padding bottom"),"inputelscolor"==d&&(n="COLOR OF CHECKBOXES, RADIO BTNS, AND OTHER ELEMENTS"),"buttontitle"==d&&(n="Btn title"),"buttoncolor"==d&&(n="Text color"),"buttonbgcolor"==d&&(n="Bg.color"),"buttonbordercolor"==d&&(n="Btn border color"),"buttonhovercolor"==d&&(n="Btn color on hover"),"buttonhoverbgcolor"==d&&(n="Btn Bg. color on hover"),"buttonhoverbordercolor"==d&&(n="Btn border color on hover"),"buttonhovershadowsize"==d&&(n="Btn shadow size on hover"),"buttonbordersize"==d&&(n="Btn border size"),"buttonradius"==d&&(n="Btn corner radius"),"buttonmargtop"==d&&(n="Btn margin top"),"buttonwidth"==d&&(n="Btn width"),"buttonheight"==d&&(n="Btn height"),"buttonpaddhoriz"==d&&(n="Btn inner padding horiz."),"buttonpaddvert"==d&&(n="Btn inner padding vert."),"buttonshadowsize"==d&&(n="Btn shadow size"),"buttonshadowopacity"==d&&(n="Btn shadow opacity"),"formmsgcolor"==d&&(n="Form msg. color"),"formmsgbgcolor"==d&&(n="Form msg. bg.color"),"formmsgsuccess"==d&&(n="Success message"),"formmsgurl"==d&&(n="Success url"),"formerrreq"==d&&(n="Error: required field"),"formerremail"==d&&(n="Error: email is incorrect"),"formerrphone"==d&&(n="Error: phone is incorrect"),"formerrname"==d&&(n="Error: name is incorrect"),"formbottomtext"==d&&(n="Text under form"),"link"==d&&(n="Url"),"slds_arrowlinesize"==d&&(n="Line size"),"slds_arrowcolor"==d&&(n="Color"),"slds_arrowcolorhover"==d&&(n="Hover color"),"slds_arrowbgcolor"==d&&(n="Bg. color"),"slds_arrowbgcolorhover"==d&&(n="Hover bg. color"),"slds_dotssize"==d&&(n="Size"),"slds_dotsbgcolor"==d&&(n="Color"),"slds_dotsbgcoloractive"==d&&(n="Active color"),"slds_autoplay"==d&&(n="autoplay (s)"),"slds_playiconsize"==d&&(n="Size"),"slds_playiconcolor"==d&&(n="Color"),"slds_captiontopmargin"==d&&(n="Top margin"),"slds_dotsvmargin"!=d&&"slds_arrowvmargin"!=d||(n="VERTICAL SPACING, PX"),"slds_dotshmargin"!=d&&"slds_arrowbetweenmargin"!=d||(n="SPACING BETWEEN, PX"),"slds_arrowhmargin"==d&&(n="Horizontal margin"),"caption"!=d&&"alt"!=d&&"link"!=d&&"buttontitle"!=d&&"formmsgurl"!=d&&"formmsgsuccess"!=d&&"formbottomtext"!=d||(t=(t=t.replaceAll('"',"&quot;")).split('"').join("'")),"link"==d&&(t=t.trim()),"formmsgsuccess"!=d&&"formbottomtext"!=d||void 0!==t&&""!=t&&(t=$("<div>"+t+"</div>").text()),r.length&&(r.get(0).innerHTML=`
		<table class="sui-control-input">
			<tr>
				<td>
					${control__drawUi__generateLabel(d,n)}
				</td>
				<td style="width: 100%">
					<div class="sui-input-div">
						<input type="text" value="${t}" name="${d}" class="sui-input" autocomplete="off">
					</div>
				</td>
			</tr>
		</table>
	`);var c=$(".tn-settings [name="+d+"]"),n=tn__getElem(c),u=$("#"+e);d.includes("color")||(c.focusin(function(){window.tn.flags.isSettingsFocused=!0,r.removeClass("sui-form-group_undefined")}),c.focusout(function(){window.tn.flags.isSettingsFocused=!1}));!n||["zindex","caption","classname","link","formname","formerrreq","formerremail","formerrname","buttontitle"].includes(d)||d.includes("color")||n.addEventListener("keydown",tn_updateInputValueOnKeyUp),["formmsgsuccess","formbottomtext"].includes(d)||tn_selectAllTextInsideField(n),c.change(function(){tn_console("panelsettings onchange input");var n,e,t,i,o,s=d.includes("color");if("formmsgsuccess"!=d&&"formbottomtext"!=d)if("zindex"===d||s||(tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:u),tn_set_lastChanges()),n=c.val(),window.tn.curResolution!=window.tn.topResolution&&""==n)tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:u),elem__delFieldValue(u,d,"","render","updateui"),t=elem__getFieldValue(u,d),$(this).closest(".sui-form-group").attr("data-control-value",t),r.addClass("sui-form-group_undefined"),tn_setOutlinePosition("selected"),tn_set_lastChanges();else{if("left"!=d&&"top"!=d||(n=tn_calculateInputNumber(n),isNaN(n)&&(n=0),c.val(n)),"height"==d&&(n=tn_calculateInputNumber(n),0==(n=isNaN(n)?1:n)&&(n=1),n=parseInt(n.toFixed(0),10),c.val(n)),tn_shapeBorderRadius__shouldShowHandle(u[0])&&"borderradius"===d&&tn_shapeBorderRadius__setHandlePosition(u[0],n),"buttonwidth"===d&&n&&(n=tn_calculateInputNumber(n),3e3<(n=isNaN(n)||n<0?0:n)&&(n=3e3),n=parseInt(n.toFixed(0),10),c.val(n)),"inputbordersize"!==d&&"buttonbordersize"!==d&&"borderwidth"!==d&&"buttonshadowopacity"!==d||!n||(n=tn_calculateInputNumber(n),100<(n=isNaN(n)||n<0?0:n)&&(n=100),n=parseInt(n.toFixed(0),10),c.val(n)),"inputtitlemargbottom"!==d&&"buttonheight"!==d||!n||(n=tn_calculateInputNumber(n),1e3<(n=isNaN(n)||n<0?0:n)&&(n=1e3),n=parseInt(n.toFixed(0),10),c.val(n)),"inputmargbottom"!==d&&"buttonmargtop"!==d&&"inputmargright"!==d||!n||(n=tn_calculateInputNumber(n),1e3<(n=isNaN(n)||n<-100?-100:n)&&(n=1e3),n=parseInt(n.toFixed(0),10),c.val(n)),"buttonshadowsize"!==d&&"buttonhovershadowsize"!==d&&"shadowblur"!==d&&"inputradius"!==d&&"buttonradius"!==d&&"borderradius"!==d||!n||(n=tn_calculateInputNumber(n),1e4<(n=isNaN(n)||n<0?0:n)&&(n=1e4),n=parseInt(n.toFixed(0),10),c.val(n)),"inputheight"===d&&n&&(n=tn_calculateInputNumber(n),500<(n=isNaN(n)||n<20?20:n)&&(n=500),n=parseInt(n.toFixed(0),10),c.val(n)),"shadowx"!==d&&"shadowy"!==d&&"shadowspread"!==d||!n||(n=tn_calculateInputNumber(n),(n=1e3<(n=isNaN(n)?"":n)?1e3:n)<-1e3&&(n=-1e3),n=isNaN(n)?"":parseInt(n.toFixed(0),10),c.val(n)),"slds_playiconsize"!=d&&"slds_captiontopmargin"!=d&&"slds_dotsvmargin"!=d&&"slds_arrowhmargin"!=d||""!=n&&(n=tn_calculateInputNumber(n),isNaN(n)&&(n=0),c.val(n)),"slds_arrowlinesize"==d&&""!=n&&(n=tn_calculateInputNumber(n),(n=6<(n=isNaN(n)?1:n)?6:n)<1&&(n=1),c.val(n)),"slds_dotssize"==d&&""!=n&&(n=tn_calculateInputNumber(n),20<(n=isNaN(n)?1:n)&&(n=20),c.val(n)),"slds_arrowvmargin"!=d&&"slds_arrowhmargin"!=d||""!=n&&(n=tn_calculateInputNumber(n),100<(n=isNaN(n)?0:n)&&(n=100),c.val(n)),"slds_playiconsize"==d&&""!=n&&(n=tn_calculateInputNumber(n),200<(n=isNaN(n)?0:n)&&(n=200),c.val(n)),"slds_arrowbetweenmargin"==d&&""!=n&&(n=tn_calculateInputNumber(n),1100<(n=isNaN(n)?0:n)&&(n=1100),c.val(n)),"slds_autoplay"==d&&""!=n&&(n=tn_calculateInputNumber(n),(n=100<(n=isNaN(n)?"":n)?100:n)<=0&&(n=""),c.val(n)),"slds_dotshmargin"!=d&&"slds_dotssize"!=d||""!=n&&(n=tn_calculateInputNumber(n),20<(n=isNaN(n)?0:n)&&(n=20),"slds_dotshmargin"==d&&n<0&&(n=0),c.val(n)),"slds_dotsvmargin"==d&&""!=n&&(n=tn_calculateInputNumber(n),50<(n=isNaN(n)?0:n)&&(n=50),c.val(n)),"slds_arrowvmargin"!=d&&"slds_dotssize"!=d||""!=n&&(n=tn_calculateInputNumber(n),(n=isNaN(n)?0:n)<0&&(n=0),c.val(n)),"caption"==d&&(n=tn_stripTags(n)),"classname"==d&&(n=tn_stripTags(n=n.replace(/[^a-zA-Z^\d^_^\-+$]/g,""))),"link"!=d&&"formname"!=d&&"formmsgurl"!=d&&"formerrreq"!=d&&"formerremail"!=d&&"formerrphone"!=d&&"formerrname"!=d||(n=(n=tn_stripTags(n)).replaceAll('"',"")),"link"==d&&(n=n.trim(),"none"==elem__getFieldValue(u,"pevent")&&(tn_alert('Sorry, you can not set this value. The field "POINTER EVENTS" set as NONE. Please set value as AUTO and try again.'),n="",$(this).val(n)),n?(_.find('[data-control-field="linktarget"]').closest(".sui-panel__table").css("display","table"),_.find('[data-control-field="relnofollow"]').closest(".sui-panel__table").css("display","table"),_.find('[data-control-field="buttonstat"]').closest(".sui-panel__table").css("display","table")):(elem__emptyField(u,"linktarget",!1,"updateui"),elem__emptyField(u,"relnofollow",!1,"updateui"),elem__emptyField(u,"buttonstat",!1,"updateui"),_.find('[data-control-field="linktarget"]').closest(".sui-panel__table").css("display","none"),_.find('[data-control-field="relnofollow"]').closest(".sui-panel__table").css("display","none"),_.find('[data-control-field="buttonstat"]').closest(".sui-panel__table").css("display","none"),_.find(".sui-form-group__hint_buttonstat").css("display","none"))),"youtubeid"==d&&(e=tn_parseYoutubelink(n),n!=(e=0==e?"":e))&&(n=e,c.val(n)),"vimeoid"==d&&(e=tn_parseVimeolink(n),n!=(e=0==e?"":e))&&(n=e,c.val(n)),"endsec"!==d&&"startsec"!==d||!n||(n=tn_calculateInputNumber(n),1e5<(n=isNaN(n)||n<0?0:n)&&(n=1e5),n=parseInt(n.toFixed(0),10),c.val(n)),c.closest(".sui-form-group").attr("data-control-value",n),t="left"===d||"top"===d,e=$(".tn-group__selected"),!s){if(e.length&&t)group__isSelectedOnlyGroups()&&1===e.length?(i=group__convertPosition__Local__toAbsolute(t=group__getById(s=$(".tn-group__selected").attr("id")),d,n),t.css(d,i+"px"),group__setFieldValue(s,d,n),group__saveCurrentPosition(s,d)):(e.each(function(){var e=$(this),t=e.attr("id"),i=group__convertPosition__Local__toAbsolute(e,d,n);e.css(d,i+"px"),group__setFieldValue(t,d,n),group__saveCurrentPosition(t,d)}),$(".tn-artboard > .tn-elem__selected").each(function(){var e=$(this);elem__setFieldValue(e,d,n),elem__renderViewOneField(e,d)}));else if(window.tn.flags.isMultiEdit)for(var l=0;l<window.tn.multi_edit_elems.length;l++)o=$(window.tn.multi_edit_elems[l]),"number"==typeof n&&isNaN(n)||void 0===n?elem__setFieldValue(o,d,elem__getFieldValue(o,d)):elem__setFieldValue(o,d,n),elem__renderViewOneField(o,d);else elem__setFieldValue(u,d,n),elem__renderViewOneField(u,d);tn_setOutlinePosition("selected")}if(r.removeClass("sui-form-group_undefined"),"caption"==d&&layers__update(),"form"==u.attr("data-elem-type"))if(window.tn.flags.isMultiEdit)for(var a=0;a<window.tn.multi_edit_elems.length;a++)elem__renderForm(o=$(window.tn.multi_edit_elems[a]));else elem__renderForm(u)}}),"color"!=d&&"bgcolor"!=d&&"bordercolor"!=d&&"shadowcolor"!=d&&"bgcolorhover"!=d&&"bordercolorhover"!=d&&"colorhover"!=d&&"tipbgcolor"!=d&&"pincolor"!=d&&"pinbgcolor"!=d&&"pinbordercolor"!=d&&"inputcolor"!=d&&"inputbgcolor"!=d&&"inputbordercolor"!=d&&"inputtitlecolor"!=d&&"inputelscolor"!=d&&"buttoncolor"!=d&&"buttonbgcolor"!=d&&"buttonbordercolor"!=d&&"buttonhovercolor"!=d&&"buttonhoverbgcolor"!=d&&"buttonhoverbordercolor"!=d&&"slds_arrowcolor"!=d&&"slds_arrowcolorhover"!=d&&"slds_arrowbgcolor"!=d&&"slds_arrowbgcolorhover"!=d&&"slds_dotsbgcolor"!=d&&"slds_dotsbgcoloractive"!=d&&"slds_playiconcolor"!=d||(e=u.attr("data-elem-type"),t=tn_replaceSingleQuotes(t),colorpicker__init(c.get(0),d,t,e)),"zindex"==d&&(c.css("display","none"),r.find(".sui-input-div").after(`<div class="sui-btn-ico sui-btn-back" data-helper="Send to back" style="padding-right:0px;">
				<div class="sui-btn-back__icon tooltip" data-tooltip="Send to back">
					<svg width="29" height="25" viewBox="0 0 29 25" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M23 6H26V24H8V21" stroke="black"/>
						<path d="M5 18V21.5H23.5V3H20.5" stroke="#9F9F9F"/>
						<rect x="3.5" y="1.5" width="17" height="17" stroke="#9F9F9F"/>
					</svg>
				</div>
			</div>`),r.find(".sui-input-div").after(`<div class="sui-btn-ico sui-btn-front" data-helper="Bring to front">
				<div class="sui-btn-front__icon tooltip" data-tooltip="Bring to front">
					<svg width="29" height="25" viewBox="0 0 29 25" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M23 6H26V24H8V21" stroke="#9F9F9F"/>
						<path d="M5 18L5 21.5H23.5V3H20.5" stroke="#9F9F9F"/>
						<rect x="3.5" y="1.5" width="17" height="17" stroke="black"/>
					</svg>
				</div>
			</div>`),r.find(".sui-input-div").after(`<div class="sui-btn-ico sui-btn-backward" data-helper="Send backward">
				<div class="sui-btn-backward__icon tooltip" data-tooltip="Send backward">
					<svg width="29" height="25" viewBox="0 0 29 25" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M20.5 7H27V24H9V18.5" stroke="black"/>
						<rect x="3.5" y="1.5" width="17" height="17" stroke="#9F9F9F"/>
					</svg>
				</div>
			</div>`),r.find(".sui-input-div").after(`<div class="sui-btn-ico sui-btn-forward" data-helper="Bring forward" style="padding-left:0px;">
				<div class="sui-btn-frontward__icon tooltip" data-tooltip="Bring forward">
					<svg width="29" height="25" viewBox="0 0 29 25" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M20.5 7H27V24H9V18.5" stroke="#9F9F9F"/>
						<rect x="3.5" y="1.5" width="17" height="17" stroke="black"/>
					</svg>
				</div>
			</div>`),r.find(".sui-btn-back").click(function(){tn_arrange__sendBack(u)}),r.find(".sui-btn-front").click(function(){tn_arrange__sendFront(u)}),r.find(".sui-btn-backward").click(function(){tn_arrange__backward(u)}),r.find(".sui-btn-forward").click(function(){tn_arrange__forward(u)})),"link"!==d||t||(_.find('[data-control-field="linktarget"]').closest(".sui-panel__table").css("display","none"),_.find('[data-control-field="relnofollow"]').closest(".sui-panel__table").css("display","none"),_.find('[data-control-field="buttonstat"]').closest(".sui-panel__table").css("display","none")),"formbottomtext"!=d&&"formmsgsuccess"!=d||(c.focusin(function(){tn_input__openRedactor(u,d)}),r.find(".sui-input-link-editinredactor").click(function(){tn_input__openRedactor(u,d)})),"width"!==d&&"height"!==d&&"left"!==d&&"top"!==d||!group__isSelectedOnlyGroups()||(i=[],$(".tn-group__selected").each(function(){var e=$(this),t=parseInt(e.css(d),10);"left"!==d&&"top"!==d||(t=group__convertPosition__Absolute__toLocal(e,d,t)),-1===i.indexOf(t)&&i.push(t)}),c.val(1===i.length?i[0]:"Mixed"),"width"!==d&&"height"!==d)||(c.css("opacity","0.3"),c.css("transition","none"),c.addClass("sui-input__disabled"),c.prop("disabled",!0),c.parents(".sui-form-group").css("padding-top","0px")),control__drawUi__processInputMixedState(n,t,d)}function control__drawUi__processInputMixedState(e,t,i){if(e){const n=window.tn.flags.isMultiEdit&&control__drawUi__getMixedState(i);window.tn.flags.isMultiEdit&&"none"!==getComputedStyle(e).display&&(document.querySelector(".tn-group__selected")&&tn_multiEdit__updateUi(),n)&&(e.value="Mixed"),e.addEventListener("focus",()=>{"Mixed"===e.value&&(e.value="")}),e.addEventListener("blur",()=>{!e.value&&n&&(e.value="Mixed")})}}function control__drawUi__generateLabel(e,t){let i="";switch(e){case"animtriggeroffset":i="Add an offset at the start of the element <br> animation relative to the selected trigger.";break;case"alt":i="Alt texts are used for SEO to describe <br> the appearance of an image and its <br> function on a web page. <a href='https://help.tilda.ws/search-engine#alt' target='_blank'>Learn more</a>";break;case"shadowx":i="Horizontal offset: a positive value moves <br> the shadow to the right, a negative value <br> moves the shadow to the left.";break;case"shadowy":i="Vertical offset: a positive value moves the shadow <br> below the element, a negative value moves <br> the shadow above it.";break;case"classname":i="This option sets a custom class name for the element.";break;case"vimeohash":i="If your video is private in Vimeo, <br> it will have an extra combination <br> of numbers and letters (hash) <br> at the end of the link. <br> Please add it to this field.";break;case"mp4video":i="<a href='https://help.tilda.cc/video#html5' target='_blank'>Learn more</a> about adding <br> and self-hosting MP4-video."}return`<label class="sui-label">${t}${i?`<div class="sui-label-ask tooltip" data-tooltip="${i}"/>`:""}</label>`}function control__drawUi__slider(r,_,e){var t,c,i=window.tn.curResolution===window.tn.topResolution,u=$("[data-control-field="+_+"]"),n=u.attr("data-control-value"),l=$("#"+r),o="",s=_;if(void 0===n)return!0;"animprxs"==_&&""==n&&(n=100),n=parseFloat(n),t=n,"opacity"==_&&(t*=100),"animscale"==_&&(t*=100),"effectsvalue"===_&&((f=elem__getFieldValue(l,"effects"))?(f=tn_parseCSSFilter(f),t=f?f.value:0,c=tn_getFiltersInfo(f.type)):t=0,n=t),isNaN(t)&&(t=0),"lineheight"==_&&(s="spacing"),"letterspacing"==_&&(s=""),"width"==_&&(s="w"),"height"==_&&(s="h"),"fontsize"==_&&(s="size"),"speedhover"==_&&(s="Duration"),"animduration"==_&&(s="Duration"),"animdelay"==_&&(s="Delay"),"animdistance"==_&&(s="Distance"),"animscale"==_&&(s="Scale"),"animtriggeroffset"==_&&(s="Trigger Offset"),"animprxs"==_&&(s="Speed, %"),"animprxdx"==_&&(s="Dist X, px"),"animprxdy"==_&&(s="Dist Y, px"),"animfixdist"==_&&(s="Distance"),"animfixtrgofst"==_&&(s="Trigger offset"),"tipwidth"==_&&(s="Width"),"tipradius"==_&&(s="Corner Radius"),"tipshadowblur"==_&&(s="Shadow blur"),"sbstrgofst"==_&&(s="Trigger Offset"),"effectsvalue"==_&&(s="Eff. value"),"variationweight"==_&&(s="Custom Weight"),"inputfontsize"==_&&(s="Input font size"),"inputtitlefontsize"==_&&(s="Input title font size"),"inputelsfontsize"==_&&(s="Checkbox label font size"),"buttonfontsize"==_&&(s="Btn font size"),"inputvariationweight"==_&&(s="Input Custom Weight"),"inputtitlevariationweight"==_&&(s="Input Title Custom Weight"),"inputelsvariationweight"==_&&(s="Checkbox Label Custom Weight"),o+='<table class="sui-control-slider" style="width:100%;"><tr><td>',""!=(s="buttonvariationweight"==_?"Btn Custom Weight":s)&&("animduration"==_?o+='<label class="sui-label">'+s+'<div class="sui-label-ask tooltip" style="margin-left:0px;padding-left:0px;" data-tooltip="Animation duration in seconds. E.g., 1 sec."/></label>':"animdelay"==_?o+='<label class="sui-label">'+s+'<div class="sui-label-ask tooltip" data-tooltip="Delay the start of the animation after <br /> it is applied, in seconds. E.g., 0 sec."/></label>':"animdistance"==_?o+='<label class="sui-label">'+s+'<div class="sui-label-ask tooltip" data-tooltip="Distance in pixels. E.g., 100 px."/></label>':"animscale"==_?o+='<label class="sui-label">'+s+'<div class="sui-label-ask tooltip" data-tooltip="Start scale animation value in percent. E.g., 90%."/></label>':"animtriggeroffset"==_?o+='<label class="sui-label">'+s+'<div class="sui-label-ask tooltip" data-tooltip="Add an offset at the start of the element <br /> animation relative to the selected trigger."/></label>':"animprxs"==_?o+='<label class="sui-label">'+s+'<div class="sui-label-ask tooltip" data-tooltip="Element will scroll faster or slower than the page. <br>Value > 100% — faster, value < 100% — slower."/></label>':"animfixtrgofst"==_?o+='<label class="sui-label">'+s+'<div class="sui-label-ask tooltip" data-tooltip="Offset helps to add some indent <br>between window border and fixed element."/></label>':"animfixdist"==_?o+='<label class="sui-label">'+s+'<div class="sui-label-ask tooltip" data-tooltip="The element will remain fixed until the page <br /> is scrolled the specified distance. E.g., 300px"/></label>':"effectsvalue"==_?(d=n="",c&&(n=c.units),f&&f.isBackdrop&&(n="<br />"+n,d='<div class="sui-label-ask tooltip" data-tooltip="To apply background effects, set element opacity. <br /> Background effects are not supported by Firefox <br /> browser."/>'),o+='<label class="sui-label">'+s+", "+n+d+"</label>"):o+='<label class="sui-label">'+s+"</label>"),o+='</td><td style="width:100%;min-width:50px;"><div class="sui-input-slider-div"><input type="text" value="'+t+'" name="'+_+'" class="sui-input" autocomplete="off"></div><div class="sui-slider-relwrapper"><div class="sui-slider-abswrapper"><div class="sui-slider"></div></div></div></td></tr></table>',u.html(o);var p,a,d,g,m,f=(p=$(".tn-settings [name="+_+"]")).get(0);"fontsize"!==_&&"inputfontsize"!==_&&"inputtitlefontsize"!==_&&"buttonfontsize"!==_&&"inputelsfontsize"!==_||(g=10,m=100,a=1),"variationweight"!=_&&"inputvariationweight"!=_&&"inputtitlevariationweight"!=_&&"inputelsvariationweight"!=_&&"buttonvariationweight"!=_||(g=100,m=1e3,a=10),"width"!==_&&"height"!==_||(a="%"===elem__getFieldValue(l,_+"units")?(g=1,m=100,5):(m=1200,g=10)),"opacity"==_&&(g=0,m=100,a=5),"rotate"==_&&(g=0,m=360,a=45),"letterspacing"==_&&(g=0,m=3,a=.5),"lineheight"==_&&(g=1,m=2,a=.05),"animprxs"==_&&(g=50,m=200,a=10),"animprxdx"==_&&(g=0,m=300,a=10),"animprxdy"==_&&(g=0,m=300,a=10),"animduration"==_&&(g=0,m=3,a=.1),"animdelay"==_&&(g=0,m=3,a=.1),"animdistance"==_&&(g=0,m=300,a=50),"animscale"==_&&(g=0,m=200,a=5),"animtriggeroffset"==_&&(g=0,m=500,a=50),"animfixdist"==_&&(g=0,m=500,a=10),"animfixtrgofst"==_&&(g=0,m=500,a=10),"speedhover"==_&&(g=0,m=1,a=.1),"tipwidth"==_&&(g=200,m=320,a=5),"tipradius"==_&&(g=0,m=40,a=1),"tipshadowblur"==_&&(g=0,m=30,a=1),"sbstrgofst"==_&&(g=0,m=500,a=50),"effectsvalue"==_&&(g=c&&c.slider?c.slider.min:0,m=c&&c.slider?c.slider.max:0,a=c&&c.slider?c.slider.step:0,i||(n=elem__getFieldValue_for_Res(l,"effects",window.tn.curResolution),d=elem__getFieldValue_for_Res(l,"effects",window.tn.topResolution),n&&n!==d?u.removeClass("sui-form-group_undefined"):u.addClass("sui-form-group_undefined"))),setTimeout(function(){u.find(".sui-slider").slider({range:"max",min:g,max:m,step:a,value:t,start:function(){tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:l),u.removeClass("sui-form-group_undefined")},slide:function(e,t){var i,n=t.value;if(p.val(n),p.closest(".sui-form-group").attr("data-control-value",n),"opacity"==_&&1!=n&&0!=n&&(n/=100),"animscale"==_&&1!=n&&0!=n&&(n/=100),"effectsvalue"===_||"variationweight"===_||"inputvariationweight"===_||"inputtitlevariationweight"===_||"inputelsvariationweight"===_||"buttonvariationweight"===_)p.trigger("change");else{if(window.tn.flags.isMultiEdit)for(var o=0;o<window.tn.multi_edit_elems.length;o++)elem__setFieldValue(i=$(window.tn.multi_edit_elems[o]),_,n),elem__renderViewOneField(i,_);else elem__setFieldValue(l,_,n),elem__renderViewOneField(l,_);if(tn_setOutlinePosition("selected"),window.tn.flags.isSettingsFocused=!1,tn_set_lastChanges(),"form"==l.attr("data-elem-type"))if(window.tn.flags.isMultiEdit)for(var s=0;s<window.tn.multi_edit_elems.length;s++)elem__renderForm(i=$(window.tn.multi_edit_elems[s]));else elem__renderForm(l)}}}),$(".sui-slider .ui-slider-handle").unbind("keydown")},1),p.focusin(function(){window.tn.flags.isSettingsFocused=!0,u.removeClass("sui-form-group_undefined")}),p.focusout(function(){window.tn.flags.isSettingsFocused=!1}),f&&(a<1&&f.setAttribute("data-input-step",a),f.addEventListener("keydown",tn_updateInputValueOnKeyUp)),tn_selectAllTextInsideField(f),p.change(function(){var e,t,i,n,o=$("#"+r),s=$(this).val(),l=tn_calculateInputNumber(s);if(window.tn.curResolution!=window.tn.topResolution&&""==s)tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:o),elem__delFieldValue(o,_,"","render","updateui"),e=elem__getFieldValue(o,_),$(this).closest(".sui-form-group").attr("data-control-value",e),tn_set_lastChanges();else{if("opacity"==_&&(l=100<l?100:l)<0&&(l=0),"rotate"==_&&(l=parseInt(l,10),isNaN(l)&&(l=0),p.val(l=(l=359<l?0:l)<0?0:l)),"fontsize"!=_&&"inputfontsize"!=_&&"inputtitlefontsize"!=_&&"inputelsfontsize"!=_&&"buttonfontsize"!=_||(l=500<l?500:l)<8&&(l=8),"variationweight"!==_&&"inputvariationweight"!==_&&"inputtitlevariationweight"!==_&&"inputelsvariationweight"!==_&&"buttonvariationweight"!==_||(l=1e3<(l=parseInt(l,10))?1e3:l)<100&&(l=100),"lineheight"==_&&(l=10<l?10:l)<0&&(l=0),"letterspacing"==_&&(l=50<l?50:l)<-50&&(l=-50),"width"!=_&&"height"!==_||l<1&&(l=1),"animduration"==_&&(l=10<l?10:l)<0&&(l=0),"animdelay"==_&&(l=10<l?10:l)<0&&(l=0),"animdistance"==_&&(l=1e3<l?1e3:l)<0&&(l=0),"animscale"==_&&(l=500<l?500:l)<0&&(l=0),"animtriggeroffset"!=_&&"animfixtrgofst"!=_&&"sbstrgofst"!=_||(l=1e3<l?1e3:l)<-1e3&&(l=-1e3),"animprxs"==_&&(l=200<l?200:l)<50&&(l=50),"animprxdx"!=_&&"animprxdy"!=_||1e3<(l=l<-1e3?-1e3:l)&&(l=1e3),"animfixdist"==_&&3e4<(l=l<0?0:l)&&(l=3e4),"tipwidth"==_&&(l=320<l?320:l)<200&&(l=200),"tipradius"==_&&(l=100<l?100:l)<0&&(l=0),"tipshadowblur"==_&&(l=100<l?100:l)<0&&(l=0),"speedhover"==_&&p.val(l=(l=1<l?1:l)<0?0:l),"width"!=_&&"height"!==_||(l=isNaN(l)?1:parseInt(l.toFixed(0),10),p.val(l)),"fontsize"!=_&&"inputfontsize"!=_&&"inputtitlefontsize"!=_&&"inputelsfontsize"!=_&&"buttonfontsize"!=_||(l=parseInt(l,10),isNaN(l)&&(l=10),p.val(l)),"variationweight"!==_&&"inputvariationweight"!==_&&"inputtitlevariationweight"!==_&&"inputelsvariationweight"!==_&&"buttonvariationweight"!==_||(l=parseInt(l,10),isNaN(l)&&(l=400),p.val(l)),"lineheight"==_&&(isNaN(l)&&(l=1.55),p.val(l)),"letterspacing"==_&&(isNaN(l)&&(l=0),p.val(l)),"opacity"==_&&(l=parseInt(l,10),isNaN(l)&&(l=100),p.val(l)),"animduration"==_&&(l=parseFloat(l),isNaN(l)&&(l=1),p.val(l)),"animdelay"==_&&(l=parseFloat(l),isNaN(l)&&(l=0),p.val(l)),"animdistance"==_&&(l=parseInt(l,10),isNaN(l)&&(l=100),p.val(l)),"animtriggeroffset"==_&&(l=parseInt(l,10),isNaN(l)&&(l=0),p.val(l)),"animscale"==_&&(l=parseInt(l,10),isNaN(l)&&(l=90),p.val(l)),"animprxs"==_&&(l=parseInt(l,10),isNaN(l)&&(l=100),p.val(l)),"animprxdx"==_&&(l=parseInt(l,10),isNaN(l)&&(l=1),p.val(l)),"animprxdy"==_&&(l=parseInt(l,10),isNaN(l)&&(l=1),p.val(l)),"animfixdist"==_&&(l=parseInt(l,10),isNaN(l)&&(l=1),p.val(l)),"animfixtrgofst"==_&&(l=parseInt(l,10),isNaN(l)&&(l=1),p.val(l)),"tipwidth"==_&&(l=parseInt(l,10),isNaN(l)&&(l=200),p.val(l)),"tipradius"==_&&(l=parseInt(l,10),isNaN(l)&&(l=0),p.val(l)),"tipshadowblur"==_&&(l=parseInt(l,10),isNaN(l)&&(l=0),p.val(l)),"sbstrgofst"==_&&(l=parseInt(l,10),isNaN(l)&&(l=0),p.val(l)),"effectsvalue"==_&&c&&c.slider&&(l=parseInt(l,10),(l=(l=isNaN(l)?0:l)>c.slider.max?c.slider.max:l)<c.slider.min&&(l=c.slider.min),p.val(l)),s=l,tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:o),u.find(".sui-slider").slider("value",l),"opacity"==_&&(s/=100),"animscale"==_&&(s/=100),$(this).closest(".sui-form-group").attr("data-control-value",s),"effectsvalue"===_)if(window.tn.flags.isMultiEdit)for(var a=0;a<window.tn.multi_edit_elems.length;a++)n=(i=tn_parseCSSFilter(elem__getFieldValue(t=$(window.tn.multi_edit_elems[a]),"effects"))).type,elem__setFieldValue(t,"effects",tn_generateFilter(n=i.isBackdrop?"bd_"+n:n,s),"render");else n=(i=tn_parseCSSFilter(elem__getFieldValue(o,"effects"))).type,elem__setFieldValue(o,"effects",tn_generateFilter(n=i.isBackdrop?"bd_"+n:n,s),"render");else if(window.tn.flags.isMultiEdit)for(var d=0;d<window.tn.multi_edit_elems.length;d++)elem__setFieldValue(t=$(window.tn.multi_edit_elems[d]),_,s),elem__renderViewOneField(t,_);else elem__setFieldValue(o,_,s),elem__renderViewOneField(o,_);if(tn_setOutlinePosition("selected"),u.removeClass("sui-form-group_undefined"),tn_set_lastChanges(),"form"==o.attr("data-elem-type"))if(window.tn.flags.isMultiEdit)for(a=0;a<window.tn.multi_edit_elems.length;a++)elem__renderForm(t=$(window.tn.multi_edit_elems[a]));else elem__renderForm(o)}}),window.tn.flags.isMultiEdit&&!e&&(control__drawUi__getMixedState(_)&&p.val("Mixed"),p.focus(function(){"Mixed"===p.val()&&p.val("")}),p.blur(function(){p.val()||p.val("Mixed")}))}function control__drawUi__selectbox(m,l,f){var t,h,e=window.tn.curResolution===window.tn.topResolution,i=window.tn.flags.isMultiEdit&&control__drawUi__getMixedState(l),b=$("[data-control-field="+l+"]"),n=$('[data-elem-id="'+m+'"]'),o=window.tn.flags.isMultiEdit&&""===window.tn.flags.isMultiEdit_common_attrs[l]||""===elem__getFieldValue(n,l),v=b.attr("data-control-value"),w=$(".tn-settings"),s="",a=l;if(void 0===(v="sbsevent"===l&&window.tn.flags.isMultiEdit&&""===v&&i?"Mixed":v))return!0;"fontfamily"==l&&(a="Typeface"),"fontweight"==l&&(a="Weight"),"bgattachment"==l&&(a="Behavior"),"bgposition"==l&&(a="Position"),"borderstyle"==l&&(a="Style"),"linktarget"==l&&(a="Target"),"relnofollow"==l&&(a="Rel nofollow"),"buttonstat"==l&&(a="Click tracking"),"shadowopacity"==l&&(a="Opacity"),"axisx"==l&&(a="Axis X"),"axisy"==l&&(a="Axis Y"),"zoomable"==l&&(a="Zoomable"),"lazyoff"==l&&(a="Lazyload"),"pevent"==l&&(a="Pointer events"),"effectstype"==l&&(a="Effect"),"autoplay"==l&&(a="Autoplay"),"animstyle"==l&&(a="Animation"),"animprx"==l&&(a="Parallax"),"animfix"==l&&(a="Fixing"),"tipposition"==l&&(a="Position"),"tipopen"==l&&(a="Show"),"pinicon"==l&&(a="Icon"),"vidtype"==l&&(a="Type"),"showinfo"==l&&(a="Show info"),"loop"==l&&(a="Loop"),"mute"==l&&(a="Mute"),"autoplay"==l&&(a="Autoplay"),"objectfitvideo"==l&&(a="Object Fit"),"mp4controls"==l&&(a="Controls"),"sbsevent"==l&&(a="Event"),"sbstrg"==l&&(a="Start Trigger"),"sbsloop"==l&&(a="Loop"),"figure"==l&&(a="Shape"),"inputpos"==l&&(a="Form design"),"inputfontfamily"==l&&(a="Font family"),"fieldfontfamily"==l&&(a="Input font family"),"inputfontweight"==l&&(a="Input font weight"),"inputtitlefontweight"==l&&(a="Input title font weight"),"inputelsfontweight"==l&&(a="Checkbox label font weight"),"inputsstyle"==l&&(a="Input style"),"inputsstyle2"==l&&(a="Placeholder style"),"buttonalign"==l&&(a="Btn align"),"buttonfontfamily"==l&&(a="Btn font family"),"buttonfontweight"==l&&(a="Btn font weight"),"slds_arrowborder"==l&&(a="Border"),"slds_arrowcontrols"==l&&(a="Controls"),"slds_dotscontrols"==l&&(a="Controls"),"slds_cursorcontrol"==l&&(a="Cursor control"),"slds_arrowsize"==l&&(a="Size"),"slds_loop"==l&&(a="Loop"),"slds_speed"==l&&(a="Slide speed"),"slds_arrowbgopacity"==l&&(a="Bg. opacity"),"slds_arrowbgopacityhover"==l&&(a="Hover bg. opacity"),"slds_stretch"==l&&(a="Stretch"),"slds_imgposition"==l&&(a="Position"),"slds_captionwidth"==l&&(a="Caption width"),"slds_arrowalign"==l&&(a="Align"),"slds_arrowtype"==l&&(a="Type"),"formbottomcb"==l&&(a="Show checkbox"),s+='<table class="sui-control-selectbox" style="width:100%;"><tr><td>',"leftunits"!=l&&"topunits"!=l&&"widthunits"!=l&&"heightunits"!=l?("axisx"==l?s+='<label class="sui-label">'+a+'<div class="sui-label-ask tooltip" data-tooltip="Set the origin of axis X"></label>':"axisy"==l?s+='<label class="sui-label">'+a+'<div class="sui-label-ask tooltip" data-tooltip="Set the origin of axis Y"></label>':"tag"==l?s+='<label class="sui-label">'+a+'<div class="sui-label-ask tooltip" data-tooltip="Tag for SEO"></label>':"buttonstat"==l?s+='<label class="sui-label">'+a+'<div class="sui-label-ask tooltip" data-tooltip="Send data to analytics systems when button is clicked."></label>':"fontfamily"==l?s+='<label class="sui-label">'+a+'<div class="sui-label-ask tooltip" data-tooltip="Connect other fonts in <a href=\'/projects/settings/?projectid='+window.projectid+"#tab=ss_menu_fonts' target='_blank' style='color:#fff; text-decoration:underline; font-weight:bold;'>Site&nbsp;Settings</a>. \"/></label>":"animfix"==l?s+='<label class="sui-label">'+a+'<div class="sui-label-ask tooltip" data-tooltip="Element will be fixed when it reaches <br /> a trigger: window top, center, or bottom."/></label>':"pevent"==l?s+='<label class="sui-label">'+a+'<div class="sui-label-ask tooltip" data-tooltip="The value None instructs the pointer event <br>to go\t&#34;through&#34; the element and target whatever <br>is &#34;underneath&#34; that element instead."/></label>':"effectstype"==l?s+='<label class="sui-label">'+a+"<div class=\"sui-label-ask tooltip\" data-tooltip=\"Effects may not be supported by older browsers. <br /> See support list in <a href='https://caniuse.com/?search=filter' target='_blank'>CanIUse</a>\"/></label>":s+="lazyoff"==l?'<label class="sui-label">'+a+'<div class="sui-label-ask tooltip" data-tooltip="Images are loaded as they appear on the screen. <br /> Option reduces page load time."/></label>':"zoomable"==l?'<label class="sui-label">'+a+'<div class="sui-label-ask sui-label-ask_no-pad tooltip" data-tooltip="This option allows zooming <br /> in the image on click or tap."/></label>':'<label class="sui-label">'+a+"</label>",s+='</td><td style="width:100%;">'):s+='</td><td style="width:50px;">';var d,r,_,c,u,p,g,a="y"===elem__getFieldValue(n,"autoplay")&&"mute"===l;a&&"y"!==elem__getFieldValue(n,"mute")&&elem__setFieldValue(n,"mute","y","render","updateui","");let y="sui-input sui-select";if(a&&(y+=" sui-select__disabled"),s+=`
		<div class="sui-select">
			<select class="${y}" name="${l}" ${a?"disabled":""}>`,"leftunits"==l||"topunits"==l||"widthunits"==l||"heightunits"==l){const x=n.attr("data-elem-type");s+=`<option value="px" ${"px"===v?'selected="selected"':""}>px</option>`,"tooltip"===x&&"leftunits"!==l&&"topunits"!==l||(s+=`<option value="%" ${"%"===v?'selected="selected"':""}>%</option>`)}if("align"!=l&&"slds_arrowalign"!=l||(s+='<option value="left" '+("left"==v?'selected="selected"':"")+'>Left</option><option value="center" '+("center"==v?'selected="selected"':"")+'>Center</option><option value="right" '+("right"==v?'selected="selected"':"")+">Right</option>"),"slds_arrowtype"==l&&(s+='<option value="1" '+("1"==v?'selected="selected"':"")+'>Triangle</option><option value="2" '+("2"==v?'selected="selected"':"")+">Pointer</option>"),"slds_arrowborder"==l&&(s+='<option value="none" '+("none"==v?'selected="selected"':"")+'>None</option><option value="border" '+("border"==v?'selected="selected"':"")+">Border</option>"),"fontweight"!=l&&"inputfontweight"!=l&&"inputtitlefontweight"!=l&&"inputelsfontweight"!=l&&"buttonfontweight"!=l||(isDefaultTildaFont(elem__getFieldValue(n,"fontweight"==l?"fontfamily":"inputtitlefontweight"==l||"inputelsfontweight"==l?"inputfontfamily":"inputfontweight"==l?"fieldfontfamily":"buttonfontfamily"))?s+='<option value="100" '+("100"==v?'selected="selected"':"")+'>Thin</option><option value="300" '+("300"==v?'selected="selected"':"")+'>Light</option><option value="400" '+("400"==v?'selected="selected"':"")+'>Normal</option><option value="500" '+("500"==v?'selected="selected"':"")+'>Medium</option><option value="600" '+("600"==v?'selected="selected"':"")+'>Semibold</option><option value="700" '+("700"==v?'selected="selected"':"")+">Bold</option>":s+='<option value="100" '+("100"==v?'selected="selected"':"")+'>Thin</option><option value="200" '+("200"==v?'selected="selected"':"")+'>Extralight</option><option value="300" '+("300"==v?'selected="selected"':"")+'>Light</option><option value="400" '+("400"==v?'selected="selected"':"")+'>Normal</option><option value="500" '+("500"==v?'selected="selected"':"")+'>Medium</option><option value="600" '+("600"==v?'selected="selected"':"")+'>Semibold</option><option value="700" '+("700"==v?'selected="selected"':"")+'>Bold</option><option value="800" '+("800"==v?'selected="selected"':"")+'>Extrabold</option><option value="900" '+("900"==v?'selected="selected"':"")+'>Black</option><option value="variation" '+("variation"===v?'selected="selected"':"")+">Custom</option>"),"container"==l&&(s+='<option value="grid" '+("grid"==v?'selected="selected"':"")+'>Grid Container</option><option value="window" '+("window"==v?'selected="selected"':"")+">Window Container</option>"),"axisx"==l&&(s+='<option value="left" '+("left"==v?'selected="selected"':"")+'>Left</option><option value="center" '+("center"==v?'selected="selected"':"")+'>Center</option><option value="right" '+("right"==v?'selected="selected"':"")+">Right</option>"),"axisy"==l&&(s+='<option value="top" '+("top"==v?'selected="selected"':"")+'>Top</option><option value="center" '+("center"==v?'selected="selected"':"")+'>Center</option><option value="bottom" '+("bottom"==v?'selected="selected"':"")+">Bottom</option>"),"opacity"!=l&&"shadowopacity"!=l&&"slds_arrowbgopacity"!=l&&"slds_arrowbgopacityhover"!=l||(s+='<option value="1" '+("1"==v?'selected="selected"':"")+'>100%</option><option value="0.9" '+("0.9"==v?'selected="selected"':"")+'>90%</option><option value="0.8" '+("0.8"==v?'selected="selected"':"")+'>80%</option><option value="0.7" '+("0.7"==v?'selected="selected"':"")+'>70%</option><option value="0.6" '+("0.6"==v?'selected="selected"':"")+'>60%</option><option value="0.5" '+("0.5"==v?'selected="selected"':"")+'>50%</option><option value="0.4" '+("0.4"==v?'selected="selected"':"")+'>40%</option><option value="0.3" '+("0.3"==v?'selected="selected"':"")+'>30%</option><option value="0.2" '+("0.2"==v?'selected="selected"':"")+'>20%</option><option value="0.1" '+("0.1"==v?'selected="selected"':"")+'>10%</option><option value="0" '+("0"==v?'selected="selected"':"")+">0%</option>"),"bgattachment"==l&&(s+='<option value="scroll" '+("scroll"==v?'selected="selected"':"")+'>Scroll</option><option value="fixed" '+("fixed"==v?'selected="selected"':"")+">Fixed</option>"),"bgposition"!=l&&"slds_imgposition"!=l||(s+='<option value="left top" '+("left top"==v?'selected="selected"':"")+'>Left Top</option><option value="center top" '+("center top"==v?'selected="selected"':"")+'>Center Top</option><option value="right top" '+("right top"==v?'selected="selected"':"")+'>Right Top</option><option value="left center" '+("left center"==v?'selected="selected"':"")+'>Left Center</option><option value="center center" '+("center center"==v?'selected="selected"':"")+'>Center Center</option><option value="right center" '+("right center"==v?'selected="selected"':"")+'>Right Center</option><option value="left bottom" '+("left bottom"==v?'selected="selected"':"")+'>Left Bottom</option><option value="center bottom" '+("center bottom"==v?'selected="selected"':"")+'>Center Bottom</option><option value="right bottom" '+("right bottom"==v?'selected="selected"':"")+">Right Bottom</option>"),"fontfamily"!=l&&"inputfontfamily"!=l&&"buttonfontfamily"!=l&&"fieldfontfamily"!=l||(t="",window.fonts.forEach(function(e){s+='  <option value="'+e+'" '+(v==""+e?'selected="selected"':"")+">"+e+"</option>",v==e&&(t="y")}),"fieldfontfamily"===l&&(s+='  <option value="'+v+'" '+(""==t?'selected="selected"':"")+">Inherit</option>"),""==t&&"fieldfontfamily"!==l&&(s+='  <option value="'+v+'" selected="selected"> Font not connected - '+v+"</option>")),"borderstyle"==l&&(s+='<option value="solid" '+("solid"==v?'selected="selected"':"")+'>Solid</option><option value="dotted" '+("dotted"==v?'selected="selected"':"")+'>Dotted</option><option value="dashed" '+("dashed"==v?'selected="selected"':"")+'>Dashed</option><option value="none" '+("none"==v?'selected="selected"':"")+">None</option>"),"linktarget"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>Same window</option><option value="_blank" '+("_blank"==v?'selected="selected"':"")+">New window</option>"),"relnofollow"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>None</option><option value="nofollow" '+("nofollow"==v?'selected="selected"':"")+">Nofollow</option>"),"buttonstat"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>None</option><option value="buttonstatsend" '+("buttonstatsend"==v?'selected="selected"':"")+">Send data to analytics</option>","buttonstatsend"==v)&&$(".sui-form-group__hint_buttonstat").css("display","block"),"tag"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>DIV</option><option value="h1" '+("h1"==v?'selected="selected"':"")+'>H1</option><option value="h2" '+("h2"==v?'selected="selected"':"")+'>H2</option><option value="h3" '+("h3"==v?'selected="selected"':"")+">H3</option>"),"animstyle"==l&&(d={fadein:"Fade In",fadeinup:"Fade In Up",fadeindown:"Fade In Down",fadeinleft:"Fade In Left",fadeinright:"Fade In Right",zoomin:"Zoom In"},_=(a=Object.keys(d))[a.length-1],u=a[0],p=(c=["animduration","animdelay","animtriggeroffset","animtest","animdistance","animscale"]).slice(0,-2),""!==elem__getFieldValue(n,l)&&!e||(s+='<option value="" '+(""===v?'selected="selected"':"")+">None</option>"),g=control__drawUi__getMultiplyAnimOpts(),v||g||e?(e||(v===_||v===u?a=[v]:(a.shift(),a.pop())),a.forEach(function(e){s+='<option value="'+e+'" '+(v===e?'selected="selected"':"")+">"+d[e]+"</option>"}),v||g?(control__drawUi__updateVisibilityField(p,w,"table","table"),1===a.length?(_=["animdistance"],"fadein"===v&&_.push("animscale"),control__drawUi__updateVisibilityField(_,w,"table","none")):(control__drawUi__updateVisibilityField(["animscale"],w,"table","none"),control__drawUi__updateVisibilityField(["animdistance"],w,"table","table"))):control__drawUi__updateVisibilityField(c,w,"table","none")):(!e&&o&&control__drawUi__updateVisibilityField([l],w,"table","none"),control__drawUi__updateVisibilityField(c,w,"table","none"))),"animprx"==l&&(""!==elem__getFieldValue(n,l)&&!e||(s+='<option value="" '+(""===v?'selected="selected"':"")+">None</option>"),e?s+='<option value="scroll" '+("scroll"==v?'selected="selected"':"")+'>Scroll</option><option value="mouse" '+("mouse"==v?'selected="selected"':"")+">Mouse</option>":v?(u=v[0].toUpperCase()+v.slice(1),s+='<option value="'+v+'" selected="selected">'+u+"</option>"):window.tn.flags.isMultiEdit&&(s+=""),""==v&&(w.find("[data-control-field=animprxs]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdx]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdy]").closest(".sui-panel__table").css("display","none")),"scroll"==v&&(w.find("[data-control-field=animprxs]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=animprxdx]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdy]").closest(".sui-panel__table").css("display","none")),"mouse"==v&&(w.find("[data-control-field=animprxs]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdx]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=animprxdy]").closest(".sui-panel__table").css("display","table")),!e)&&o&&control__drawUi__updateVisibilityField([l],w,"table","none"),"animfix"==l&&(""!==elem__getFieldValue(n,l)&&!e||(s+='<option value="" '+(""===v?'selected="selected"':"")+">None</option>"),!e&&window.tn.flags.isMultiEdit&&null===window.tn.flags.isMultiEdit_common_attrs.animprx||(s+='<option value="0" '+("0"==v?'selected="selected"':"")+'>on Window Top</option><option value="0.5" '+("0.5"==v?'selected="selected"':"")+'>on Window Center</option><option value="1" '+("1"==v?'selected="selected"':"")+">on Window Bottom</option>"),""==v&&(w.find("[data-control-field=animfixdist]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animfixtrgofst]").closest(".sui-panel__table").css("display","none")),""==v||"1"!=v&&"0.5"!=v&&"0"!=v||(w.find("[data-control-field=animfixdist]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=animfixtrgofst]").closest(".sui-panel__table").css("display","table")),!e)&&o&&control__drawUi__updateVisibilityField([l],w,"table","none"),"figure"==l&&(s+='<option value="rectangle" '+("rectangle"==v?'selected="selected"':"")+'>Rectangle</option><option value="circle" '+("circle"==v?'selected="selected"':"")+'>Circle</option><option value="line" '+("line"==v?'selected="selected"':"")+">Line</option>"),"zoomable"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>None</option><option value="y" '+("y"==v?'selected="selected"':"")+">Zoom on click</option>"),"lazyoff"==l&&(x=n.attr("data-elem-type"),s+='  <option value="" '+(""==v?'selected="selected"':"")+">On (by default)</option>","shape"===x&&(s+='  <option value="n" '+("n"==v?'selected="selected"':"")+">On, without showing thumbnail</option>"),s+='  <option value="y" '+("y"==v?'selected="selected"':"")+">Off</option>"),"pevent"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>Auto</option><option value="none" '+("none"==v?'selected="selected"':"")+">None</option>"),"effectstype"==l&&(x=n.attr("data-elem-type"),g="",(p=tn_parseCSSFilter(elem__getFieldValue(n,"effects")))&&(g=p.type,p.isBackdrop)&&(g="bd_"+g),window.tn.flags.isMultiEdit&&(r=tn_checkIsEffectsMixed($(".tn-elem__selected"))),s+='<option value="" '+(""==g?'selected="selected"':"")+'>None</option><option value="blur" '+("blur"==g?'selected="selected"':"")+'>Blur</option><option value="brightness" '+("brightness"==g?'selected="selected"':"")+'>Brightness</option><option value="contrast" '+("contrast"==g?'selected="selected"':"")+'>Contrast</option><option value="grayscale" '+("grayscale"==g?'selected="selected"':"")+'>Grayscale</option><option value="hue-rotate" '+("hue-rotate"==g?'selected="selected"':"")+'>Hue-Rotate</option><option value="invert" '+("invert"==g?'selected="selected"':"")+'>Invert</option><option value="saturate" '+("saturate"==g?'selected="selected"':"")+'>Saturate</option><option value="sepia" '+("sepia"==g?'selected="selected"':"")+">Sepia</option>",0===$('.tn-elem__selected[data-elem-type="text"]').length&&(s+='<option value="bd_blur" '+("bd_blur"==g?'selected="selected"':"")+'>Background Blur</option><option value="bd_brightness" '+("bd_brightness"==g?'selected="selected"':"")+'>Background Brightness</option><option value="bd_contrast" '+("bd_contrast"==g?'selected="selected"':"")+'>Background Contrast</option><option value="bd_grayscale" '+("bd_grayscale"==g?'selected="selected"':"")+'>Background Grayscale</option><option value="bd_hue-rotate" '+("bd_hue-rotate"==g?'selected="selected"':"")+'>Background Hue-Rotate</option><option value="bd_invert" '+("bd_invert"==g?'selected="selected"':"")+'>Background Invert</option><option value="bd_saturate" '+("bd_saturate"==g?'selected="selected"':"")+'>Background Saturate</option><option value="bd_sepia" '+("bd_sepia"==g?'selected="selected"':"")+">Background Sepia</option>"),r)&&r.isTypeMixed&&(s+='<option style="display: none;" disabled selected>Mixed</option>'),"tipposition"==l&&(s+='<option value="top" '+("top"==v?'selected="selected"':"")+'>Top</option><option value="right" '+("right"==v?'selected="selected"':"")+'>Right</option><option value="bottom" '+("bottom"==v?'selected="selected"':"")+'>Bottom</option><option value="left" '+("left"==v?'selected="selected"':"")+">Left</option>"),"tipopen"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>on Hover</option><option value="click" '+("click"==v?'selected="selected"':"")+">on Click</option>"),"pinicon"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>None</option><option value="qst" '+("qst"==v?'selected="selected"':"")+'>Question</option><option value="info" '+("info"==v?'selected="selected"':"")+'>Info</option><option value="plus" '+("plus"==v?'selected="selected"':"")+'>Plus</option><option value="star" '+("star"==v?'selected="selected"':"")+'>Star</option><option value="camera" '+("camera"==v?'selected="selected"':"")+'>Camera</option><option value="img" '+("img"==v?'selected="selected"':"")+">Image file</option>",""==v&&(w.find("[data-control-field=pincolor]").closest(".sui-panel__table").css("display","none"),w.find(".sui-panel__section-bgimg").css("display","none")),"qst"!=v&&"info"!=v&&"plus"!=v&&"star"!=v&&"camera"!=v||(w.find("[data-control-field=pincolor]").closest(".sui-panel__table").css("display","table"),w.find(".sui-panel__section-bgimg").css("display","none")),"img"==v)&&(w.find("[data-control-field=pincolor]").closest(".sui-panel__table").css("display","none"),w.find(".sui-panel__section-bgimg").css("display","block")),"showinfo"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>None</option><option value="y" '+("y"==v?'selected="selected"':"")+">Show</option>"),"mute"==l&&(s+='<option value="" '+(""==v&&"y"!==elem__getFieldValue(n,"autoplay")?'selected="selected"':"")+'>None</option><option value="y" '+("y"==v||"y"===elem__getFieldValue(n,"autoplay")?'selected="selected"':"")+">Mute</option>"),"loop"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>None</option><option value="y" '+("y"==v?'selected="selected"':"")+">Loop</option>"),"autoplay"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>None</option><option value="y" '+("y"==v?'selected="selected"':"")+">Autoplay</option>"),"mp4controls"==l&&(s=s+`<option value="" ${""===v?'selected="selected"':""}>Visible</option>`+`<option value="hidden" ${"hidden"===v?'selected="selected"':""}>Hide</option>`),"objectfitvideo"===l&&(s=s+`<option value="" ${""===v?'selected="selected"':""}>Contain</option>`+`<option value="cover" ${"cover"===v?'selected="selected"':""}>Cover</option>`),"vidtype"==l&&(s+='<option value="y" '+("y"==v?'selected="selected"':"")+'>YouTube</option><option value="v" '+("v"==v?'selected="selected"':"")+'>Vimeo</option><option value="html" '+("html"==v?'selected="selected"':"")+">MP4</option>",control__drawUi__updateVideoParams(v,w,n,!1)),"sbsevent"==l&&({animSBSTypesObj:a,animTypeNaming:_}=control__drawUi__getSBSAnimParams(),c=control__drawUi__getSbsAnimType(i,a,v),u="Mixed"===v?a[c]:Object.values(a).flat(),s+=control__drawUi__setAnimSelectOptions(v,u,_),v?(control__drawUi__updateVisibilityField(["sbstrg","sbstrgofst"],w,"table","scroll"===c||"view"===c?"table":"none"),control__drawUi__updateVisibilityField(["sbsloop","sbstest"],w,"table","scroll"===c||"mixed"===c?"none":"table"),control__drawUi__updateVisibilityField(["sbstrgels"],w,"section","hoverclick"===c?"block":"none"),control__drawUi__updateVisibilityField(["sbsopts"],w,"section","block")):(control__drawUi__updateVisibilityField(["sbstrg","sbstrgofst","sbsloop","sbstest"],w,"table","none"),control__drawUi__updateVisibilityField(["sbstrgels","sbsopts"],w,"section","none")),w.find(".sui-panel__section-sbs-prop").css("display","none")),"sbstrg"==l&&(s+='<option value="0" '+("0"==v?'selected="selected"':"")+'>on Window Top</option><option value="0.5" '+("0.5"==v?'selected="selected"':"")+'>on Window Center</option><option value="1" '+("1"==v?'selected="selected"':"")+">on Window Bottom</option>"),"sbsloop"===l){const k={"":"None",loop:"Loop",noreverse:"No Reverse",loopwithreverse:"Loop with Reverse"};var o=elem__getFieldValue(n,"sbsevent"),x=("hover"===o||"click"===o?k.once="Once":"once"===v&&elem__setFieldValue(n,"sbsloop",v="","","updateui"),Object.keys(k));s+=x.reduce((e,t)=>{return e+=`<option value="${t}" ${t===v?'selected="selected"':""}>${k[t]}</option>`},"")}function S(i,n,o){var e,t,s=window.tn.curResolution,l="leftunits"===o||"topunits"===o||"container"===o||"axisx"===o||"axisy"===o,a=$(".tn-group__selected"),d=$(".sui-copy-btn.sui-copy-btn-basic"),r=elem__getFieldValue(i,o);if(b.attr("data-control-value",n),group__isSelectedOnlyGroups()&&l)a.each(function(){var e=$(this),t=group__convertPosition__Local__toAbsolute(e,"left"),i=group__convertPosition__Local__toAbsolute(e,"top");group__setFieldValue(e.attr("id"),o,n),e.css({left:t+"px",top:i+"px"}),group__saveCurrentPosition(e.attr("id")),tn_setOutlinePosition("selected")});else{if("container"==o?(e=i.attr("data-elem-type"),elem__setFieldValue(i,o,n),elem__Save__currentPosition(i),elem__renderViewOneField(i,"width"),"text"!=e&&"form"!=e&&elem__renderViewOneField(i,"height"),elem__drawAxis(i),elem__updateUIControls(i),tn_setOutlinePosition("selected"),"window"===n?$(".tn-outline_selected").addClass("tn-outline__fluid"):$(".tn-outline_selected").removeClass("tn-outline__fluid")):"effectstype"!==o&&elem__setFieldValue(i,o,n,"render"),"axisx"==o&&(elem__setFieldValue(i,"left","0","render","updateui"),elem__renderViewOneField(i,"top"),elem__drawAxis(i),tn_setOutlinePosition("selected")),"axisy"==o&&(elem__setFieldValue(i,"top","0","render","updateui"),elem__renderViewOneField(i,"left"),elem__drawAxis(i),tn_setOutlinePosition("selected")),"leftunits"==o&&(elem__setFieldValue(i,"left","0","render","updateui"),elem__updateUIControls(i),tn_setOutlinePosition("selected")),"topunits"==o&&(elem__setFieldValue(i,"top","0","render","updateui"),elem__updateUIControls(i),tn_setOutlinePosition("selected")),"widthunits"==o&&(elem__setFieldValue(i,"width","100","render","updateui"),elem__updateUIControls(i),tn_setOutlinePosition("selected"),bgposition__resetElement(i)),"heightunits"==o&&(elem__setFieldValue(i,"height","100","render","updateui"),elem__updateUIControls(i),tn_setOutlinePosition("selected"),bgposition__resetElement(i)),"fontfamily"===o&&(isDefaultTildaFont(n)&&(c=changeFontWeightToNearest(elem__getFieldValue(i,"fontweight")),elem__setFieldValue(i,"fontweight",c,"render","updateui"),w.find("[data-control-field=variationweight]").closest(".sui-panel__table").css("display",_?"table":"none")),control__drawUi__selectbox(i.attr("id"),"fontweight")),"inputfontfamily"===o&&(isDefaultTildaFont(n)&&(c=changeFontWeightToNearest(elem__getFieldValue(i,"inputtitlefontweight")),elem__setFieldValue(i,"inputtitlefontweight",c,"render","updateui"),c=changeFontWeightToNearest(elem__getFieldValue(i,"inputelsfontweight")),elem__setFieldValue(i,"inputelsfontweight",c,"render","updateui"),w.find("[data-control-field=inputtitlevariationweight],[data-control-field=inputelsvariationweight]").closest(".sui-panel__table").css("display",_?"table":"none")),control__drawUi__selectbox(i.attr("id"),"inputtitlefontweight"),control__drawUi__selectbox(i.attr("id"),"inputelsfontweight")),"fieldfontfamily"===o&&(isDefaultTildaFont(n)&&(c=changeFontWeightToNearest(elem__getFieldValue(i,"inputfontweight")),elem__setFieldValue(i,"inputfontweight",c,"render","updateui"),w.find("[data-control-field=inputvariationweight]").closest(".sui-panel__table").css("display",_?"table":"none")),control__drawUi__selectbox(i.attr("id"),"inputfontweight")),"buttonfontfamily"===o&&(isDefaultTildaFont(n)&&(c=changeFontWeightToNearest(elem__getFieldValue(i,"buttonfontweight")),elem__setFieldValue(i,"buttonfontweight",c,"render","updateui"),w.find("[data-control-field=buttonvariationweight]").closest(".sui-panel__table").css("display",_?"table":"none")),control__drawUi__selectbox(i.attr("id"),"buttonfontweight")),"fontweight"===o&&((_="variation"===n)&&r&&"variation"!==r?(elem__setFieldValue(i,"variationweight",r),window.tn.flags.isMultiEdit&&!i.hasClass("tn-elem__fake")||panelSettings__updateUi(i,"variationweight",r)):_||elem__emptyField(i,"variationweight"),w.find("[data-control-field=variationweight]").closest(".sui-panel__table").css("display",_?"table":"none"),tn_setOutlinePosition("selected")),"inputfontweight"===o&&((_="variation"===n)&&r&&"variation"!==r?(elem__setFieldValue(i,"inputvariationweight",r),window.tn.flags.isMultiEdit&&!i.hasClass("tn-elem__fake")||panelSettings__updateUi(i,"inputvariationweight",r)):_||elem__emptyField(i,"inputvariationweight"),w.find("[data-control-field=inputvariationweight]").closest(".sui-panel__table").css("display","variation"===n?"table":"none")),"inputtitlefontweight"===o&&((_="variation"===n)&&r&&"variation"!==r?(elem__setFieldValue(i,"inputtitlevariationweight",r),window.tn.flags.isMultiEdit&&!i.hasClass("tn-elem__fake")||panelSettings__updateUi(i,"inputtitlevariationweight",r)):_||elem__emptyField(i,"inputtitlevariationweight"),w.find("[data-control-field=inputtitlevariationweight]").closest(".sui-panel__table").css("display","variation"===n?"table":"none")),"inputelsfontweight"===o&&((_="variation"===n)&&r&&"variation"!==r?(elem__setFieldValue(i,"inputelsvariationweight",r),window.tn.flags.isMultiEdit&&!i.hasClass("tn-elem__fake")||panelSettings__updateUi(i,"inputelsvariationweight",r)):_||elem__emptyField(i,"inputelsvariationweight"),w.find("[data-control-field=inputelsvariationweight]").closest(".sui-panel__table").css("display","variation"===n?"table":"none")),"buttonfontweight"===o&&((_="variation"===n)&&r&&"variation"!==r?(elem__setFieldValue(i,"buttonvariationweight",r),window.tn.flags.isMultiEdit&&!i.hasClass("tn-elem__fake")||panelSettings__updateUi(i,"buttonvariationweight",r)):_||elem__emptyField(i,"buttonvariationweight"),w.find("[data-control-field=buttonvariationweight]").closest(".sui-panel__table").css("display","variation"===n?"table":"none")),"figure"==o){if("shape"!==i.attr("data-elem-type"))return;(l=parseInt(elem__getFieldValue(i,"width"),10))<60&&(elem__emptyField(i,"width"),elem__setFieldValue(i,"width","100","render","updateui",window.tn.topResolution)),"circle"==n&&(window.tn.flags.isMultiEdit||(w.find(".sui-panel__section-bgimg").css("display","block"),w.find(".sui-panel__section-shadow").css("display","block"),w.find(".sui-panel__section-border").css("display","block"),w.find("[data-control-field=borderradius]").closest(".sui-panel__table").css("display","none")),elem__emptyField(i,"height"),l=elem__getFieldValue(i,"width"),elem__setFieldValue(i,"height",l,"render","updateui",window.tn.topResolution),elem__emptyField(i,"borderradius"),elem__setFieldValue(i,"borderradius","3000","render","updateui",window.tn.topResolution),i.find(".ui-resizable-s").css("display",""),i.find(".ui-resizable-n").css("display",""),i.find(".ui-resizable-se").css("display",""),i.find(".ui-resizable-sw").css("display",""),i.find(".ui-resizable-ne").css("display",""),i.find(".ui-resizable-nw").css("display",""),tn_shapeBorderRadius__destroyHandle(i[0])),"line"==n&&(elem__emptyField(i,"bgimg","render","updateui"),elem__emptyField(i,"shadowcolor","render","updateui"),elem__emptyField(i,"borderradius","render","updateui"),panelSettings__updateUi(i,"bgposition"),window.tn.flags.isMultiEdit||(w.find(".sui-panel__section-bgimg").css("display","none"),w.find(".sui-panel__section-shadow").css("display","none"),w.find(".sui-panel__section-border").css("display","none"),w.find("[data-control-field=borderradius]").closest(".sui-panel__table").css("display","none")),elem__emptyField(i,"height"),elem__setFieldValue(i,"height","5","render","updateui",window.tn.topResolution),i.find(".ui-resizable-s").css("display","none"),i.find(".ui-resizable-n").css("display","none"),i.find(".ui-resizable-se").css("display","none"),i.find(".ui-resizable-sw").css("display","none"),i.find(".ui-resizable-ne").css("display","none"),i.find(".ui-resizable-nw").css("display","none"),tn_shapeBorderRadius__destroyHandle(i[0])),"rectangle"==n&&(window.tn.flags.isMultiEdit||(w.find(".sui-panel__section-bgimg").css("display","block"),w.find(".sui-panel__section-shadow").css("display","block"),w.find(".sui-panel__section-border").css("display","block"),w.find("[data-control-field=borderradius]").closest(".sui-panel__table").css("display","block")),elem__emptyField(i,"borderradius","render","updateui"),parseInt(elem__getFieldValue(i,"height"),10)<10&&(elem__emptyField(i,"height"),l=parseInt(elem__getFieldValue(i,"width"),10),elem__setFieldValue(i,"height",l,"render","updateui",window.tn.topResolution)),i.find(".ui-resizable-s").css("display",""),i.find(".ui-resizable-n").css("display",""),i.find(".ui-resizable-se").css("display",""),i.find(".ui-resizable-sw").css("display",""),i.find(".ui-resizable-ne").css("display",""),i.find(".ui-resizable-nw").css("display",""),tn_shapeBorderRadius__initHandle(i[0])),tn_setOutlinePosition("selected")}if("buttonstat"==o&&("buttonstatsend"==n?$(".sui-form-group__hint_buttonstat").css("display","block"):$(".sui-form-group__hint_buttonstat").css("display","none")),"effectstype"==o&&(n?(a=tn_generateFilter(n),elem__setFieldValue(i,"effects",a,"render"),control__drawUi__slider(i.attr("id"),"effectsvalue"),w.find('[data-control-field="effectsvalue"]').closest(".sui-panel__table").css("display","table"),tn_tooltip_update()):(elem__emptyField(i,"effects","render"),w.find('[data-control-field="effectsvalue"]').closest(".sui-panel__table").css("display","none"))),"animstyle"==o&&(""==n?(w.find("[data-control-field=animduration]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animdelay]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animdistance]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animscale]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animtriggeroffset]").closest(".sui-panel__table").css("display","none"),w.find("[data-control=animtest]").closest(".sui-panel__table").css("display","none"),elem__emptyField(i,"animduration"),elem__emptyField(i,"animdelay"),elem__emptyField(i,"animdistance"),elem__emptyField(i,"animscale"),elem__emptyField(i,"animtriggeroffset"),1200<=s&&(elem__emptyField(i,"animmobile"),elem__emptyField(i,"animstyle")),""==elem__getFieldValue(i,"animprx")&&""==elem__getFieldValue(i,"animfix")&&d.css("display","none")):(w.find("[data-control-field=animduration]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=animdelay]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=animtriggeroffset]").closest(".sui-panel__table").css("display","table"),w.find("[data-control=animtest]").closest(".sui-panel__table").css("display","table"),""==elem__getFieldValue(i,"animduration")&&elem__setFieldValue(i,"animduration","1","render","updateui",window.tn.topResolution),""==elem__getFieldValue(i,"animdelay")&&elem__setFieldValue(i,"animdelay","0","render","updateui",window.tn.topResolution),""==elem__getFieldValue(i,"animtriggeroffset")&&elem__setFieldValue(i,"animtriggeroffset","0","render","updateui",window.tn.topResolution),"fadein"==n&&(w.find("[data-control-field=animscale]").closest(".sui-panel__table").css("display","none"),""!=elem__getFieldValue(i,"animscale")&&elem__emptyField(i,"animscale"),w.find("[data-control-field=animdistance]").closest(".sui-panel__table").css("display","none"),""!=elem__getFieldValue(i,"animdistance"))&&elem__emptyField(i,"animdistance"),"fadeinup"!=n&&"fadeindown"!=n&&"fadeinleft"!=n&&"fadeinright"!=n||(w.find("[data-control-field=animdistance]").closest(".sui-panel__table").css("display","table"),""==elem__getFieldValue(i,"animdistance")&&elem__setFieldValue(i,"animdistance","100","render","updateui",window.tn.topResolution),w.find("[data-control-field=animscale]").closest(".sui-panel__table").css("display","none"),""!=elem__getFieldValue(i,"animscale")&&elem__emptyField(i,"animscale")),"zoomin"==n&&(w.find("[data-control-field=animscale]").closest(".sui-panel__table").css("display","table"),elem__setFieldValue(i,"animscale","0.9","render","updateui",window.tn.topResolution),w.find("[data-control-field=animdistance]").closest(".sui-panel__table").css("display","none"),""!=elem__getFieldValue(i,"animdistance"))&&elem__emptyField(i,"animdistance"),"block"!==d.css("display")&&d.css("display","block"))),"animprx"==o&&(""==n?(w.find("[data-control-field=animprxs]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdx]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdy]").closest(".sui-panel__table").css("display","none"),elem__emptyField(i,"animprxs"),elem__emptyField(i,"animprxdy"),elem__emptyField(i,"animprxdx"),""==elem__getFieldValue(i,"animstyle")&&""==elem__getFieldValue(i,"animfix")&&d.css("display","none")):("scroll"==n&&(w.find("[data-control-field=animprxs]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=animprxdx]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdy]").closest(".sui-panel__table").css("display","none"),elem__emptyField(i,"animprxdy"),elem__emptyField(i,"animprxdx"),""==elem__getFieldValue(i,"animprxs"))&&elem__setFieldValue(i,"animprxs","100","render","updateui",window.tn.topResolution),"mouse"==n&&(w.find("[data-control-field=animprxs]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdx]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=animprxdy]").closest(".sui-panel__table").css("display","table"),elem__emptyField(i,"animprxs"),""==elem__getFieldValue(i,"animprxdx")&&elem__setFieldValue(i,"animprxdx","0","render","updateui",window.tn.topResolution),""==elem__getFieldValue(i,"animprxdy"))&&elem__setFieldValue(i,"animprxdy","0","render","updateui",window.tn.topResolution),w.find("[data-control-field=animfixdist]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animfixtrgofst]").closest(".sui-panel__table").css("display","none"),elem__emptyField(i,"animfix","","updateui"),elem__emptyField(i,"animfixdist","","updateui"),elem__emptyField(i,"animfixtrgofst","","updateui"),"block"!==d.css("display")&&d.css("display","block"))),"animfix"==o&&(""==n?(w.find("[data-control-field=animfixdist]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animfixtrgofst]").closest(".sui-panel__table").css("display","none"),elem__emptyField(i,"animfixdist"),elem__emptyField(i,"animfixtrgofst"),""==elem__getFieldValue(i,"animstyle")&&""==elem__getFieldValue(i,"animprx")&&d.css("display","none")):(w.find("[data-control-field=animfixdist]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=animfixtrgofst]").closest(".sui-panel__table").css("display","table"),""==elem__getFieldValue(i,"animfixdist")&&elem__setFieldValue(i,"animfixdist","0","render","updateui",window.tn.topResolution),""==elem__getFieldValue(i,"animfixtrgofst")&&elem__setFieldValue(i,"animfixtrgofst","0","render","updateui",window.tn.topResolution),w.find("[data-control-field=animprxs]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdx]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=animprxdy]").closest(".sui-panel__table").css("display","none"),elem__emptyField(i,"animprx","","updateui"),elem__emptyField(i,"animprxs","","updateui"),elem__emptyField(i,"animprxdy","","updateui"),elem__emptyField(i,"animprxdx","","updateui"),"block"!==d.css("display")&&d.css("display","block"))),"pinicon"==o&&(""==n&&(w.find("[data-control-field=pincolor]").closest(".sui-panel__table").css("display","none"),w.find(".sui-panel__section-bgimg").css("display","none"),elem__emptyField(i,"pincolor","render","updateui"),elem__emptyField(i,"bgimg","render","updateui")),"img"==n&&(w.find("[data-control-field=pincolor]").closest(".sui-panel__table").css("display","none"),w.find(".sui-panel__section-bgimg").css("display","block"),elem__emptyField(i,"pincolor","render","updateui")),"qst"!=n&&"info"!=n&&"plus"!=n&&"star"!=n&&"camera"!=n||(w.find("[data-control-field=pincolor]").closest(".sui-panel__table").css("display","table"),w.find(".sui-panel__section-bgimg").css("display","none"),elem__emptyField(i,"bgimg","render","updateui"),""==elem__getFieldValue(i,"pincolor")&&elem__setFieldValue(i,"pincolor","#ffffff","render","updateui",window.tn.topResolution))),"slds_arrowcontrols"==o&&("cursor"==n?(w.find("[data-control-field=slds_arrowvmargin]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowbetweenmargin]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowalign]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowhmargin]").closest(".sui-panel__table").css("display","none")):("above"==n||"under"==n?(w.find("[data-control-field=slds_arrowhmargin]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowvmargin]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=slds_arrowbetweenmargin]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=slds_arrowalign]")):(w.find("[data-control-field=slds_arrowvmargin]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowbetweenmargin]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowalign]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowhmargin]"))).closest(".sui-panel__table").css("display","table")),"vidtype"==o&&control__drawUi__updateVideoParams(n,w,i,!0),"vidtype"!=o&&"showinfo"!=o||(elem__renderViewOneField(i,"youtubeid"),elem__renderViewOneField(i,"vimeoid"),elem__renderViewOneField(i,"mp4video")),"sbsevent"==o){if(""==n){var _,c=document.querySelector('select[name="sbsevent"]');c&&c.options.length<6&&({animSBSTypesObj:_,animTypeNaming:l}=control__drawUi__getSBSAnimParams(),a=Object.values(_).flat(),c.innerHTML=control__drawUi__setAnimSelectOptions(v,a,l)),w.find("[data-control-field=sbstrg]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=sbstrgofst]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=sbsloop]").closest(".sui-panel__table").css("display","none"),w.find("[data-control=sbstest]").closest(".sui-panel__table").css("display","none"),w.find(".sui-panel__section-sbs-trgels").css("display","none"),w.find(".sui-panel__section-sbs-opts").css("display","none"),w.find(".sui-panel__section-sbs-prop").css("display","none"),elem__emptyField(i,"sbstrg","","updateui"),elem__emptyField(i,"sbstrgofst","","updateui"),elem__emptyField(i,"sbstrgels","","updateui"),elem__emptyField(i,"sbsloop","","updateui"),elem__emptyField(i,"sbsopts","","updateui")}else{let e=n,t=r;var u,p=control__drawUi__getSBSAnimParams()["animSBSTypesObj"];for(u in p)p[u].includes(t)&&(t=u),p[u].includes(e)&&(e=u);t!==e&&s===window.tn.topResolution&&window.tn.screens.slice(0,-1).forEach(e=>{elem__delFieldValue(i,"sbsopts","",!1,!1,e)}),"scroll"==n||"intoview"==n||"blockintoview"==n?(w.find("[data-control-field=sbstrg]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=sbstrgofst]").closest(".sui-panel__table").css("display","table"),d=elem__getFieldValue(i,"sbstrg"),_=elem__getFieldValue(i,"sbstrgofst"),void 0!==d&&""!=d||elem__setFieldValue(i,"sbstrg","1","","updateui",window.tn.topResolution),void 0!==_&&""!=_||elem__setFieldValue(i,"sbstrgofst","0","","updateui",window.tn.topResolution)):(w.find("[data-control-field=sbstrg]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=sbstrgofst]").closest(".sui-panel__table").css("display","none"),elem__emptyField(i,"sbstrg","","updateui"),elem__emptyField(i,"sbstrgofst","","updateui")),"scroll"==n?(w.find("[data-control-field=sbsloop]").closest(".sui-panel__table").css("display","none"),elem__emptyField(i,"sbsloop","","updateui"),w.find("[data-control=sbstest]").closest(".sui-panel__table").css("display","none")):(w.find("[data-control-field=sbsloop]").closest(".sui-panel__table").css("display","table"),w.find("[data-control=sbstest]").closest(".sui-panel__table").css("display","table")),"hover"==n||"click"==n?w.find(".sui-panel__section-sbs-trgels").css("display","block"):(w.find(".sui-panel__section-sbs-trgels").css("display","none"),elem__emptyField(i,"sbstrgels","","updateui")),w.find(".sui-panel__section-sbs-opts").css("display","block"),void 0===(c=elem__getFieldValue(i,"sbsopts"))||""==c?w.find(".sui-panel__section-sbs-prop").css("display","none"):w.find(".sui-panel__section-sbs-prop").css("display","block"),sbs__convertStepsObj(i,n),(!window.tn.flags.isMultiEdit||window.tn.flags.isMultiEdit&&i.hasClass("tn-elem__fake"))&&control__drawUi__steps(m,"sbsopts"),elem__removeBasicAnimation(i)}$(".sbsoptsempty__active").length&&($(".sbsoptsempty__active").removeClass("sbsoptsempty__active"),control__drawUi__updateVisibilityField(["sbsopts"],w,"table","table")),control__drawUi__selectbox(m,"sbsloop",f)}if("inputpos"==o&&(a=["inputmargright","formbottomcb"],control__drawUi__updateVisibilityField(["inputmargbottom","buttonalign","buttonmargtop"],w,"table",(l="h"===n)?"none":"table"),control__drawUi__updateVisibilityField(a,w,"table",l?"table":"none"),l?(elem__emptyField(i,"buttonalign","","",""),elem__emptyField(i,"buttonmargtop","","","")):elem__emptyField(i,"formbottomcb","","","")),"pevent"!=o||"none"!=n||"text"!=(e=i.attr("data-elem-type"))&&"image"!=e&&"shape"!=e&&"button"!=e||""!=elem__getFieldValue(i,"link")&&(tn_alert('Sorry, you can not set this value. The field "LINK" is not empty. Please remove it and try again.'),n="",$(this).val(n)),b.removeClass("sui-form-group_undefined"),tn_set_lastChanges(),h.trigger("focusout"),"form"==(e=i.attr("data-elem-type")))if(window.tn.flags.isMultiEdit)for(var g=0;g<window.tn.multi_edit_elems.length;g++)"form"==(t=$(window.tn.multi_edit_elems[g])).attr("data-elem-type")&&elem__renderForm(t);else elem__renderForm(i)}}"inputpos"==l&&(s+='<option value="v" '+("v"==v?'selected="selected"':"")+'>Vertical</option><option value="h" '+("h"==v?'selected="selected"':"")+">Horizontal</option>","v"==v&&setTimeout(function(){w.find("[data-control-field=inputmargbottom]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=inputmargright]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=buttonalign]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=buttonmargtop]").closest(".sui-panel__table").css("display","table")},500),"h"==v)&&setTimeout(function(){w.find("[data-control-field=inputmargbottom]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=inputmargright]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=buttonalign]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=buttonmargtop]").closest(".sui-panel__table").css("display","none")},500),"inputsstyle"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>Default</option><option value="y" '+("y"==v?'selected="selected"':"")+">Only bottom border</option>"),"inputsstyle2"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>Default</option><option value="y" '+("y"==v?'selected="selected"':"")+">Visible after clicking on input</option>"),"buttonalign"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>Left</option><option value="center" '+("center"==v?'selected="selected"':"")+">Center</option>"),"formbottomcb"==l&&(s+='<option value="" '+(""==v?'selected="selected"':"")+'>None</option><option value="cb" '+("cb"==v?'selected="selected"':"")+'>Show checkbox</option><option value="cbx" '+("cbx"==v?'selected="selected"':"")+">Show checked checkbox</option>"),"slds_speed"==l&&(s+='<option value="none" '+("none"==v?'selected="selected"':"")+'>None</option><option value="slow" '+("slow"==v?'selected="selected"':"")+'>Slow</option><option value="fast" '+("fast"==v?'selected="selected"':"")+">Fast</option>"),"slds_arrowsize"==l&&(s+='<option value="s" '+("s"==v?'selected="selected"':"")+'>Small</option><option value="m" '+("m"==v?'selected="selected"':"")+'>Medium</option><option value="l" '+("l"==v?'selected="selected"':"")+'>Large</option><option value="xl" '+("xl"==v?'selected="selected"':"")+">X-Large</option>"),"slds_dotscontrols"==l&&(s+='<option value="none" '+("none"==v?'selected="selected"':"")+'>None</option><option value="near" '+("near"==v?'selected="selected"':"")+'>Near the picture</option><option value="in" '+("in"==v?'selected="selected"':"")+">In the picture</option>"),"slds_cursorcontrol"==l&&(s+='<option value="none" '+("none"==v?'selected="selected"':"")+'>None</option><option value="on" '+("on"==v?'selected="selected"':"")+">On</option>"),"slds_arrowcontrols"==l&&(s+='<option value="none" '+("none"==v?'selected="selected"':"")+'>None</option><option value="near" '+("near"==v?'selected="selected"':"")+'>Near the picture</option><option value="in" '+("in"==v?'selected="selected"':"")+'>In the picture</option><option value="above" '+("above"==v?'selected="selected"':"")+'>Above the picture</option><option value="under" '+("under"==v?'selected="selected"':"")+">Under the picture</option>","above"==v||"under"==v?(w.find("[data-control-field=slds_arrowhmargin]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowvmargin]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=slds_arrowbetweenmargin]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=slds_arrowalign]").closest(".sui-panel__table").css("display","table")):(w.find("[data-control-field=slds_arrowhmargin]").closest(".sui-panel__table").css("display","table"),w.find("[data-control-field=slds_arrowvmargin]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowbetweenmargin]").closest(".sui-panel__table").css("display","none"),w.find("[data-control-field=slds_arrowalign]").closest(".sui-panel__table").css("display","none"))),"slds_stretch"==l&&(s+='<option value="contain" '+("contain"==v?'selected="selected"':"")+'>Contain</option><option value="cover" '+("cover"==v?'selected="selected"':"")+">Cover</option>"),"slds_loop"==l&&(s+='<option value="none" '+("none"==v?'selected="selected"':"")+'>None</option><option value="loop" '+("loop"==v?'selected="selected"':"")+">Loop</option>"),"slds_captionwidth"==l&&(s+='<option value="50" '+("50"==v?'selected="selected"':"")+'>50%</option><option value="60" '+("60"==v?'selected="selected"':"")+'>60%</option><option value="70" '+("70"==v?'selected="selected"':"")+'>70%</option><option value="80" '+("80"==v?'selected="selected"':"")+'>80%</option><option value="90" '+("90"==v?'selected="selected"':"")+'>90%</option><option value="100" '+("100"==v?'selected="selected"':"")+">100%</option>"),window.tn.flags.isMultiEdit&&i&&!f&&"effectstype"!==l&&(s+='<option style="display: none;" disabled selected>Mixed</option>'),s+="</select></div></td></tr></table>",b.html(s),h=$(".tn-settings [name="+l+"]"),"effectstype"!==l||e||(p=elem__getFieldValue_for_Res(n,"effects",window.tn.curResolution),g=elem__getFieldValue_for_Res(n,"effects",window.tn.topResolution),p&&p!==g)||b.addClass("sui-form-group_undefined"),h.focusin(function(){window.tn.flags.isSettingsFocused=!0,b.removeClass("sui-form-group_undefined")}),h.focusout(function(){window.tn.flags.isSettingsFocused=!1}),h.change(function(){var e,t,i,n,o=$(this).val();if(window.tn.flags.isMultiEdit){tn_undo__Add("elems_selected_save"),S($(".tn-elem__fake"),o,l);for(var s=0;s<window.tn.multi_edit_elems.length;s++)S(e=$(window.tn.multi_edit_elems[s]),o,l)}else tn_undo__Add("elem_save",e=$("#"+m)),S(e,o,l);"autoplay"===l&&(t=window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:$("#"+m),i=$('.tn-settings [data-control-field="mute"]').find(".sui-select"),n=$(".sui-panel-mute-autoplay-message"),"y"===o?(t.each(function(){""===elem__getFieldValue($(this),"mute")&&(S($(this),"y","mute"),panelSettings__updateUi($(this),"mute","y"))}),i.addClass("sui-select__disabled"),i.prop("disabled",!0),n.css("display","")):(i.removeClass("sui-select__disabled"),i.prop("disabled",!1),n.css("display","none")))}),"widthunits"!==l&&"heightunits"!==l||!group__isSelectedOnlyGroups()||(h.css("opacity","0.3"),h.val("px"),h.addClass("sui-input__disabled"),h.prop("disabled",!0)),"container"==l&&$(".sui-containers-togler__container").html(": "+(v||"Mixed")),"axisx"==l&&$(".sui-containers-togler__axisx").html(": "+(v||"Mixed")),"axisy"==l&&$(".sui-containers-togler__axisy").html(": "+(v||"Mixed")),"figure"==l&&("circle"!=v||window.tn.flags.isMultiEdit||w.find("[data-control-field=borderradius]").closest(".sui-panel__table").css("display","none"),"line"!=v||window.tn.flags.isMultiEdit||(w.find(".sui-panel__section-bgimg").css("display","none"),w.find(".sui-panel__section-shadow").css("display","none"),w.find("[data-control-field=borderradius]").closest(".sui-panel__table").css("display","none"))),"buttonstat"===l&&w.find(".sui-form-group__hint_buttonstat").click(function(){tn_copyToClipboard($(this).attr("data-stat-id")),td__showBubbleNotice("Virtual page address is copied",3e3)})}function control__drawUi__upload(h,b){$(document).ready(function(){var n,o,s,l,a,d,r,_,e=$("[data-control-field="+b+"]"),t=e.attr("data-control-value")||"",c=$("#"+h),u=c.attr("data-elem-type"),p=tn_isUploadedImage(c);let i="";"tooltip"!==u&&(i=`<a href="javascript:tn_openImageSearchPopup('${h}','${b}');"
							class="sui-imagesearch-btn pe-imagesearch-btn tooltip"
							data-tooltip="Search the library"><div class="pe-imagesearch-btn__icon"></div></a>`);var g=t.includes(".svg"),m="img"!==b||g?"":'<div class="sui-btn sui-btn_sm sui-file-reset">Original size</div>',g=g?"":'<div class="sui-btn sui-btn_sm sui-file-edit">Edit</div>';let f=p?"":`
				<div class='sui-file-error'>The image is too large, please resize it.</div>
				<div class='sui-file-warning'>The image is being uploaded from Figma's servers. Cliсk "Upload to Tilda" to complete the import.</div>
				<div class='sui-btn sui-file-upload'>Upload to Tilda</div>
			`;e.length&&(e.get(0).innerHTML=`
			<div class="sui-input-upload-div">
				<input type="text" value="${t}" name="${b}" class="sui-input">
				${i}
			</div>
			<table class="sui-file-div ${"img"===b?"sui-file-div-img":""}">
				<tr>
					<td style="vertical-align:top;">
						<label class="sui-label">File</label>
					</td>
					<td style="width:100%; vertical-align:top;">
						<div class="sui-file-label"></div>
						<div style="display:flex;flex-wrap:wrap;align-items:flex-start;">
							<div class="sui-btn sui-btn_sm sui-file-del">Delete</div>
							${m}
							${g}
						</div>
						${f}
					</td>
				</tr>
			</table>`),n=$(".tn-settings [name="+b+"]"),o=e.find(".sui-file-div"),s=e.find(".sui-file-label"),m=e.find(".sui-file-del"),l=e.find(".sui-file-reset"),a=e.find(".sui-file-edit"),d=e.find(".sui-file-upload"),r=e.find(".sui-file-warning"),_=e.find(".sui-file-error"),""!==t&&"/img/imgfishsquare.gif"!=t&&"//tilda.ws/img/imgfishsquare.gif"!=t&&"https://tilda.ws/img/imgfishsquare.gif"!=t?(s.html("..."+t.substr(t.length-15)),o.css("display","block")):(s.html(""),o.css("display","none")),p||(g="y"===elem__getFieldValue(c,"uploaderror"),$(".sui-file-del, .sui-file-reset, .sui-file-edit").css("display","none"),(g?(_.css("display","block"),d.css("display","none"),r):(d.css("display","inline-block"),r.css("display","inline-block"),_)).css("display","none")),n.change(function(){var e=$(this).val(),t=tn_isUploadedImage(e),i=(t&&($(".sui-file-del, .sui-file-reset, .sui-file-edit").css("display","inline-block"),d.css("display","none"),r.css("display","none"),_.css("display","none"),elem__emptyField(c,"amazonsrc"),elem__emptyField(c,"uploaderror"),p||tn_updateOutlineDescription()),$(this).closest(".sui-form-group").attr("data-control-value",e),elem__setFieldValue(c,b,e),elem__renderViewOneField(c,b),elem__getFieldValue(c,"bgposition"));"shape"===u&&"custom"===i&&(t?(elem__setFieldValue(c,"bgposition","custom","render","updateui"),elem__setFieldValue(c,"bgposition_imgpos",elem__getFieldValue(c,"bgposition_imgpos"),"render"),elem__setFieldValue(c,"bgposition_imgsize",elem__getFieldValue(c,"bgposition_imgsize"),"render")):(elem__setFieldValue(c,"bgposition","center center","render","updateui"),elem__setFieldValue(c,"bgposition_imgpos","","render"),elem__setFieldValue(c,"bgposition_imgsize","","render"))),i=elem__getFieldValue(c,"filewidth"),t=elem__getFieldValue(c,"fileheight"),0<i&&0<t?l.css("display","inline-block"):l.css("display","none"),""!=e&&"/img/imgfishsquare.gif"!=e?(s.html("..."+e.substr(e.length-15)+(0<i&&0<t?" ("+i+"x"+t+")":"")),o.css("display","block"),-1===e.indexOf(".svg")?a.css("display","inline-block"):a.css("display","none")):(s.html(""),o.css("display","none")),i=c.attr("data-elem-type"),"bgimg"==b&&"video"==i&&(elem__renderViewOneField(c,"youtubeid"),elem__renderViewOneField(c,"vimeoid"),elem__renderViewOneField(c,"mp4video")),tn_set_lastChanges(),document.querySelector(".tn-layers")&&"image"===u&&layers__update()}),d.click(function(){d.html("Uploading"),tn_uploadImageToTilda(t,function(e){e.error?(elem__setFieldValue(c,"uploaderror","y"),_.css("display","block")):(n.val(e.cdnUrl),1<e.width&&elem__setFieldValue(c,"filewidth",e.width,"","",window.tn.topResolution),1<e.height&&elem__setFieldValue(c,"fileheight",e.height,"","",window.tn.topResolution),n.trigger("change"),elem__emptyField(c,"amazonsrc"),tn_updateOutlineDescription(),tn_figma__checkAmazonImages(),r.css("display","none")),tn_set_lastChanges()})}),m.click(function(){var e=$("#"+h);tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:e),"img"==b?n.val("/img/imgfishsquare.gif"):n.val(""),n.trigger("change")}),l.click(function(){var e=$("#"+h),t=(tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:e),elem__getFieldValue(e,"filewidth"));0<t&&(elem__setFieldValue(e,"width",t,"render","updateui"),"px"!==elem__getFieldValue(e,"widthunits"))&&elem__setFieldValue(e,"widthunits","px","render","updateui"),tn_setOutlinePosition("selected")}),a.click(function(){tn_tui_editimage(h,function(e){n.data("tildaupload").uploadFileFromURL(e),window.tn.flags.isWidgetFocused=!1})}),n.each(function(){var t=$(this),i=t.attr("id"),e=(i||(i="tuwidget"+parseInt(Math.floor(Math.random()*(9e5+1))+99999),t.attr("id",i)),n.closest(".sui-form-group"));e.addClass("sui-form-group_placeholder-upload"),setTimeout(function(){0!==$("#"+i).length&&(TUWidget.init(t).done(function(e){console.log(e.tuInfo),console.log(e.tuInfo.cdnUrl),tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:c),1<e.tuInfo.width?elem__setFieldValue(c,"filewidth",e.tuInfo.width):elem__delFieldValue(c,"filewidth"),1<e.tuInfo.height?elem__setFieldValue(c,"fileheight",e.tuInfo.height):elem__delFieldValue(c,"fileheight"),n.val(e.tuInfo.cdnUrl),n.trigger("change"),c.find("img").one("load",function(){elem__renderViewOneField(c,"top")}).each(function(){this.complete&&$(this).load()}),setTimeout(function(){$("#"+i+"-previews").removeClass("tu-popup-progressbar-completed").removeClass("tu-processing").removeClass("tu-image-preview").removeClass("tu-success").removeClass("tu-complete").addClass("tu-popup-progressbar-start")},3e3),t.removeClass("sui-input_placeholder-color")}),e.removeClass("sui-form-group_placeholder-upload"))},1)})})}function control__drawUi__galleryupload(a){$(document).ready(function(){var e=control__drawUi__galleryupload__checkType();if("mixed"!==e){e=document.querySelector('[data-control-field="imgs"]');const o=window.tn.flags.isMultiEdit?window.tn.multi_edit_elems.get():[document.getElementById(a)];var t=o.map(e=>{e=elem__getFieldValue($(e),"imgs");return e?JSON.parse(e):[]});const s=!window.tn.flags.isMultiEdit&&t[0]&&t[0].length?t[0]:[];var i=t.every(e=>e.some(e=>e.li_youtube||e.li_vimeo)),t=t.every(e=>e.some(e=>e.li_imgtitle));i||(i=document.querySelector(".tn-settings .sui-panel__section-playicon"))&&(i.style.display="none"),t||(i=document.querySelector(".tn-settings .sui-panel__section-font"))&&(i.style.display="none"),control__drawUi__drawGalleryInput(e,s);const l=document.querySelector('[name="imgs"]');if(e&&l){const n=e.querySelector(".sui-file-div");n&&(n.style.display=s?"block":"none"),[...e.querySelectorAll(".sui-file-del")].forEach(e=>{e.addEventListener("click",e=>{tn_undo__Add("elem_save",$(o));const t=e.target.getAttribute("data-img-id");e=s.filter(e=>e.lid.toString()!==t);control__drawUi__dispatchCustomEvent("updateImgField",l,e)})}),l.addEventListener("updateImgField",e=>{e=e.detail.obj?JSON.stringify(e.detail.obj):"";elem__setFieldValue($(o),"imgs",e),elem__renderView($(o)),panelSettings__updateUi($(o),"imgs"),n&&(n.style.display=s?"block":"none"),tn_set_lastChanges()}),[...e.querySelectorAll(".sui-file-settings")].forEach(e=>{e.addEventListener("click",e=>{var e=e.target.closest(".sui-file-list")?.getAttribute("data-img-id")||"",t=document.querySelector(`.tn-gallery-popup[data-img-id="${e}"]`);t&&t.remove(),[...document.querySelectorAll(".tn-gallery-popup")].forEach(e=>e.remove()),tn_slds_showPopup(e,$(o))})}),[...e.querySelectorAll(".sui-file-replace-trigger")].forEach(n=>{control_drawUi__generateUniqueID(n),TUWidget.init($(n)).done(function(t){tn_undo__Add("elem_save",$(o));var e=s||[];const i=n.closest(".sui-file-list")?.getAttribute("data-img-id")||"";e.forEach(e=>{e.lid.toString()===i&&(e.li_img=t.tuInfo.cdnUrl)}),control__drawUi__dispatchCustomEvent("updateImgField",l,e)})}),control_drawUi__generateUniqueID(l),TUWidget.init($(l)).done(function(e){tn_undo__Add("elem_save",$(o));e=e.map(e=>({lid:e.tuInfo.uuid,li_img:e.tuInfo.cdnUrl,li_imgalt:"",li_imgtitle:"",li_imgurl:"",li_imgtarget:!1,li_imgnofollow:!1,li_youtube:"",li_vimeo:""}));let t=s||[];t=t.concat(e),control__drawUi__dispatchCustomEvent("updateImgField",l,t)}),control__drawUi__sortGallery(s,l)}}})}function control__drawUi__galleryupload__checkType(){var e;return window.tn.flags.isMultiEdit?(e=window.tn.multi_edit_elems.get()).reduce(function(e,t){return t.classList.contains("tn-elem__fake")||e===t.getAttribute("data-elem-type")?e:"mixed"},e[0].getAttribute("data-elem-type")):"gallery"}function control__drawUi__drawGalleryInput(e,t){var i;e&&(i=t.map(e=>e&&e.li_img?control__drawUi__drawGalleryPreview(e):"").join(""),t=t.length?JSON.stringify(t):"",e.innerHTML=`
		<div>
			<input data-tu-multiple="yes" type="text" value="${t.replaceAll('"',"'")}" name="imgs" class="sui-input">
		</div>
		<table class="sui-file-div">${i}</table>`)}function control__drawUi__drawGalleryPreview(e){return`
	<tr class="sui-file-list" data-img-id="${e.lid}">
		<td style="vertical-align:top;">
			<label class="sui-label sui-label_imgs-preview">
				<div class="sui-file-replace-trigger sui-image-preview" style="background-image: url(${e.li_img});">
					${e.li_youtube||e.li_vimeo?`
		<svg viewBox="0 0 60 60">
			<g stroke="none" stroke-width="1" fill="" fill-rule="evenodd">
			<g class="tn-elem__gallery__play_icon__color-holder" transform="translate(-691.000000, -3514.000000)" fill="#FFFFFF">
				<path d="M721,3574 C737.568542,3574 751,3560.56854 751,3544 C751,3527.43146 737.568542,3514 721,3514
			C704.431458,3514 691,3527.43146 691,3544 C691,3560.56854 704.431458,3574 721,3574 Z M715,3534
			L732,3544.5 L715,3555 L715,3534 Z"></path>
			</g>
			</g>
		</svg>`:""}
				</div>
			</label>
		</td>
		<td style="vertical-align:top; width: 100%;">
			<a href="${e.li_img}" target="_blank"
			style="padding-right: 15px;" class="sui-file-label-imgs">${e.li_img.slice(-15)}</a>
			<div class="sui-btn sui-file-replace sui-file-replace-trigger" style="margin-left:0; ">Replace</div>
			<div class="sui-btn sui-file-settings" style="margin-left:0; ">Settings</div>
			<div data-img-id="${e.lid}" class="sui-btn sui-file-del sui-file-del_no-border">x</div>
		</td>
	</tr>`}function control__drawUi__dispatchCustomEvent(e,t,i){t&&(e=new CustomEvent(e,{detail:{obj:i}}),t.dispatchEvent(e))}function control_drawUi__generateUniqueID(e){e&&!e.id&&(e.id="tuwidget"+(Math.floor(900001*Math.random())+99999))}function control__drawUi__sortGallery(i,t){const n=document.querySelector(".sui-file-div tbody");n&&i.length&&$(n).sortable({helper:"clone",opacity:.8,revert:!1,tolerance:"pointer",axis:"y",update:function(){let e=[...n.querySelectorAll("tr")].map(e=>e.getAttribute("data-img-id"));e=e.map(t=>i.find(e=>e.lid.toString()===t)),control__drawUi__dispatchCustomEvent("updateImgField",t,e)}})}function tn_slds_showPopup(i,n){var e=$("[data-control-field=imgs]"),e=tn_slds_getCurrentSlide(JSON.parse(e.attr("data-control-value")),i,!0),t=e.currentSlide,e=e.currentIndex+1;let o=!1;$("body").append(`<table class="tn-gallery-popup sui-panel__section" data-img-id="${t.lid}">`+'<tr><td class="tn-gallery-popup__title">'+`<span>Slide #${e}</span><img class="tn-gallery-popup__title__close" src="img/modalClosebutton.png" width="15px">`+"</td></tr></table>");const s=$(".tn-gallery-popup");let l=$(".sui-panel__section-gallery-imgs").position().top+70;l<70&&(l=70),s.css("top",l+"px");function a(){var e={li_imgalt:$(".tn-gallery-popup__input_alt").val(),li_imgtitle:$(".tn-gallery-popup__input_title").val(),li_imgurl:$(".tn-gallery-popup__input_url").val(),li_imgtarget:$(".tn-gallery-popup__checkbox_target").prop("checked"),li_imgnofollow:$(".tn-gallery-popup__checkbox_nofollow").prop("checked"),li_youtube:tn_parseYoutubelink($(".tn-gallery-popup__input_youtube").val()),li_vimeo:tn_parseVimeolink($(".tn-gallery-popup__input_vimeo").val())};return e.li_youtube||(e.li_youtube=""),e.li_vimeo||(e.li_vimeo=""),e}function d(){var e=a(),t=$(".tn-gallery-popup__checkbox_target"),i=$(".tn-gallery-popup__input_youtube"),n=$(".tn-gallery-popup__input_vimeo");s.find(".sui-input-checkbox").removeClass("sui-input-checkbox_disable").find("input").attr("disabled",!1),s.find(".sui-input").removeClass("sui-input_disable").attr("disabled",!1),i.val()||n.val()?(t.parent(".sui-input-checkbox").addClass("sui-input-checkbox_disable").find("input").attr("disabled",!0),$(".tn-gallery-popup__checkbox_nofollow").parent(".sui-input-checkbox").addClass("sui-input-checkbox_disable").find("input").attr("disabled",!0),$(".tn-gallery-popup__input_url").addClass("sui-input_disable").attr("disabled",!0),t.prop("checked",!1),$(".tn-gallery-popup__checkbox_nofollow").prop("checked",!1)):e.li_imgurl&&(i.addClass("sui-input_disable").attr("disabled",!0),n.addClass("sui-input_disable").attr("disabled",!0))}e='<table class="tn-gallery-popup__table"><tr class="tn-gallery-popup__tr"><td class="tn-gallery-popup__td"><input class="sui-input tn-gallery-popup__input tn-gallery-popup__input_title" type="text" value="'+t.li_imgtitle+'" placeholder="Image caption"><input class="sui-input tn-gallery-popup__input tn-gallery-popup__input_alt" type="text" value="'+t.li_imgalt+'" placeholder="Image alt for SEO"><input class="sui-input tn-gallery-popup__input tn-gallery-popup__input_youtube" type="text" value="'+t.li_youtube+'" placeholder="Youtube video link or id"><input class="sui-input tn-gallery-popup__input tn-gallery-popup__input_vimeo" type="text" value="'+t.li_vimeo+'" placeholder="Vimeo video link or id"><input class="sui-input tn-gallery-popup__input tn-gallery-popup__input_url" type="text" value="'+t.li_imgurl+'" placeholder="Link url"><label class="sui-input-checkbox"><input class="tn-gallery-popup__checkbox tn-gallery-popup__checkbox_target" type="checkbox">Open link in new tab</label><label class="sui-input-checkbox"><input class="tn-gallery-popup__checkbox tn-gallery-popup__checkbox_nofollow" type="checkbox">Rel nofollow</label></td></tr><table>',s.append(e),$(".tn-gallery-popup__checkbox_target").prop("checked",t.li_imgtarget),$(".tn-gallery-popup__checkbox_nofollow").prop("checked",t.li_imgnofollow),d(),e=$(".tn-gallery-popup .tn-gallery-popup__table input");function r(){var e=a(),e=tn_slds_updateSlideData(JSON.parse(elem__getFieldValue(n,"imgs")),i,e),t=$.grep(e,e=>e.li_youtube||e.li_vimeo).length,t=($(".tn-settings .sui-panel__section-playicon").css("display",t?"block":"none"),$.grep(e,e=>e.li_imgtitle).length),t=($(".tn-settings .sui-panel__section-font").css("display",t?"block":"none"),JSON.stringify(e));n.find(".tn-atom__slds-imgs-textarea").val(t),elem__setFieldValue(n,"imgs",t),elem__renderView(n),setTimeout(()=>{panelSettings__updateUi(n,"imgs")}),o=!1}e.change(r),e.keyup(d),e.focusin(()=>{window.tn.flags.isSettingsFocused=!0,o=!0}),e.focusout(()=>{window.tn.flags.isSettingsFocused=!1}),s.on("remove",()=>{o&&r()}),$(document).off("mouseup"),$(document).on("mouseup",e=>{$(`.sui-file-list[data-img-id="${i}"] .sui-file-settings`).is(e.target)||s.is(e.target)||0!==s.has(e.target).length||(e.stopPropagation(),s.remove())}),$(".tn-gallery-popup__title__close").click(()=>{s.remove()})}function tn_slds_getCurrentSlide(t,i,e){let n,o;for(let e=0;e<t.length;e++)if(t[e].lid==i){o=e,n=t[e];break}return e?{currentSlide:n,currentIndex:o}:n}function tn_slds_updateSlideData(e,t,i){var n=e;for(let e=0;e<n.length;e+=1)if(n[e].lid==t){n[e]=$.extend({},n[e],i);break}return n}function control__drawUi__updateVideoParams(e,t,i,n){var o=["youtubeid","startsec","endsec"],s=["vimeoid","showinfo","vimeohash"],l=["mp4video","objectfitvideo","mp4controls"];""===e||"y"===e?(o.forEach(function(e){t.find('[data-control-field="'+e+'"]').closest(".sui-panel__table").css("display","table")}),s.concat(l).forEach(function(e){t.find('[data-control-field="'+e+'"]').closest(".sui-panel__table").css("display","none"),n&&elem__emptyField(i,e,"","updateui")})):"v"===e?(s.forEach(function(e){t.find('[data-control-field="'+e+'"]').closest(".sui-panel__table").css("display","table")}),o.concat(l).forEach(function(e){t.find('[data-control-field="'+e+'"]').closest(".sui-panel__table").css("display","none"),n&&elem__emptyField(i,e,"","updateui")})):"html"===e&&(l.forEach(function(e){t.find('[data-control-field="'+e+'"]').closest(".sui-panel__table").css("display","table")}),o.concat(s).forEach(function(e){t.find('[data-control-field="'+e+'"]').closest(".sui-panel__table").css("display","none"),n&&elem__emptyField(i,e,"","updateui")}))}function control__drawUi__radio(o,s){var l=$("[data-control-field="+s+"]"),e=l.attr("data-control-value"),t="";if(void 0===e)return!0;t+='<div class="sui-radio"><div class="sui-radio-div">',"align"==s&&(t+='<table class="sui-control-radio"><tr><td><input type="radio" id="left" name="align" '+("left"==e?'checked="checked"':"")+'><label for="left">Left</label></td><td><input type="radio" id="center" name="align" '+("center"==e?'checked="checked"':"")+'><label for="center">Center</label></td><td><input type="radio" id="right" name="align" '+("right"==e?'checked="checked"':"")+'><label for="right">Right</label></td></tr></table>'),l.html(t+="</div></div>"),l.find(".sui-radio-div").buttonset(),$(".tn-settings [name="+s+"]").change(function(){var e,t=$("#"+o),i=$(this).attr("id");if(tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),$(this).closest(".sui-form-group").attr("data-control-value",i),window.tn.flags.isMultiEdit)for(var n=0;n<window.tn.multi_edit_elems.length;n++)elem__setFieldValue(e=$(window.tn.multi_edit_elems[n]),s,i),elem__renderViewOneField(e,s);else elem__setFieldValue(t,s,i),elem__renderViewOneField(t,s);l.removeClass("sui-form-group_undefined"),tn_set_lastChanges()})}function control__drawUi__lettercase(s,l){var a=$("[data-control-field="+l+"]"),e=a.attr("data-control-value");if(void 0===e)return!0;function t(e,t){var i=$("#"+s);if(tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:i),e.closest(".sui-form-group").attr("data-control-value",t),window.tn.flags.isMultiEdit)for(var n=0;n<window.tn.multi_edit_elems.length;n++){var o=window.tn.multi_edit_elems[n];elem__setFieldValue($(o),l,t),elem__renderViewOneField($(o),l)}else elem__setFieldValue(i,l,t),elem__renderViewOneField(i,l);a.removeClass("sui-form-group_undefined"),tn_set_lastChanges(),tn_setOutlinePosition("selected")}a.html('<table class="sui-control-lettercase" style="width:100%;"><tr><td><label class="sui-label">Letter case</label></td><td style="width:100%;"><div class="sui-btn-lettercase sui-btn-lettercase-reset"><svg width="8" height="2" viewBox="0 0 8 2" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 1H0" stroke="#000"/></svg></div><div class="sui-btn-lettercase sui-radio-lettercase"><input type="radio" id="uppercase" class="ui-helper-hidden-accessible" name="lettercase" '+("uppercase"===e?'checked="checked"':"")+'><label for="uppercase">AG</label></div><div class="sui-btn-lettercase sui-radio-lettercase"><input type="radio" id="capitalize" class="ui-helper-hidden-accessible" name="lettercase" '+("capitalize"===e?'checked="checked"':"")+'><label for="capitalize">Ag</label></div><div class="sui-btn-lettercase sui-radio-lettercase"><input type="radio" id="lowercase" class="ui-helper-hidden-accessible" name="lettercase" '+("lowercase"===e?'checked="checked"':"")+'><label for="lowercase">ag</label></div></td></tr></table>');var i=$(".sui-btn-lettercase-reset");(""!==e?$("#"+e).parent():i).addClass("sui-btn-lettercase_active"),i.on("click",function(){var e=$(this);t(e,""),$(".sui-btn-lettercase").removeClass("sui-btn-lettercase_active"),e.addClass("sui-btn-lettercase_active")}),$(".tn-settings [name="+l+"]").on("click change",function(){var e=$(this);t(e,e.attr("id")),$(".sui-btn-lettercase").removeClass("sui-btn-lettercase_active"),e.parent().addClass("sui-btn-lettercase_active")})}function control__drawui__gridReset(){var e=$(".tn-settings").find('[data-control="gridreset"]');e.html('<table><tr><td><label class="sui-label">Reset</label></td><td style="width:100%;white-space:nowrap;"><div class="sui-btn sui-btn_sm sui-btn-reset">Reset grid settings to default</div></td></tr></table>'),e.find(".sui-btn-reset").click(function(){confirm("Are you sure? Grid settings will be removed for all screens.")&&(grid__reset(),localStorage.removeItem("tzerogridlock"),$(".sui-layer__lock__icon").removeClass("sui-layer__lock__icon_locked"),grid__render(),ab__openZBSettings(),tn_set_lastChanges())})}function control__drawUi__actions(e){var t=$("#"+e),e=$(".tn-settings").find("[data-control=actions]"),i=group__isSelectedOnlyGroups()||1<$(".tn-elem__selected").length&&0===$(".tn-group__selected").length,n="";n+='<table><tr><td><label class="sui-label">Actions</label></td><td style="width:100%;white-space:nowrap;"><div class="sui-btn sui-btn_sm sui-btn-dupl">Copy</div><div class="sui-btn sui-btn_sm sui-btn-del">Delete</div><div class="sui-btn sui-btn_sm sui-btn-lock" style="margin-right:0;">Lock</div></td></tr>',i&&(n+='<tr><td style="width: 85px"></td><td style="white-space:nowrap;"><div class="sui-btn sui-btn_sm sui-btn-group">'+(group__isSelectedOnlyGroups()?"Ungroup":"Group")+"</div></td></tr>"),e.html(n+="</table>"),e.find(".sui-btn-del").click(function(){tn_elem__delete(group__isSelectedOnlyGroups()?null:t)}),e.find(".sui-btn-dupl").click(function(){tn_elem__copy(group__isSelectedOnlyGroups()?null:t)}),e.find(".sui-btn-lock").click(function(){group__isSelectedOnlyGroups()?$(".tn-group__selected").each(function(){group__lock($(this).attr("id"))}):tn_elem__lock()}),i&&e.find(".sui-btn-group").click(function(){(group__isSelectedOnlyGroups()?(group__unmake(),panelSettings__openTimeout):group__create)()}),"y"==elem__getFieldValue(t,"lock")?e.find(".sui-btn-lock").html("Unlock"):e.find(".sui-btn-lock").html("Lock")}function control__drawUi__animtest(e){var t=$(".tn-settings").find("[data-control=animtest]");t.html('<table><tr><td><label class="sui-label">Test</label></td><td style="width:100%;"><div class="sui-btn sui-btn_sm sui-btn-anim-test-el">Play Element</div><div class="sui-btn sui-btn_sm sui-btn-anim-test-all">Play All</div></td></tr></table>'),t.find(".sui-btn-anim-test-el").click(function(){tn_anim__playElem($(".tn-elem__selected"))}),t.find(".sui-btn-anim-test-all").click(function(){tn_anim__playAll()})}function control__drawUi__alignelems(){var e=$(".tn-settings").find("[data-control=alignelem]");e.html('<table class="sui-form-group-align__table"><tr><td><label class="sui-label" style="width:200px;">Align elements</label></td></tr></table><table class="sui-table-align" style="width:100%;"><tr><td><div class="sui-btn-ico sui-btn-ico_elems sui-btn-arr-left" style="padding-left:0px;"></div><div class="sui-btn-ico sui-btn-ico_elems sui-btn-arr-center"></div><div class="sui-btn-ico sui-btn-ico_elems sui-btn-arr-right"></div></td><td><div class="sui-btn-ico sui-btn-ico_elems sui-btn-arr-top"></div><div class="sui-btn-ico sui-btn-ico_elems sui-btn-arr-middle"></div><div class="sui-btn-ico sui-btn-ico_elems sui-btn-arr-bottom"></div></td><td style="text-align:right;"><div class="sui-btn-ico sui-btn-ico_elems sui-btn-context-distribution"><svg class="sui-btn-ico-square" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M5.5.5h-5v5h5v-5zM5.5 8.5h-5v5h5v-5zM13.5.5h-5v5h5v-5zM13.5 8.5h-5v5h5v-5z" stroke="#B6B6B6"/></svg><svg class="sui-btn-ico-arrow" width="8" height="5" viewBox="0 0 8 5" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1l3 3 3-3" stroke="#000"/></svg></div></td></tr></table><table class="sui-table-align-eachother"><tr><td style="width:100%;"><div class="sui-radio-div sui-radio-div-eachother"><input type="radio" name="align_via" value="eachother" checked><span class="sui-radio-label" data-radio-name="align_via" data-radio-val="eachother">to each other</span></div><div class="sui-radio-div sui-radio-div-grid"><input type="radio" name="align_via" value="grid"><span class="sui-radio-label" data-radio-name="align_via" data-radio-val="grid">to grid container</span></div><div class="sui-radio-div sui-radio-div-window"><input type="radio" name="align_via" value="window"><span class="sui-radio-label" data-radio-name="align_via" data-radio-val="window">to window</span></div></td></tr></table>'),e.find(".sui-btn-arr-left").click(function(){tn_undo__Add("elems_selected_move"),elems__selected__alignLeft("left",e.find("[name=align_via]:checked").val()),tn_set_lastChanges(),tn_multiEdit__updateUi()}),e.find(".sui-btn-arr-center").click(function(){tn_undo__Add("elems_selected_move"),elems__selected__alignLeft("center",e.find("[name=align_via]:checked").val()),tn_set_lastChanges(),tn_multiEdit__updateUi()}),e.find(".sui-btn-arr-right").click(function(){tn_undo__Add("elems_selected_move"),elems__selected__alignLeft("right",e.find("[name=align_via]:checked").val()),tn_set_lastChanges(),tn_multiEdit__updateUi()}),e.find(".sui-btn-arr-top").click(function(){tn_undo__Add("elems_selected_move"),elems__selected__alignTop("top",e.find("[name=align_via]:checked").val()),tn_set_lastChanges(),tn_multiEdit__updateUi()}),e.find(".sui-btn-arr-middle").click(function(){tn_undo__Add("elems_selected_move"),elems__selected__alignTop("middle",e.find("[name=align_via]:checked").val()),tn_set_lastChanges(),tn_multiEdit__updateUi()}),e.find(".sui-btn-arr-bottom").click(function(){tn_undo__Add("elems_selected_move"),elems__selected__alignTop("bottom",e.find("[name=align_via]:checked").val()),tn_set_lastChanges(),tn_multiEdit__updateUi()}),$(".sui-radio-label").click(function(){var e=$(this).attr("data-radio-name"),t=$(this).attr("data-radio-val");$("[name="+e+"][value="+t+"]").trigger("click")}),$(".tn-elem__selected").each(function(){("window"==elem__getFieldValue($(this),"container")?$(".sui-radio-div-grid"):$(".sui-radio-div-window")).css("display","none")})}function control__drawUi__alignelem(e,t){var i=$("#"+e),e=$(".tn-settings").find("[data-control=alignelem]");e.html('<table><tr><td style="width:50%;"><div class="sui-btn-ico sui-btn-alig-left" style="padding-left:0px;"></div><div class="sui-btn-ico sui-btn-alig-center"></div><div class="sui-btn-ico sui-btn-alig-right"></div></td><td style="width:70px;"></td><td style="width:50%;"><div class="sui-btn-ico sui-btn-alig-top"></div><div class="sui-btn-ico sui-btn-alig-middle"></div><div class="sui-btn-ico sui-btn-alig-bottom"></div></td></tr></table>'),e.find(".sui-btn-alig-left").click(function(){tn_undo__Add("elems_selected_move"),t?group__aligntoCanvas("left",group__getFieldValue(i,"container")):elem__aligntoCanvas("left",elem__getFieldValue(i,"container")),tn_set_lastChanges()}),e.find(".sui-btn-alig-center").click(function(){tn_undo__Add("elems_selected_move"),t?group__aligntoCanvas("center",group__getFieldValue(i,"container")):elem__aligntoCanvas("center",elem__getFieldValue(i,"container")),tn_set_lastChanges()}),e.find(".sui-btn-alig-right").click(function(){tn_undo__Add("elems_selected_move"),t?group__aligntoCanvas("right",group__getFieldValue(i,"container")):elem__aligntoCanvas("right",elem__getFieldValue(i,"container")),tn_set_lastChanges()}),e.find(".sui-btn-alig-top").click(function(){tn_undo__Add("elems_selected_move"),t?group__aligntoCanvas("top",group__getFieldValue(i,"container")):elem__aligntoCanvas("top",elem__getFieldValue(i,"container")),tn_set_lastChanges()}),e.find(".sui-btn-alig-middle").click(function(){tn_undo__Add("elems_selected_move"),t?group__aligntoCanvas("middle",group__getFieldValue(i,"container")):elem__aligntoCanvas("middle",elem__getFieldValue(i,"container")),tn_set_lastChanges()}),e.find(".sui-btn-alig-bottom").click(function(){tn_undo__Add("elems_selected_move"),t?group__aligntoCanvas("bottom",group__getFieldValue(i,"container")):elem__aligntoCanvas("bottom",elem__getFieldValue(i,"container")),tn_set_lastChanges()})}function control__drawUi__code(e){var t=$(".tn-settings"),i=t.find("[data-control=code]");t.find('sui-form-group[data-control-field="code"]').css("display","none"),i.html('<table><tr><td style="width:100%;"><div class="sui-btn sui-btn-rp sui-btn-code">Edit Code</div><div style="opacity:0.5; font-size:14px; padding-top:15px;">The code will be rendered on a published page</div></td></tr></table>'),i.find(".sui-btn-code").click(function(){tn_html__openEditor(e)})}function control__drawUi__vector(e){var t=$(".tn-settings").find('[data-control="vectorjson"]');t.html('<table><tr><td style="width:100%;"><div class="sui-btn sui-btn-rp sui-btn-vector-edit">Edit Vector</div></td></tr></table>'),t.find(".sui-btn-vector-edit").click(function(){tn_vector__openEditor(e)})}function control__drawUi__inputs(e){var t,i,n,o=$(".tn-settings").find("[data-control=inputs]"),s="";if(s+='<table><tr><td style="width:100%;"><div class="sui-btn sui-btn-rp sui-btn-inputs" style="min-width:145px;">Input fields</div>',""!=(t=$("#"+e).find(".tn-atom__inputs-textarea").val())&&void 0!==t){for(var l in s+='<div style="opacity:0.5; font-size:14px; padding-top:15px;">Inputs: ',i=JSON.parse(t))n="","em"==(l=i[l].li_type)&&(n="Email"),"ph"==l&&(n="Phone"),"nm"==l&&(n="Name"),"in"==l&&(n="Input"),"ta"==l&&(n="Textarea"),"sb"==l&&(n="Selectbox"),"cb"==l&&(n="Checkbox"),"fl"==l&&(n="File"),"hd"==l&&(n="Hidden"),"rd"==l&&(n="Radio"),"dl"==l&&(n="Delivery"),"da"==l&&(n="Date"),"tm"==l&&(n="Time"),"ur"==l&&(n="Url"),"qn"==l&&(n="Quantity"),"uc"==l&&(n="File"),"uw"==l&&(n="File"),"rg"==l&&(n="Range"),"fr"==l&&(n="Formula"),s+=(n="ri"==l?"Radioimage":n)+", ";s=s.slice(0,-2),s+="</div>"}o.html(s+='<div style="opacity:0.5; font-size:14px; padding-top:5px;">Add fields that visitors will fill in to submit data through the form</div></td></tr></table>'),o.find(".sui-btn-inputs").click(function(){window.tn.flags.isFormEditorLoading||(window.tn.flags.isFormEditorLoading=!0,tn_form__preOpenEditor(e))})}function control__drawUi__receivers(e){var t=$("#"+e),i=$(".tn-settings").find("[data-control=receivers]"),t=elem__getFieldValue(t,"receivers_names"),n='<table><tr><td style="width:100%;"><div class="sui-btn sui-btn-rp sui-btn-receivers" style="min-width:145px;">Services</div>';i.html(n=n+(void 0!==t&&""!=t?'<div style="opacity:0.5; font-size:14px; padding-top:15px;">Connected: '+t+"</div>":'<div style="opacity:0.5; font-size:14px; padding-top:15px;">Services not connected</div>')+'<div style="opacity:0.5; font-size:14px; padding-top:5px;">Connect one or several data capture services integrated with Tilda to collect form submissions</div></td></tr></table>'),i.find(".sui-btn-receivers").click(function(){tn_receivers__openEditor(e)}),setTimeout(function(){var e='<div class="sui-panel__table sui-panel__form-virtual-page">You can set up form submission as a goal in the analytics system for virtual page view: /tilda/form'+window.tn.artboard_id+'/submitted/ FB pixel: "Lead" event</div>';$(".sui-panel__section-formbuttonstyle").append(e),$(".sui-panel__form-virtual-page").click(function(){tn_copyToClipboard("/tilda/form"+window.tn.artboard_id+"/submitted/"),td__showBubbleNotice("Virtual page address is copied",3e3)})},1500)}function control__drawUi__animmobile(e){var t=$("#"+e),e=$(".tn-settings").find("[data-control=animmobile]"),i=elem__getFieldValue(t,"animmobile"),n='<table><tr><td style="width:100%;"><label class="sui-label" style="width:100%; padding-bottom:15px;">Mobile animation</label>';e.html(n=n+("y"===i?'<div class="sui-btn sui-btn-rp sui-btn-animmobile-turnoff">Switch off</div><div style="opacity:0.5; font-size:14px; padding-top:25px; padding-bottom:5px;" class="sui-hint__mobile-anim">The button disables animation on mobile devices.</div>':'<div class="sui-btn sui-btn-rp sui-btn-animmobile-turnon">Switch on</div><div style="opacity:0.5; font-size:14px; padding-top:25px; padding-bottom:5px;" class="sui-hint__mobile-anim">We do not recommend using animations on mobile. Some devices may perform poorly. Also, a poorly designed animation can adversely affect user experience.</div>')+"</td></tr></table>"),e.find(".sui-btn-animmobile-turnon").click(function(){elem__setFieldValue(t,"animmobile","y","","updateui",window.tn.topResolution),window.tn.flags.isMultiEdit&&$(".tn-elem__selected").attr("data-field-animmobile-value","y")}),e.find(".sui-btn-animmobile-turnoff").click(function(){elem__emptyField(t,"animmobile","","updateui",window.tn.topResolution),window.tn.flags.isMultiEdit&&$(".tn-elem__selected").attr("data-field-animmobile-value","")})}function control__drawui__gridopenbtn(){var e=$(".tn-settings [data-control=grid]");e.html('<table style="width:100%;"><tbody><tr><td style="width:100%;"><div class="sui-header-wrapper"><label class="sui-label" style="width:100%; padding-bottom:15px;">Zero Block settings</label><div class="sui-copypaste-wrapper"><div class="sui-paste-btn sui-paste-btn-sbs tooltip tooltipstered" data-tooltip="Paste animation from clipboard"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 19.5H4.5v-14H8M17.5 7V5.5H13" stroke="#9F9F9F"></path><rect x="8.5" y="4.5" width="5" height="2" rx=".5" stroke="#9F9F9F"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M20 19h-8v-9h5v3h3v6zm1-6v7H11V9h7l3 3v1z" fill="#9F9F9F"></path></svg></div></div></div><div class="sui-btn sui-btn-rp sui-btn-grid-open">Open</div></td></tr></tbody></table>'),e.find(".sui-btn-grid-open").click(function(){ab__openZBSettings()})}function control__drawUi__sbsopenbtn(i){var n=window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:$("#"+i),e=$(".tn-settings"),t=e.find("[data-control=sbsopenbtn]"),o=elem__getFieldValue(n,"sbsevent"),s=(window.tn.flags.isMultiEdit&&(o=(s=n.get()).reduce(function(e,t,i){return e=0!==i&&e!==(t=elem__getFieldValue($(t),"sbsevent"))?"Mixed":e},elem__getFieldValue($(s[0]),"sbsevent"))),+window.tn.curResolution!==window.tn.topResolution?' style="display:none;"':""),l="",s=(void 0!==o&&""!=o&&e.find(".sui-panel__section-anim").css("display","none"),l+='<table style="width:100%;"><tr><td style="width:100%;"><div class="sui-header-wrapper"><label class="sui-label" style="width:100%; padding-bottom:15px;">Step-by-step animation</label><div class="sui-copypaste-wrapper"'+s+">",void 0===o||""===o||"Mixed"===o||window.tn.flags.isMultiEdit||(l+='<div class="sui-copy-btn sui-copy-btn-sbs tooltip" data-tooltip="Copy animation to clipboard"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 12.5h-9m0 0l3-3m-3 3l3 3M17.5 10V5.5H14m3.5 9.5v4.5h-13v-14H8" stroke="#9F9F9F"/><rect x="8.5" y="4.5" width="5" height="2" rx=".5" stroke="#9F9F9F"/></svg></div>'),null!==localStorage.getItem("tzerosbsanimation")&&(l+='<div class="sui-paste-btn sui-paste-btn-sbs tooltip" data-tooltip="Paste animation from clipboard"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 19.5H4.5v-14H8M17.5 7V5.5H13" stroke="#9F9F9F"/><rect x="8.5" y="4.5" width="5" height="2" rx=".5" stroke="#9F9F9F"/><path fill-rule="evenodd" clip-rule="evenodd" d="M20 19h-8v-9h5v3h3v6zm1-6v7H11V9h7l3 3v1z" fill="#9F9F9F"/></svg></div>'),l+="</div></div>",!1);(s="Mixed"===o?window.tn.multi_edit_elems.get().some(e=>!elem__getFieldValue($(e),"sbsevent")):s)?l+='<p class="sui-form-group__hint">Step-by-Step animation is not set up for some of the selected elements. Please add the same animation settings for each element to enter group editing.</p>':window.tn.flags.isMultiEdit&&group__isSelectedOnlyGroups()&&20<window.tn.multi_edit_elems.length?l+='<p class="sui-form-group__hint">Too much selected items in the group to edit step-by-step animation.</p>':void 0!==o&&""!=o?(l+='<div class="sui-btn sui-btn-sbs-edit" style="padding:6px 30px; background-color:#000; color:#fff; font-weight:500;">Edit</div>',window.tn.curResolution==window.tn.topResolution&&(l+='<div class="sui-btn sui-btn-sbs-remove" style="padding:6px 15px; font-weight:400;">Remove</div>'),l+='<div style="opacity:0.5; font-size:14px; padding-top:15px;">Selected event: <span style="font-weight:500;">'+("intoview"==o?"element on Screen":"blockintoview"==o?"block on Screen":"scroll"==o?"on Scroll":"hover"==o?"on Hover":"click"==o?"on Click":o)+"</span></div>",window.tn.curResolution==window.tn.topResolution&&(l+='<div style="opacity:0.8; font-size:14px; padding-top:25px; padding-bottom:5px;" class="sui-hint__removesbs">Remove the Step-By-Step animation <br /> to add the Basic one.</div>')):l+='<div class="sui-btn sui-btn-rp sui-btn-sbs-open">Add</div><div style="opacity:0.5; font-size:14px; padding-top:15px;">Doesn’t work with Basic animation. Basic animation settings will be removed.</div>',t.html(l+="</td></tr></table>"),t.find(".sui-btn-sbs-open").click(function(){panelSBS__open(i)}),t.find(".sui-btn-sbs-edit").click(function(){panelSBS__open(i)}),t.find(".sui-btn-sbs-remove").click(function(){confirm("Are you sure?")&&(e.find(".sui-hint__removesbs").remove(),elem__removeSBSAnimation(window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:n),e.find(".sui-panel__section-anim").css("display","block"),panelSettings__openTimeout(window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:{data:{elem_id:i}},window.tn.flags.isMultiEdit),control__drawUi__sbsopenbtn(i),tn_set_lastChanges())}),sbs__getStepsObj(n,!1).length<=1&&t.find(".sui-copy-btn-sbs").css("display","none"),t.find(".sui-copy-btn-sbs").on("click",function(){sbs__copy__sbsAnimation(i)}),t.find(".sui-paste-btn-sbs").on("click",function(){var e;if(window.tn.flags.isMultiEdit)for(var t=0;t<window.tn.multi_edit_elems.length;t++)elem__removeBasicAnimation(e=$(window.tn.multi_edit_elems[t])),sbs__paste__sbsAnimationAttr(e.attr("data-elem-id"));else elem__removeBasicAnimation(n),sbs__paste__sbsAnimationAttr(i);control__drawUi__sbsopenbtn(i)})}function control__drawUi__sbstest(){var e,t=document.querySelector(".tn-settings")?.querySelector('[data-control="sbstest"]');t&&(t.innerHTML=`
		<table>
			<tr>
				<td>
					<label class="sui-label">Test</label>
				</td>
				<td style="width:100%;">
					<div class="sui-btn sui-btn_sm sui-btn-sbs-test-el">Play Element</div>
					<div class="sui-btn sui-btn_sm sui-btn-sbs-test-all">Play All</div>
				</td>
			</tr>
		</table>
	`,e=t.querySelector(".sui-btn-sbs-test-el"),t=t.querySelector(".sui-btn-sbs-test-all"),e.addEventListener("click",sbs__playElem),t.addEventListener("click",sbs__playAll))}function control__drawUi__shapeBgPosition__drawIcon(e){const t=elem__getFieldValue(e,"widthunits"),i=elem__getFieldValue(e,"heightunits");e="%"===t||"%"===i?'<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 21 21" fill="none"><circle cx="10.5" cy="10.5" r="2" stroke="currentColor"/><path stroke="currentColor" d="M5.75 1H1v4.75M5.75 20H1v-4.75m19-9.5V1h-4.75M20 15.25V20h-4.75"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 22 22" fill="none"><path stroke="currentColor" d="M6 1H1v5m5 15H1v-5M21 6V1h-5m5 15v5h-5M8 10.5h7M11.5 7v7"/></svg>';document.querySelector(".bg-position-btn-edit").innerHTML=e}function control__drawUi__shapeBgPosition(e){const o=document.querySelector(`[data-elem-id="${e}"]`),s=$(o),t=document.querySelector('[data-control-field="bgposition"]');if(t){const n=t.getAttribute("data-control-value");var e=e=>n===e?'selected="selected"':"",i=!!elem__getFieldValue($(o),"bgimg"),e=`
    <table class="sui-control-shape-bg-position" style="width:100%;">
      <tr>
        <td><label class="sui-label">Position</label></td>
        <td style="width: 100%">
          <div class="sui-select">
            <select class="sui-input sui-select" name="bgposition">
              <option
								value="custom"
								style="${i&&"custom"===n?"":"display: none"}"
								${e("custom")}
							>Custom ${bgposition__getCustomFieldHintText("elem",s)}</option>
              <option value="left top" ${e("left top")}>Left Top</option>
              <option value="center top" ${e("center top")}>Center Top</option>
              <option value="right top" ${e("right top")}>Right Top</option>
              <option value="left center" ${e("left center")}>Left Center</option>
              <option value="center center" ${e("center center")}>Center Center</option>
              <option value="right center" ${e("right center")}>Right Center</option>
              <option value="left bottom" ${e("left bottom")}>Left Bottom</option>
              <option value="center bottom" ${e("center bottom")}>Center Bottom</option>
              <option value="right bottom" ${e("right bottom")}>Right Bottom</option>
            </select>
          </div>
        </td>
        <td>
          <div
            style="margin-left: 16px; ${i?"":"display: none;"}"
            class="sui-btn sui-btn_sm sui-btn_singular bg-position-btn-edit js-shape-bg-position-edit"
          ></div>
        </td>
      </tr>
    </table>
  `;t.innerHTML=e,control__drawUi__shapeBgPosition__drawIcon(s);const l=document.querySelector(".tn-settings [name=bgposition]");document.querySelector(".tn-settings .js-shape-bg-position-edit").addEventListener("click",()=>{const e=elem__getFieldValue(s,"widthunits"),t=elem__getFieldValue(s,"heightunits");var i="%"===e||"%"===t;tn_undo__Add("elem_save",s);const n=o.querySelector(".tn-atom");bgposition__crop__init({element:n,type:i?"position":"crop",getId:()=>o.getAttribute("data-elem-id"),getFieldValue:e=>elem__getFieldValue_for_Res(s,e,window.tn.curResolution),setFieldValue:(e,t,i,n)=>elem__setFieldValue(s,e,t,i,n),delFieldValue:e=>elem__delFieldValue(s,e),showElement:()=>{n.style.visibility=""},hideElement:()=>{n.style.visibility="hidden"}}),tn_hideOutline("selected"),tn_hideOutline("hover")}),l.addEventListener("focusin",()=>window.tn.flags.isSettingsFocused=!0),l.addEventListener("focusout",()=>window.tn.flags.isSettingsFocused=!1),l.addEventListener("change",()=>{var e=l.value;tn_undo__Add("elem_save",$(o)),t.setAttribute("data-control-value",e),"custom"!==e&&(elem__delFieldValue($(o),"bgposition_imgpos","","render"),elem__delFieldValue($(o),"bgposition_imgsize","","render")),elem__setFieldValue($(o),"bgposition",e,"render","updateui"),tn_set_lastChanges(),l.dispatchEvent(new FocusEvent("focusout"))})}}function tn_multiEdit__updateUi(){var n,o,e;window.tn.flags.isMultiEdit&&(o=n=null,$(".tn-group__selected").length?$(".tn-artboard > .tn-elem__selected, .tn-group__selected").each(function(){var e=$(this),t=e.hasClass("tn-group"),i=(t?group__getFieldValue:elem__getFieldValue)(e,"left"),t=(t?group__getFieldValue:elem__getFieldValue)(e,"top");n=null!==n&&n!==i?"Mixed":i,o=null!==o&&o!==t?"Mixed":t}):(e=panelSettings__getCommonAttrs($(".tn-elem__selected").get()).commonAttrs,n=null===e.left?"Mixed":e.left,o=null===e.top?"Mixed":e.top),panelSettings__updateUi($(".tn-elem__fake"),"left",n),panelSettings__updateUi($(".tn-elem__fake"),"top",o))}var td__bubbleNoticeTimeout;function td__showBubbleNotice(e,t){void 0===t&&(t=6e3);var i,n,o=1,s=$(".cornernotice"),s=(0<s.length&&(o=s.length+1),$(".t-help-bubble").css("display","none"),'<div class="td__cornernotice" data-tilda-corner-notice="'+o+'" style="position: fixed;z-index:3001;background-color:#111;width:350px;bottom:50px;right:-350px;border: 1px solid #ccc;border-radius:10px;"><div class="td__cornernotice__close" style="position:absolute;right:10px;top:3px;color:#fff;cursor: pointer;">&times;</div><div class="td__cornernotice__text" style="color:#fff;font-family:\'tfutura\',Arial,sans-serif;font-size:16px;padding:20px 30px;">'+e+"</div><style>.td__cornernotice__text a{color:#ff855d;text-decoration: underline;}</style></div>"),e=($("body").append(s),$('.td__cornernotice[data-tilda-corner-notice="'+o+'"]')),l=e.get(0);l&&(void 0===l.bubbleNoticeTimeout&&(l.bubbleNoticeTimeout=0),1<o&&(0<(s=$('.td__cornernotice[data-tilda-corner-notice="'+(o-1)+'"]')).length&&(i=s.css("bottom"),n=s.css("height"),i=parseInt(i),n=parseInt(n)),o<5?e.css("bottom",i+n+5+"px"):e.css("bottom",i+25+"px")),e.animate({opacity:"100",right:"20px"},400,"easeInCirc",function(){clearTimeout(l.bubbleNoticeTimeout),l.bubbleNoticeTimeout=setTimeout(function(){td__closeBubbleNotice(o)},t)}),e.click(function(){td__closeBubbleNotice($(this).parent().attr("data-tilda-corner-notice")),clearTimeout(l.bubbleNoticeTimeout)}))}function td__closeBubbleNotice(e){e=void 0!==e&&0<e?$('.td__cornernotice[data-tilda-corner-notice="'+e+'"]'):$(".td__cornernotice");e.length&&e.animate({opacity:"0",right:"0px"},300,"easeOutCirc",function(){$(this).remove(),$(".t-help-bubble").css("display","block")})}function control__drawUi__updateVisibilityField(e,i,n,o){e.forEach(function(e){let t="data-control";e.includes("test")||(t+="-field"),i.find(`[${t}="${e}"]`).closest(".sui-panel__"+n).css("display",o)})}function control__drawUi__getSbsAnimType(e,t,i){let n={value:""};return e?window.tn.multi_edit_elems.get().forEach(function(e){e=elem__getFieldValue($(e),"sbsevent");control__drawUi__updateAnimSbsType(t,e,n)}):control__drawUi__updateAnimSbsType(t,i,n),n.value}function control__drawUi__updateAnimSbsType(t,i,n){Object.keys(t).forEach(function(e){t[e].includes(i)&&"mixed"!==n.value&&(n.value||(n.value=e),n.value)&&n.value!==e&&(n.value="mixed")})}function control__drawUi__getSBSAnimParams(){return{animSBSTypesObj:{view:["intoview","blockintoview"],scroll:["scroll"],hoverclick:["hover","click"],mixed:[]},animTypeNaming:{intoview:"element on Screen",blockintoview:"block on Screen",scroll:"on Scroll",hover:"on Hover",click:"on Click"}}}function control__drawUi__setAnimSelectOptions(i,e,n){let o=`<option value="" ${""===i?'selected="selected"':""}>None</option>`;return e.forEach(e=>{var t=i===e?'selected="selected"':"";o+=`<option value="${e}" ${t}>${n[e]}</option>`}),o}function control__drawUi__getMixedState(t){if(window.tn.curResolution===window.tn.topResolution)return null===window.tn.flags.isMultiEdit_common_attrs[t];var e=window.tn.screens.indexOf(window.tn.curResolution),i=window.tn.screens.slice(e);let n=!1;for(let e=0;e<i.length;e++){var o=e<i.length-1?t+"-res-"+i[e]:t,o=window.tn.flags.isMultiEdit_common_attrs[o];if(null===o&&(n=!0),o||null===o)break}return n}function control__drawUi__getMultiplyAnimOpts(){if(!window.tn.flags.isMultiEdit)return!1;const e=["fadeinup","fadeindown","fadeinleft","fadeinright"];return $(".tn-elem__selected").get().every(function(t){return e.some(function(e){return elem__getFieldValue($(t),"animstyle")===e})})}function easings__drawModal(e){var{width:e,height:t}=e,e=`
        <div class="tn-easings-box">
			<div class="tn-easings-header">
				<span>Select easing type</span>
				<div class="tn-easings-select-wrapper">
					<div class="sui-select">
						<select class="sui-input sui-select js-easings-select__type">
						</select>
					</div>
				</div>
			</div>
            <div class="tn-easings-canvas-wrapper">
                <canvas class="tn-easings-canvas" width="${e}" height="${t}"></canvas>
				<div class="tn-easings-button__zoom ${window.tn.easings.isZoomed?"tn-easings-button__zoom-zoomed":""}"></div>
            </div>
			<div class="tn-easings-css-wrapper">
				<div class="sui-input-div">
					<input type="text" value="" name="easing" class="sui-input" autocomplete="off">
				</div>
				<div class="sui-copypaste-wrapper tn-easings-copypaste">
					<div class="sui-copy-btn sui-copy-btn-basic tooltip" data-tooltip="Copy to clipboard">
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 12.5h-9m0 0l3-3m-3 3l3 3M17.5 10V5.5H14m3.5 9.5v4.5h-13v-14H8" stroke="#9F9F9F"/><rect x="8.5" y="4.5" width="5" height="2" rx=".5" stroke="#9F9F9F"/></svg>
					</div>
				</div>
			</div>
			<div class="tn-easings-preview-wrapper">
                <canvas class="tn-easings-canvas__preivew" width="350" height="50"></canvas>
            </div>
        </div>
    `;let i=document.createElement("div");return i.innerHTML=e,i=i.firstElementChild,document.body.insertAdjacentElement("beforeend",i),i}function easings__init(e){let t=document.querySelector(".tn-easings-box");t?easings__toggleModal(t):t=easings__drawModal(window.tn.easings);const i=e=>{t.contains(e.target)||(easings__hideModal(t),document.removeEventListener("mousedown",i))};document.addEventListener("mousedown",i),t.querySelector(".tn-easings-button__zoom").addEventListener("click",easings__toggleZoom);const n=t.querySelector(".tn-easings-preview-wrapper");n.addEventListener("click",()=>{n.classList.contains("tn-easings-animation")||easings__previewPlay()});var o=t.querySelector('input[name="easing"]');(window.tn.easings.inputEasing=o).addEventListener("focusin",()=>{window.tn.flags.isSettingsFocused=!0}),o.addEventListener("focusout",()=>{window.tn.flags.isSettingsFocused=!1}),o.addEventListener("change",easings__onInputChange),window.addEventListener("resize",()=>easings__hideModal(t)),document.addEventListener("init:resolution-changed",()=>easings__hideModal(t));var o=document.querySelector(".tn-easings-canvas").getContext("2d"),s=easings__normalizeEasingFn(e);window.tn.easings.object=easings__parseEasingFnStr(s),window.tn.easings.context=o,window.tn.easings.theme=localStorage.getItem("tzerothemecolor")||"light",window.tn.easings.gridCanvas||(s=document.createElement("canvas"),window.tn.easings.gridCanvas=s),easings__populateObjectList(),easings__initTypeSelect(e),easings__initCopyPasteButtons(),easings__updateZoomFromEasing(),easings__update(),easings__handleEvents()}function easings__initCopyPasteButtons(){var e=document.querySelector(".tn-easings-copypaste .sui-copy-btn");const t=$(e);e&&(t.tooltipster({theme:"tn-tooltip__tooltipster-noir",contentAsHTML:!0,content:t.attr("data-tooltip"),interactive:!0,position:"bottom",updateAnimation:!1}),e.addEventListener("click",()=>{tn_copyToClipboard(easings__createEasingFnStr(window.tn.easings.object)),t.tooltipster("content","Copied");var e=600+parseInt(t.tooltipster("option","delay"),10);setTimeout(()=>t.tooltipster("hide"),500),setTimeout(()=>{t.tooltipster("content",t.attr("data-tooltip"))},e)}))}function easings__populateTypeSelect(e){let i="";Object.entries(window.tn.easings.listHuman).forEach(([e,t])=>{i+=`<optgroup label="${e}">`,Object.entries(t).forEach(([e,t])=>{i+=`<option value="${e}">${t}</option>`}),i+="</optgroup>"}),e.insertAdjacentHTML("beforeend",i)}function easings__initTypeSelect(e){var t=document.querySelector(".js-easings-select__type");t&&(easings__populateTypeSelect(t),t.addEventListener("change",easings__onTypeSelect),t.value=e)}function easings__populateObjectList(){window.tn.easings.objectList||(window.tn.easings.objectList={},Object.entries(window.tn.easings.list).forEach(([e,t])=>{window.tn.easings.objectList[e]=easings__parseEasingFnStr(t)}))}function easings__update(){easings__updateTypeSelect(),easings__previewPlay(),easings__dispatchEvent(),easings__draw()}function easings__previewPlay(){const e=document.querySelector(".tn-easings-canvas__preivew"),o=e.getContext("2d");var t=e.width;const s=t-100,l=(t-s)/2,a=e.height/2;t=window.tn.easings.object;const d=20,r=easings__bezier.apply(this,t.params);e.parentElement.classList.add("tn-easings-animation"),easings__animate(t=>{o.clearRect(0,0,o.canvas.width,o.canvas.height);for(let e=0;e<Math.ceil(t*d);e++){const i=r(e/d),n=l+s*i;o.beginPath(),o.arc(n,a,15,0,2*Math.PI),o.fillStyle="rgba(0, 93, 212, 0.15)",o.fill()}const i=r(t),n=l+s*i;o.beginPath(),o.arc(n,a,15,0,2*Math.PI),o.fillStyle="#005DD4",o.fill()},1e3,()=>{e.parentElement.classList.remove("tn-easings-animation")}),easings__dispatchEvent();const i=sbs__getElemList();sbs__stopElem(i),setTimeout(()=>{i.length&&sbs__playElemStep(i)},0)}function easings__updateTypeSelect(e){var t=easings__getEasingByValue(e=e||window.tn.easings.object),i=document.querySelector(".js-easings-select__type");if(null!=t)return i.value=t;easings__createOrSetCustomOption(i,easings__createEasingFnStr(e),"js-easings-option-custom")}function tn_easing_updateEasingFromString(e){e=easings__parseEasingFnStr(easings__normalizeEasingFn(e,!1));window.tn.easings.object=e,easings__updateZoomFromEasing(),easings__update()}function easings__updateZoomFromEasing(e){var t=(e=e||window.tn.easings.object).params[1],e=e.params[3];if(1.2<t||t<-.2||1.2<e||e<-.2)return easings__setZoom(!0);easings__setZoom(!1)}function easings__setZoom(e){var t,i,n;e!==window.tn.easings.isZoomed&&(t=document.querySelector(".tn-easings-button__zoom"),{widths:i,heights:n}=window.tn.easings,e?(window.tn.easings.curveRect=window.tn.easings.zoomRects[1],easings__setSize(i[1],n[1]),t.classList.add("tn-easings-button__zoom-active")):(window.tn.easings.curveRect=window.tn.easings.zoomRects[0],easings__setSize(i[0],n[0]),t.classList.remove("tn-easings-button__zoom-active")),window.tn.easings.isZoomed=e,easings__draw())}function easings__dispatchEvent(){var e=new CustomEvent("easingchange",{detail:{css:easings__createEasingFnStr(window.tn.easings.object),easing:window.tn.easings.object}});document.dispatchEvent(e)}function easings__onTypeSelect(e){tn_easing_updateEasingFromString(e.target.value.trim())}function easings__onInputChange(e){var t=e.target.value.trim();if(!easings__isEasingFnValid(t)&&""!==t)return e.target.value=easings__createEasingFnStr(window.tn.easings.object),e.target.blur(),td__showBubbleNotice("Easing function string is not valid!");tn_easing_updateEasingFromString(t)}function easings__getEasingByValue(e){const[o,s,l,a]=e.params;return o===s&&l===a?"":(e=Object.entries(window.tn.easings.objectList).find(([,e])=>{var[e,t,i,n]=e.params;return o===e&&s===t&&l===i&&a===n}))&&e[0]}function easings__toggleZoom(){easings__setZoom(!window.tn.easings.isZoomed)}function easings__handleEvents(){const s=window.tn.easings.context.canvas;let l=s.getBoundingClientRect(),a=easings__getBezierControlCoords(),d=!1,r;const _=easings__debounce(easings__update,300),n=t=>{if(d&&r){var i=window.tn.easings.curveRect;let e=easings__getCanvasCoords(l,t);var{x:t,y:n}=e=t.shiftKey?easings__snapToGrid(e,i,window.tn.easings.gridSize):e,t=easings__clampValue(t,i.x,i.x+i.width),n=easings__clampValue(n,0,s.height),o=a[r],t=(o.x=t,o.y=n,window.tn.easings.object);easings__setEasing(a,i,t),easings__draw(),a=easings__getBezierControlCoords(),_()}},o=()=>{d=!1,r=null,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o)};s.addEventListener("mousedown",e=>{const{x:t,y:i}=easings__getCanvasCoords(l=s.getBoundingClientRect(),e);a=easings__getBezierControlCoords(),r=Object.keys(a).find(e=>easings__isPointInCircle({x:t,y:i},a[e],10)),d=!0,document.addEventListener("mousemove",n),document.addEventListener("mouseup",o)})}function easings__draw(){var e=window.tn.easings.context,t=window.tn.easings.curveRect,i=window.tn.easings.object,n=e.canvas.width,o=e.canvas.height;e.clearRect(0,0,n,o),easings__drawGrid(e,t),easings__drawAxis(e,t),"cubic-bezier"==i.keyword&&easings__drawCurve(e,t,i),window.tn.easings.inputEasing.value=easings__createEasingFnStr(i)}function easings__getGridPattern(e,t,i=10){var n=window.tn.easings.gridCanvas,t=t.width/i,i=(n.width=t,n.height=t,n.getContext("2d")),t=(i.rect(0,0,t,t),i.setLineDash([1,2]),i.strokeStyle=easings__getColor("gridStroke"),i.stroke(),e.createPattern(n,"repeat"));return t}function easings__drawGrid(e,t){t=easings__getGridPattern(e,t,window.tn.easings.gridSize);e.fillStyle=t,e.fillRect(0,0,e.canvas.width,e.canvas.height)}function easings__drawCurve(e,t){var i=easings__getBezierControlCoords();easings__drawBezierControlsLines(e,i,t),easings__drawCubicBezier(e,t,i),easings__drawBezierPoints(e,t),easings__drawBezierControls(e,i,t)}function easings__drawAxis(e,t){var{x:t,y:i,width:n,height:o}=t,n=t+n,o=i+o;e.strokeStyle=easings__getColor("controlLineStroke"),e.lineWidth=1,e.fillStyle=easings__getColor("controlLineStroke"),easings__drawArrow(e,{x:t,y:o},{x:n,y:o},7),easings__drawArrow(e,{x:t,y:o},{x:t,y:i},7),e.font="16px tfutura, arial",e.fillText("time",n-30,o+14),e.translate(t-8,i+64),e.rotate(-Math.PI/2),e.fillText("progress",0,0),e.rotate(Math.PI/2),e.translate(8-t,-i-64)}function easings__drawCubicBezier(e,t,i){var{x:t,y:n,width:o,height:s}=t,{p1:i,p2:l}=i;e.beginPath(),e.strokeStyle=easings__getColor("bezierStroke"),e.lineWidth=4,e.moveTo(t,n+s),e.bezierCurveTo(i.x,i.y,l.x,l.y,t+o,n),e.stroke()}function easings__drawBezierControlsLines(e,t,i){var{p1:t,p2:n}=t,{x:i,y:o,width:s,height:l}=i;e.strokeStyle=easings__getColor("controlLineStroke"),e.lineWidth=2,easings__drawLine(e,{x:i,y:o+l},t),easings__drawLine(e,{x:i+s,y:o},n)}function easings__drawBezierControls(e,t){var{p1:t,p2:i}=t;e.strokeStyle=easings__getColor("controlStroke"),e.lineWidth=4,e.fillStyle=easings__getColor("controlFill"),easings__drawPoint(e,i,5),easings__drawPoint(e,t,5)}function easings__drawBezierPoints(e,t){var{x:t,y:i,width:n,height:o}=t;e.fillStyle=easings__getColor("pointFill"),easings__drawPoint(e,{x:t,y:i+o},3),easings__drawPoint(e,{x:t+n,y:i},3)}function easings__drawArrow(e,t,i,n){var o=i.x-t.x,s=i.y-t.y,s=Math.atan2(s,o),o=Math.PI/6,t=(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.stroke(),new Path2D);t.moveTo(i.x-n*Math.cos(s-o),i.y-n*Math.sin(s-o)),t.lineTo(i.x,i.y),t.lineTo(i.x-n*Math.cos(s+o),i.y-n*Math.sin(s+o)),t.closePath(),e.fill(t)}function easings__drawLine(e,t,i){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.stroke()}function easings__drawPoint(e,t,i){var{x:t,y:n}=t;e.beginPath(),e.arc(t,n,i,0,2*Math.PI),e.stroke(),e.fill()}function easings__animate(t,i,n){let o,s,l=0;const a=e=>{if(o=o||e,(s=e-o)>=i)return t(1),"function"==typeof n&&n(),cancelAnimationFrame(l);l=requestAnimationFrame(a),t(s/i)};a()}function easings__showModal(e){e.style.display="block"}function easings__hideModal(e){e.remove()}function easings__toggleModal(e){("none"===e.style.display?easings__showModal:easings__hideModal)(e)}function easings__setSize(e,t){window.tn.easings.width=e,window.tn.easings.height=t,window.tn.easings.context.canvas.width=e,window.tn.easings.context.canvas.height=t}function easings__getColor(e){var t=window.tn.easings.theme;return window.tn.easings.colors[t][e]}function easings__getCanvasCoords(e,t){var i=t.clientX-e.left,t=t.clientY-e.top;return{x:easings__mapRange(i,0,e.width,0,window.tn.easings.width),y:easings__mapRange(t,0,e.height,0,window.tn.easings.height)}}function easings__isPointInCircle(e,t,i){var n=e.x-t.x,e=e.y-t.y;return n*n+e*e<i*i}function easings__mapRange(e,t,i,n,o,s=!1){e=n+(o-n)*(e-t)/(i-t);return s?easings__clampValue(e,n,o):e}function easings__clampValue(e,t,i){return Math.min(Math.max(t,e),i)}function easings__setEasing(e,t,i){var{x:t,y:n,width:o,height:s}=t,l=[],o=t+o,s=n+s;l.push(parseFloat(easings__mapRange(e.p1.x,t,o,0,1,!0).toFixed(2))),l.push(parseFloat(easings__mapRange(e.p1.y,s,n,0,1).toFixed(2))),l.push(parseFloat(easings__mapRange(e.p2.x,t,o,0,1,!0).toFixed(2))),l.push(parseFloat(easings__mapRange(e.p2.y,s,n,0,1).toFixed(2))),i.params=l}function easings__snapToGrid(e,t,i=10){t=t.width/i;return sx=Math.round(e.x/t)*t,sy=Math.round(e.y/t)*t,{x:sx,y:sy}}function easings__getBezierControlCoords(){var{x:e,y:t,width:i,height:n}=window.tn.easings.curveRect,o=window.tn.easings.object["params"],i=e+i,n=t+n;return{p1:{x:easings__mapRange(o[0],0,1,e,i),y:easings__mapRange(o[1],0,1,n,t)},p2:{x:easings__mapRange(o[2],0,1,e,i),y:easings__mapRange(o[3],0,1,n,t)}}}function easings__normalizeEasingFn(e,t=!0){var i=window.tn.easings.list[e];return i||(!t||easings__isEasingFnValid(e)?e:window.tn.easings.list[""])}function easings__isEasingFnValid(e){return/^cubic-bezier\((?:-?[0-9.]+,+\s*){3}(?:-?[0-9.]+\s*)\)/gs.test(e)}function easings__parseEasingFnStr(e){var e=e.split("("),t=e[0],e=e[1].replace(")").split(",").map(e=>parseFloat(e));return e[0]=easings__clampValue(e[0],0,1),e[2]=easings__clampValue(e[2],0,1),{keyword:t,params:e}}function easings__createEasingFnStr(e){return e.keyword+"("+e.params.join(", ")+")"}function easings__cubicInterpolation(e,t,i){return 3*Math.pow(1-e,2)*e*t+3*(1-e)*e*e*i+e*e*e}function easings__getSlope(e,t,i){return 3*(1-3*i+3*t)*e*e+2*(3*i-6*t)*e+3*t}function easings__interpolateBezier(e,t){var[t,i,n,o]=t.params;return{x:easings__cubicInterpolation(e,t,n),y:easings__cubicInterpolation(e,i,o)}}function easings__newtonIterate(t,i,n,o){for(let e=0;e<.001;e++){var s=easings__getSlope(i,n,o);if(0===s)return i;i-=(easings__cubicInterpolation(i,n,o)-t)/s}return i}function easings__binarySubdivide(e,t,i,n,o){var s;let l=0,a=0;for(;0<(s=easings__cubicInterpolation(l=t+(i-t)/2,n,o)-e)?i=l:t=l,1e-7<Math.abs(s)&&a++<10;);return l}function easings__bezier(l,i,a,n){const d=new Array(11);for(let e=0;e<11;e++)d[e]=easings__cubicInterpolation(.1*e,l,a);return function(e){return 0===e||1===e?e:easings__cubicInterpolation(function(e){let i=0,n=1;for(;10!==n&&d[n]<=e;n++)i+=.1;n--;var o=(e-d[n])/d[n+1]-d[n],o=i+.1*o,s=easings__getSlope(t,l,a);return.001<=s?easings__newtonIterate(e,o,l,a):0===s?o:easings__binarySubdivide(e,i,i+.1,l,a)}(e),i,n)}}function easings__debounce(t,i,n){let o;return(...e)=>{clearTimeout(o),o=setTimeout(()=>t.apply(n||this,e),i)}}function easings__createOrSetCustomOption(e,t,i){let n=e.querySelector("."+i);return n?(n.value=t,n.innerHTML="Custom"):((n=document.createElement("option")).classList.add(i),n.value=t,n.innerHTML="Custom",e.insertAdjacentElement("beforeend",n)),e.value=t,n}function panelSBS__open(e){tn_console("func: panelSBS__open");var t,i=$("#"+e),n=$(".tn-right-box"),o="",s=(window.tn.flags.isSbsPanelOpen=!0,window.tn.flags.isSbsStepMode=!1,document.body.classList.add("sbs-panel-open-mode"),tn__getElem(i)),s=(window.tn.flags.isMultiEdit||elem__renderView(s),sbs__resetPlayKeyframesAll(),n.removeClass("tn-right-box_hide"),n.html('<div class="tn-right-box__header"><span class="tn-right-box__caption">Step-by-Step animation</span><img src="img/modalClosebutton.png" class="tn-right-box__icon" width="15px"></div>'),$(".tn-right-box__header").click(function(){tn_console("click: Minify panel"),tn_toggleSettings(!0)}),n.append('<div class="tn-settings" data-for-elem-id="'+e+'"></div>'),t=$(".tn-settings"),e=i.attr("data-elem-id"),o+='<div class="sui-panel__section sui-panel__section-sbs-event"><div class="sui-btn sui-btn-close">Back to main settings</div><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="sbsevent" data-control-value=""></div></td></tr></table>',window.tn.curResolution==window.tn.topResolution&&(o+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="sbstrg" data-control-value=""></div></td></tr></table>'),o+='<table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="sbstrgofst" data-control-value=""></div></td></tr></table>',`
	<table class="sui-panel__table sui-panel__padd_b-10" style="padding-top: 10px;display: ${group__isSelectedOnlyGroups()?"block":"none"}">
		<tr class="sui-panel__tr">
		<td class="sui-panel__td">
		<p class="sui-form-group__hint">Notice: for elements in group animation will be played separately for each element.</p>
		</td>
		</tr>
	</table>
	`),o=(o=o+`
		<table class="sui-panel__table sui-panel__padd_b-10">
			<tr class="sui-panel__tr">
				<td class="sui-panel__td">
					<div class="sui-form-group" data-control-field="sbsloop" data-control-value=""></div>
				</td>
			</tr>
		</table>
		<table class="sui-panel__table sui-panel__padd_b-10">
			<tr class="sui-panel__tr">
				<td class="sui-panel__td">
					<div class="sui-form-group" data-control="sbstest" data-control-value=""></div>
				</td>
			</tr>
		</table>
		${s}
	`+"</div>")+`
		<div class="sui-panel__section sui-panel__section-sbs-trgels">
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control-field="sbstrgels" data-control-value=""></div>
					</td>
				</tr>
			</table>
		</div>
		<div class="sui-panel__section sui-panel__section-sbs-opts">
			<table class="sui-panel__table sui-panel__padd_b-10">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<div class="sui-form-group" data-control-field="sbsopts" data-control-value=""></div>
					</td>
				</tr>
			</table>
			<table class="sui-panel__table">
				<tr class="sui-panel__tr">
					<td class="sui-panel__td">
						<p class="sui-form-group__hint sbsoptsempty">Selected elements have different animation steps.
						 You can only view and edit animation for elements with the same steps.</p>
					</td>
				</tr>
			</table>
		</div>
	`+'<div class="sui-panel__section sui-panel__section-sbs-prop" style="position:relative;"><label class="sui-label" style="width:100%; padding-left:3px; padding-bottom:15px;">Properties for: step <span class="sui-sbs-label-step-index" style="font-weight:500;"></span></label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="ti" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="di" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="mx" data-control-value=""></div></td><td class="sui-panel__td sui-panel__2col-space"></td><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="my" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="sx" data-control-value=""></div></td><td class="sui-panel__td sui-panel__2col-space"></td><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="sy" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="op" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="ro" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10" style="display:none;"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="bl" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="fi" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="ea" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="dt" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-sbs-prop-field="dd" data-control-value=""></div></td></tr></table></div>';parseInt(window.tn.curResolution,10)===window.tn.topResolution&&(o+=""+sbs__copypaste__draw(e)),t.append(o),panelSBS__addControls(e,!1),tn_tooltip_update(),control__drawUi__sbstest(),t.find(".sui-btn-close").click(function(){panelSBS__close(i)}),t.find(".sui-btn-sbs-copy").click(function(){sbs__copy__sbsAnimation($(this).parents(".tn-settings").attr("data-for-elem-id")),t.find(".sui-btn-sbs-paste").hasClass("sui-btn_disabled")&&t.find(".sui-btn-sbs-paste").removeClass("sui-btn_disabled"),td__showBubbleNotice("Animation is copied",3e3)}),t.find(".sui-btn-sbs-paste").click(function(){elem__removeBasicAnimation(i),sbs__paste__sbsAnimation(),sbs__paste__sbsAnimationAttr(e),td__showBubbleNotice("Animation is pasted",3e3)}),n.animate({scrollTop:0},100),tn_console_runtime("func: panelSBS__open")}function panelSBS__addControls(o,s){var l=$(".tn-settings"),a=window.tn.curResolution,d=$("#"+o);d.attr("data-fields").split(",").forEach(function(e){var t=$(".tn-settings");if("sbsevent"!=e&&"sbstrg"!=e&&"sbstrgofst"!=e&&"sbsloop"!=e&&"sbsopts"!=e&&"sbstrgels"!=e)return!0;var i,n=s?JSON.parse(localStorage.getItem("tzerosbsanimation"))[e]:elem__getFieldValue(d,e);0==(i=l.find("[data-control-field="+e+"]")).length&&(l.find(".sui-panel__section-other").append('<div class="sui-form-group" data-control-field="'+e+'" data-control-value="'+n+'"></div>'),i=l.find("[data-control-field="+e+"]")),i.attr("data-control-value",n),"sbsevent"===e||"sbstrg"===e||"sbsloop"===e?control__drawUi__selectbox(o,e,s):"sbstrgofst"===e?control__drawUi__slider(o,e,s):"sbsopts"===e?!n&&window.tn.flags.isMultiEdit?(control__drawUi__updateVisibilityField([e],t,"table","none"),$(".sbsoptsempty").addClass("sbsoptsempty__active")):(control__drawUi__steps(o,e,s),control__drawUi__updateVisibilityField([e],t,"table","table"),$(".sbsoptsempty").removeClass("sbsoptsempty__active")):"sbstrgels"===e?control__drawUi__trgels(o,e,s):control__drawUi__input(o,e),a!==window.tn.topResolution&&($('[data-control-field="sbsevent"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="sbsloop"]').closest(".sui-panel__table").css("display","none"),void 0===elem__getFieldValue_for_Res(d,e,a))&&i.addClass("sui-form-group_undefined"),s&&d.attr("data-field-"+e+"-value",n)})}function panelSBS__close(e,t){tn_console("func: panelSBS__close"),window.tn.flags.isSbsPanelOpen=!1,window.tn.flags.isSettingsFocused=!1,document.body.classList.remove("sbs-panel-open-mode"),sbs__removeSBSWrapper(),$(".tn-right-box").html(""),floor__mousedown(),sbs__resetPlayKeyframesAll(),tn_setOutlineZoomWidth("sx",0),tn_setOutlineZoomWidth("sy",0),tn_updateOutlineZoomWidth(),sbs__allelems__exitonStepMode(),!t&&e&&e.length&&e.trigger("click")}function sbs__removeSBSWrapper(e=[]){(e=e.length?e:sbs__getElementsWithWrappers()).forEach(e=>{e.querySelector(".tn-atom__sbs-anim-wrapper")&&(e.classList.remove("t-sbs-anim_started","t-sbs-anim_playing","tn-elem__selected__noborder","noclick"),sbs__updateAnimatedElWrapper(e,"unwrap"))})}function sbs__copy__sbsAnimation(e){var i=$("#"+e),n={},o=["sbsopts","sbstrgels","sbstrgofst"];["sbsevent","sbstrg","sbstrgofst","sbsloop","sbsopts","sbstrgels","animmobile"].forEach(function(t){n[t]=elem__getFieldValue(i,t)||"",o.includes(t)&&window.tn.screens.forEach(function(e){"sbsopts"!==t&&!elem__getFieldValue_for_Res(i,t,e)||(n[t+"-res-"+e]=elem__getFieldValue_for_Res(i,t,e)||"")})}),localStorage.setItem("tzerosbsanimation",JSON.stringify(n))}function sbs__paste__sbsAnimation(){var e=[];$(".tn-elem__selected").each(function(){e.push($(this).data("elem-id"))}),e.forEach(function(e){panelSBS__addControls(e,!0)})}function sbs__paste__sbsAnimationAttr(e){var t,i=$("#"+e),n=JSON.parse(localStorage.getItem("tzerosbsanimation"));for(t in n)i.attr("data-field-"+t+"-value",n[t]),-1!==t.indexOf("sbsopts-res")&&""===n[t]&&i.removeAttr("data-field-"+t+"-value");window.tn.flags.isMultiEdit&&panelSettings__openTimeout(window.tn.multi_edit_elems,!0)}function panelSBS__updateUi(e,t,i){tn_console("func: panelSBS__updateUi"),"sbsopts"==t&&(control__drawUi__steps(e.attr("data-elem-id"),"sbsopts",!1),void 0!==i)&&0<=i&&$(".sui-sbs-steps-div").find(".sui-sbs-step__"+i).trigger("click")}function sbs__allelems__exitonStepMode(){tn_console("func: sbs__allelems__exitonStepMode"),sbs__resetPlayKeyframesAll(),$(".tn-elem__sbsmode").each(function(){sbs__elem__exitonStepMode($(this))})}function sbs__elem__exitonStepMode(e){window.tn.flags.isMultiEdit?!e.hasClass("tn-elem__fake")&&"y"!==window.tn.flags.isSbsStepMode||window.tn.multi_edit_elems.get().forEach(e=>{e.classList.remove("tn-elem__sbsmode"),e.removeAttribute("data-sbs-step-i"),elem__renderView(e)}):(e.removeClass("tn-elem__sbsmode"),e.removeAttr("data-sbs-step-i"),elem__renderView(tn__getElem(e))),window.tn.flags.isSbsStepMode=!1,setTimeout(function(){var e=$(".tn-elem__selected"),t=e.hasClass("tn-elem__locked");!e.length||window.tn.flags.isElemDragging||t||(tn_setOutlinePosition("selected"),tn_showOutline("selected"))})}function control__drawUi__steps(e,t,i){var n,o=$("#"+e),s=$("[data-control-field="+t+"]"),e=$(".sui-panel__section-sbs-copypaste"),l=$(".sui-btn-sbs-copy"),a=s.attr("data-control-value"),d="",i=(s.html(d+='<label class="sui-label">Steps</label><table><tr><div class="sui-input-div"><textarea rows="10" name="'+t+'" class="sui-input" style="display:none;height:50px;font-size:11px;border:1px solid #ccc;margin-bottom:20px;">'+a+'</textarea></div><div class="sui-sbs-steps-div" style="margin-bottom:10px;margin-top:10px;"></div><div class="sui-sbs-steps-add"><div class="sui-btn sui-btn-sbs-step-add">+ Add step</div></div>'),(n=$(".tn-settings [name="+t+"]")).focusin(function(){window.tn.flags.isSettingsFocused=!0,s.removeClass("sui-form-group_undefined")}),n.focusout(function(){window.tn.flags.isSettingsFocused=!1}),n.keydown(function(e){tn_console(e.which),window.tn.flags.isSettingsFocused=!0}),n.change(function(){var e;tn_console("panelsettings onchange input"),tn_undo__Add("elem_sbs",o),e=n.val(),n.closest(".sui-form-group").attr("data-control-value",e),elem__setFieldValue(o,t,e),s.removeClass("sui-form-group_undefined"),tn_set_lastChanges()}),s.find(".sui-btn-sbs-step-add").click(function(e){sbs__step__add(o,s),e.stopPropagation()}),sbs__stepsbox__draw(o,s,i),s.find(".sui-sbs-steps-div").find(".sui-sbs-step").first().trigger("click"),0==(a=sbs__getStepsObj(o,i)).length&&void 0!==(d=elem__getFieldValue(o,"sbsevent"))&&""!=d&&sbs__step__add(o,s,"start","noundo"),window.tn.flags.isMultiEdit&&["sbsevent","sbsloop","sbsopts","sbstrg","sbstrgels","sbstrgofst"].some(e=>control__drawUi__getMixedState(e)));null===JSON.parse(localStorage.getItem("tzerosbsanimation"))?a.length<=1?e.css("display","none"):(e.css("display","block"),$(".sui-btn-sbs-paste").addClass("sui-btn_disabled"),window.tn.flags.isMultiEdit&&i||l.removeClass("sui-btn_disabled")):a.length<=1?l.addClass("sui-btn_disabled"):window.tn.flags.isMultiEdit&&i||l.removeClass("sui-btn_disabled")}function sbs__getStepsObj(e,t){t=t?JSON.parse(localStorage.getItem("tzerosbsanimation")).sbsopts:elem__getFieldValue(e,"sbsopts");return t?JSON.parse(t.replaceAll("'",'"')):[]}function sbs__setStepsObj(e,t){var i=JSON.stringify(t);elem__setFieldValue(e,"sbsopts",i="[]"==(i=i.replaceAll('"',"'"))?"":i,"","updateui"),window.tn.flags.isMultiEdit&&window.tn.multi_edit_elems.get().forEach(e=>{elem__setFieldValue($(e),"sbsopts",i,"","updateui")})}function sbs__convertStepsObj(e,t){for(var i=sbs__getStepsObj(e,!1),n=0,o=i.length;n<o;n++)"scroll"==t?(void 0===i[n].di&&void 0!==i[n].ti&&0<=i[n].ti&&(i[n].di=i[n].ti,delete i[n].ti),void 0!==i[n].ea&&delete i[n].ea,void 0!==i[n].dt&&delete i[n].dt):(void 0===i[n].ti&&void 0!==i[n].di&&0<=i[n].di&&(i[n].ti=i[n].di,delete i[n].di),void 0!==i[n].fi&&delete i[n].fi,void 0!==i[n].dd&&delete i[n].dd);sbs__setStepsObj(e,i)}function sbs__stepsbox__draw(n,o,e){var e=sbs__getStepsObj(n,e),i='<table class="sui-sbs-steps-table"><tbody style="overflow:auto;">';e.forEach(function(e,t){i+='<tr class="sui-sbs-step sui-sbs-step__'+t+'" data-sbs-step-i="'+t+'"><td class="sui-sbs-step-td-name">'+(0==t?"Start":"Step "+t)+'</td><td class="sui-sbs-step-td-time"><span style="opacity:0.3;" class="sui-sbs-step-time">',void 0!==e.ti&&0<=e.ti?i+=e.ti/1e3+"s":void 0!==e.di&&0<=e.di&&(i+=e.di+"px"),i=(i+="</span></td>")+(0==t?'<td class="sui-sbs-step-td-del"></td>':'<td class="sui-sbs-step-td-del sui-sbs-step-del">x</td>')+"</tr>"}),i+="</tbody></table>",o.find(".sui-sbs-steps-div").html(i),o.find(".sui-sbs-step").click(function(e){var t,i=$(this);$(".sui-sbs-step").removeClass("sui-sbs-step_active"),i.addClass("sui-sbs-step_active"),0<(t=i.attr("data-sbs-step-i"))?(window.tn.flags.isMultiEdit?window.tn.multi_edit_elems.get().forEach(e=>{e.classList.add("tn-elem__sbsmode"),e.setAttribute("data-sbs-step-i",t),$(e).resizable("disable")}):(n.addClass("tn-elem__sbsmode"),n.resizable("disable"),n.attr("data-sbs-step-i",t)),window.tn.flags.isSbsStepMode=!0,tn_hideOutline("selected")):(window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:n).each(function(){var e=$(this);sbs__elem__exitonStepMode(e),e.attr("data-sbs-step-i",t)}),sbs__step__drawprops(n,o,t),i=sbs__step__getObj(n,t),sbs__step__render(n,i,t),e.stopPropagation()}),o.find(".sui-sbs-step-del").click(function(e){var t=$(this).parent().attr("data-sbs-step-i");sbs__step__del(n,o,t),e.stopPropagation()}),o.find(".sui-sbs-steps-div tbody").sortable({helper:sbs__step__fixWidthHelper,opacity:.8,revert:!1,tolerance:"pointer",axis:"y",items:"tr:not(.sui-sbs-step__0)",start:function(e,t){t.placeholder.height(t.helper.outerHeight())},update:function(){sbs__step__reSort(n,o)}})}function sbs__step__fixWidthHelper(e,t){return t.children().each(function(){$(this).width($(this).width())}),t}function sbs__step__reSort(e,t){var i,n,o=$(".sui-sbs-steps-div .sui-sbs-step_active"),s=[],l=0,a="";o.length&&(i=o.attr("data-sbs-step-i")),n=sbs__getStepsObj(e,!1),$(".sui-sbs-steps-div .sui-sbs-step").each(function(){var e=$(this).attr("data-sbs-step-i");s.push(n[e]),void 0!==i&&i==e&&(a=l),l++}),sbs__setStepsObj(e,s),sbs__stepsbox__draw(e,t,!1),""!=a&&t.find(".sui-sbs-steps-div .sui-sbs-step[data-sbs-step-i="+a+"]").trigger("click")}function sbs__step__add(e,t,i,n){tn_console("func: sbs__step__add");var o,s,l=$(".sui-panel__section-sbs-copypaste");"noundo"!=n&&tn_undo__Add("elem_sbs",e),s=0===(o=(n=sbs__getStepsObj(e,!1)).length)?"scroll"==elem__getFieldValue(e,"sbsevent")?{di:"0",mx:"0",my:"0",sx:"1",sy:"1",op:"1",ro:"0",bl:"0",fi:"",dd:"0"}:{ti:"0",mx:"0",my:"0",sx:"1",sy:"1",op:"1",ro:"0",bl:"0",ea:"",dt:"0"}:1===o?"scroll"==elem__getFieldValue(e,"sbsevent")?{di:"100",mx:"0",my:"0",sx:"1",sy:"1",op:"1",ro:"0",bl:"0",fi:"",dd:"0"}:{ti:"1000",mx:"0",my:"0",sx:"1",sy:"1",op:"1",ro:"0",bl:"0",ea:"",dt:"0"}:n[o-1],n.push(s),sbs__setStepsObj(e,n),sbs__stepsbox__draw(e,t,!1),t.find(".sui-sbs-steps-div .sui-sbs-step").last().trigger("click"),0<o&&"none"===l.css("display")&&l.css("display","block"),0<o&&$(".sui-btn-sbs-copy").removeClass("sui-btn_disabled")}function sbs__step__del(e,t,i){tn_console("func: sbs__step__del"),tn_undo__Add("elem_sbs",e);var n=sbs__getStepsObj(e,!1);n.splice(i,1),sbs__setStepsObj(e,n),sbs__stepsbox__draw(e,t,!1),(0==i?t.find(".sui-sbs-steps-div .sui-sbs-step").first():t.find(".sui-sbs-steps-div .sui-sbs-step[data-sbs-step-i="+(i-1)+"]")).trigger("click"),0===n.length&&$(".tn-settings .sui-panel__section-sbs-prop").css("display","none"),n.length<=1&&(null===JSON.parse(localStorage.getItem("tzerosbsanimation"))&&$(".sui-panel__section-sbs-copypaste").css("display","none"),$(".sui-btn-sbs-copy").addClass("sui-btn_disabled"))}function sbs__step__drawprops(e,t,i){var n,o,s=$(".tn-settings .sui-panel__section-sbs-prop");s.css("display","block"),0<(i=parseInt(i,10))?s.find(".sui-sbs-label-step-index").html(i):s.find(".sui-sbs-label-step-index").html("start"),"scroll"==elem__getFieldValue(e,"sbsevent")?(n=["di","mx","my","sx","sy","op","ro","bl","fi","dd"],s.find("[data-sbs-prop-field=di]").closest(".sui-panel__table").css("display","table"),s.find("[data-sbs-prop-field=ti]").closest(".sui-panel__table").css("display","none"),s.find("[data-sbs-prop-field=fi]").closest(".sui-panel__table").css("display","table"),s.find("[data-sbs-prop-field=ea]").closest(".sui-panel__table").css("display","none"),s.find("[data-sbs-prop-field=dd]").closest(".sui-panel__table").css("display","table"),s.find("[data-sbs-prop-field=dt]").closest(".sui-panel__table").css("display","none")):(n=["ti","mx","my","sx","sy","op","ro","bl","ea","dt"],s.find("[data-sbs-prop-field=di]").closest(".sui-panel__table").css("display","none"),s.find("[data-sbs-prop-field=ti]").closest(".sui-panel__table").css("display","table"),s.find("[data-sbs-prop-field=fi]").closest(".sui-panel__table").css("display","none"),s.find("[data-sbs-prop-field=ea]").closest(".sui-panel__table").css("display","table"),s.find("[data-sbs-prop-field=dd]").closest(".sui-panel__table").css("display","none"),s.find("[data-sbs-prop-field=dt]").closest(".sui-panel__table").css("display","table"));for(var l=0,a=n.length;l<a;l++)o=sbs__step__getFieldValue(e,i,n[l]),s.find("[data-sbs-prop-field="+n[l]+"]").attr("data-control-value",o),("ea"==n[l]||"fi"==n[l]||"tror"==n[l]?sbs__drawUi__selectbox:sbs__drawUi__slider)(e,s,i,n[l]);0==i?(s.find(".sui-panel__table").css("visibility","hidden"),0==s.find(".sui-panel-sbs-hint-step0").length&&s.append('<div class="sui-panel-sbs-hint-step0" style="position:absolute; width:255px; top:50px; left:20px;font-size:13px;opacity:0.55;">If you want to make the initial state of the element different from the default, add the first step, set its duration/distance to 0, and select options to be applied at the start of the animation. <br><br>E.g.: to fade the element from transparent to full opacity, add the first step, set its duration/distance to 0, and set the opacity to 0%</div>')):(s.find(".sui-panel-sbs-hint-step0").remove(),s.find(".sui-panel__table").css("visibility","visible"))}function sbs__step__getObj(e,t){for(var i=sbs__getStepsObj(e,!1),n=0,o=i.length;n<o;n++)if(n==t)return i[n]}function sbs__step__getFieldValue(e,t,i){for(var n=sbs__getStepsObj(e,!1),o=0,s=n.length;o<s;o++)if(o==t)return n[o][i]}function sbs__step__setFieldValue(e,t,i,n,o,s){for(var l,a=sbs__getStepsObj(e,!1),d=0,r=a.length;d<r;d++)d==t&&(a[d][i]=n,sbs__setStepsObj(e,a),"render"==o&&sbs__step__render(e,a[d],d),"updateui"==s)&&void 0!==(l=$(".sui-form-group[data-sbs-prop-field="+i+"] .sui-sbs-opts-option-table"))&&l.find("input").val(n).trigger("change")}function sbs__drawUi__slider(o,e,s,l){var t,i,n,a,d,r,_=e.find("[data-sbs-prop-field="+l+"]"),e=_.attr("data-control-value"),c="",u=e=parseFloat(e);"op"==l&&(u=Math.round(100*u)),"sx"==l&&(u=Math.round(100*u)),"sy"==l&&(u=Math.round(100*u)),"ti"==l&&(u/=1e3),"dt"==l&&(u/=1e3),isNaN(u)&&(u=0),"ti"==(t=l)&&(t="Duration"),"di"==l&&(t="Distance"),"mx"==l&&(t="Move X,Y"),"sx"==l&&(t="Scale X,Y"),"op"==l&&(t="Opacity"),"ro"==l&&(t="Rotate"),"bl"==l&&(t="Blur"),"dt"==l&&(t="Delay"),"dd"==l&&(t="Delay"),"ti"==l&&(n=0,i=5,a=.1,d="s"),"di"==l&&(n=0,i=1e3,a=10,d="px"),"mx"==l&&(n=-500,i=500,a=10,d="px"),"my"==l&&(n=-500,i=500,a=10,d="px"),"sx"==l&&(n=0,i=200,a=5,d="%"),"sy"==l&&(n=0,i=200,a=5,d="%"),"op"==l&&(n=0,i=100,a=5,d="%"),"ro"==l&&(n=-360,i=360,a=5,d="&deg;"),"bl"==l&&(n=0,i=20,a=1,d="px"),"dt"==l&&(n=0,i=5,a=.1,d="s"),"dd"==l&&(n=0,i=1e3,a=10,d="px"),c+='<table style="width:100%;" class="sui-sbs-opts-option-table"><tr>',"my"!=l&&"sy"!=l&&(c+='<td><label class="sui-label" style="">'+t+"</label></td>"),_.html(c+='<td style="width:100%;min-width:65px;"><div class="sui-input-slider-div"><input type="text" value="'+u+'" name="'+l+'" class="sui-input"></div><div class="sui-slider-relwrapper"><div class="sui-slider-abswrapper"><div class="sui-slider"></div></div></div></td><td style="width:10px;"><label class="sui-label" style="margin-right:0;width:10px;text-transform:lowercase;">'+d+"</label></td></tr></table>"),r=$(".tn-settings [name="+l+"]"),_.find(".sui-slider").slider({range:"max",min:n,max:i,step:a,value:u,start:function(){tn_undo__Add("elem_sbs",o),_.removeClass("sui-form-group_undefined")},slide:function(e,t){var i,n,t=t.value;r.val(t),"op"==l&&1!=t&&0!=t&&(t/=100),"sx"==l&&1!=t&&0!=t&&(t/=100),"sy"==l&&1!=t&&0!=t&&(t/=100),"ti"==l&&0!=t&&(t*=1e3),"dt"==l&&0!=t&&(t*=1e3),r.closest(".sui-form-group").attr("data-control-value",t),sbs__step__setFieldValue(o,s,l,t,"render"),"sx"==l&&(i=Math.round(100*t),void 0!==(n=$(".sui-form-group[data-sbs-prop-field=sy] .sui-sbs-opts-option-table")))&&"none"==n.css("display")&&n.find("input").val(i).trigger("change"),"ti"==l&&$(".sui-sbs-step__"+s+" .sui-sbs-step-time").html(t/1e3+"s"),"di"==l&&$(".sui-sbs-step__"+s+" .sui-sbs-step-time").html(t+"px"),window.tn.flags.isSettingsFocused=!1,tn_set_lastChanges()}}),$(".sui-slider .ui-slider-handle").unbind("keydown"),"sy"==l&&(sbs__step__getFieldValue(o,s,"sx")==e?(_.find(".sui-sbs-opts-option-table").css("display","none"),_.append('<div class="sui-sbs-scaley-differ-label" style="font-size:10px; opacity:0.7;white-space:nowrap;">Differ X,Y</div>'),_.find(".sui-sbs-scaley-differ-label").click(function(){_.find(".sui-sbs-opts-option-table").css("display","block"),_.find(".sui-sbs-scaley-differ-label").remove()})):(_.find(".sui-sbs-opts-option-table").css("display","block"),_.find(".sui-sbs-scaley-differ-label").remove())),r.focusin(function(){window.tn.flags.isSettingsFocused=!0,_.removeClass("sui-form-group_undefined")}),r.focusout(function(){window.tn.flags.isSettingsFocused=!1}),r.keydown(function(e){var t,i,n;window.tn.flags.isSettingsFocused=!0,""===l||38!=e.which&&40!=e.which||(t=38==e.which?1:-1,i="dt"==l?.1:"sy"==l?5:"sx"==l?5:"op"==l?5:"my"==l?10:"mx"==l?10:"ti"==l?.1:1,n=parseFloat(r.val()),n+=i*t,n=Math.round(100*n)/100,"ti"==l&&n<0&&(n=0),"op"==l&&(n=100<n?100:n)<0&&(n=0),"sx"==l&&n<0&&(n=0),"sy"==l&&n<0&&(n=0),"ro"==l&&(n=1800<n?0:n)<-1800&&(n=-1800),"bl"==l&&n<0&&(n=0),r.val(n="dt"==l&&n<0?0:n),r.trigger("change")),13==e.which&&($(this).blur(),window.tn.flags.isSettingsFocused=!1)}),tn_selectAllTextInsideField(r.get(0)),r.change(function(){var e=$(this).val(),t=tn_calculateInputNumber(e);"ti"==l&&t<0&&(t=0),"di"==l&&t<0&&(t=0),"op"==l&&(t=100<t?100:t)<0&&(t=0),"sx"==l&&t<0&&(t=0),"sy"==l&&t<0&&(t=0),"ro"==l&&(t=1800<t?0:t)<-1800&&(t=-1800),"bl"==l&&t<0&&(t=0),"dt"==l&&t<0&&(t=0),"dd"==l&&t<0&&(t=0),"mx"!=l&&"my"!=l&&"bl"!=l&&"ti"!=l&&"di"!=l&&"rt"!=l&&"dt"!=l&&"dd"!=l&&"ro"!=l||(isNaN(t)&&(t=0),r.val(t)),"op"==l&&(t=parseInt(t),isNaN(t)&&(t=100),r.val(t)),"sx"!=l&&"sy"!=l||(t=parseInt(t),isNaN(t)&&(t=100),r.val(t)),e=t,tn_undo__Add("elem_sbs",o),_.find(".sui-slider").slider("value",t),"op"==l&&(e/=100),"sx"==l&&(e/=100),"sy"==l&&(e/=100),"ti"==l&&(e*=1e3),"dt"==l&&(e*=1e3),"sx"!=l&&"sy"!=l||(tn_setOutlineZoomWidth(l,e),tn_updateOutlineZoomWidth()),$(this).closest(".sui-form-group").attr("data-control-value",e),sbs__step__setFieldValue(o,s,l,e,"render"),"sx"==l&&void 0!==(t=$(".sui-form-group[data-sbs-prop-field=sy] .sui-sbs-opts-option-table"))&&"none"==t.css("display")&&t.find("input").val(100*e).trigger("change"),"ti"==l&&$(".sui-sbs-step__"+s+" .sui-sbs-step-time").html(e/1e3+"s"),"di"==l&&$(".sui-sbs-step__"+s+" .sui-sbs-step-time").html(e+"px"),_.removeClass("sui-form-group_undefined"),tn_set_lastChanges()})}function sbs__drawUi__getSelectBoxHTML(e,t){var i="";return i+=`
		<td style="width:100%;min-width:50px;">
			<div class="sui-select">
				<select class="sui-input sui-select" name="${e}">`,"ea"==e&&(i+=`
			<option value="" ${""==t?'selected="selected"':""}>Linear</option>
			<option value="easeIn" ${"easeIn"==t?'selected="selected"':""})>Ease In</option>
			<option value="easeOut"  ${"easeOut"==t?'selected="selected"':""}>Ease Out</option>
			<option value="easeInOut" ${"easeInOut"==t?'selected="selected"':""}>Ease In Out</option>
			<option value="bounceFin" ${"bounceFin"==t?'selected="selected"':""}>Elastic Fin</option>`),"fi"==e&&(i+=`
			<option value="" ${""==t?'selected="selected"':""}>None</option>
			<option value="fixed" ${"fixed"==t?'selected="selected"':""}>Fixed</option>`),"tror"==e&&(i+=`
			<option value="left top" ${"left top"==t?'selected="selected"':""}>Left Top</option>
			<option value="center top" ${"center top"==t?'selected="selected"':""}>Center Top</option>
			<option value="right top" ${"right top"==t?'selected="selected"':""}>Right Top</option>
			<option value="left center" ${"left center"==t?'selected="selected"':""}>Left Center</option>
			<option value="" ${""==t?'selected="selected"':""}'>Center Center</option>
			<option value="right center" ${"right center"==t?'selected="selected"':""}>Right Center</option>
			<option value="left bottom" ${"left bottom"==t?'selected="selected"':""}>Left Bottom</option>
			<option value="center bottom" ${"center bottom"==t?'selected="selected"':""}>Center Bottom</option>
			<option value="right bottom" ${"right bottom"==t?'selected="selected"':""}>Right Bottom</option>`),i+=`
				</select>
			</div>
		</td>`,"ea"===e&&(i+=`
			<td class="sui-panel__td">
				<div class="sui-btn sui-btn-sbs-easing-edit">Edit</div>
			</td>`),i}function sbs__initEasingSelectbox(e){const t=document.querySelector('select[name="ea"]');e.startsWith("cubic-bezier")&&easings__createOrSetCustomOption(t,e,"js-sbs-option-custom"),document.querySelector(".sui-btn-sbs-easing-edit").addEventListener("click",e=>{easings__init(t.value.trim()),e.stopPropagation()}),document.addEventListener("easingchange",e=>{easings__createOrSetCustomOption(t,e.detail.css,"js-sbs-option-custom"),t.dispatchEvent(new Event("change"))})}function sbs__drawUi__selectbox(i,e,n,o){var s=e.find("[data-sbs-prop-field="+o+"]"),e=s.attr("data-control-value"),t="",t=(t+='<table style="width:100%;"><tr><td><label class="sui-label">'+("tror"==o?"Origin":"fi"==o?"Fix":"ea"==o?"Easing":o)+"</label></td>")+sbs__drawUi__getSelectBoxHTML(o,e);s.html(t+="</tr></table>"),"ea"===o&&sbs__initEasingSelectbox(e),(t=$(".tn-settings [name="+o+"]")).focusin(function(){window.tn.flags.isSettingsFocused=!0,s.removeClass("sui-form-group_undefined")}),t.focusout(function(){window.tn.flags.isSettingsFocused=!1}),t.change(function(){var e=$(this),t=e.val();tn_undo__Add("elem_sbs",i),e.closest(".sui-form-group").attr("data-control-value",t),sbs__step__setFieldValue(i,n,o,t,"render"),s.removeClass("sui-form-group_undefined"),tn_set_lastChanges()})}function control__drawUi__trgels(e,t,i){var n,o=$("#"+e),e=$("[data-control-field="+t+"]"),s=window.tn.flags.isMultiEdit&&control__drawUi__getMixedState(t),l=e.attr("data-control-value");let a=`<label class="sui-label ${s?"sui-panel__padd_b-10":""}">Trigger</label>`;a+=s?'<p class="sui-form-group__hint">Selected elements have different triggers.</p>':`
			<table>
				<tr>
					<div class="sui-input-div">
						<textarea rows="10" name="${t}" class="sui-input" style="display: none;">${l}</textarea>
					</div>
					<div class="sui-sbs-trgels-div"></div>
					<div class="sui-sbs-steps-add">
						<div class="sui-btn sui-btn-sbs-trgels-add">+ Add trigger</div>
					</div>
				</tr>`,e.html(a),(n=$(".tn-settings [name="+t+"]")).change(function(){var e;tn_console("panelsettings onchange input"),tn_undo__Add("elem_sbs",o),e=n.val(),n.closest(".sui-form-group").attr("data-control-value",e),elem__setFieldValue(o,t,e),tn_set_lastChanges()}),e.find(".sui-btn-sbs-trgels-add").click(function(e){var t=$(".tn-settings").attr("data-for-elem-id");$(document).mousedown({elem_id:t},sbs__trgels__choose),$(".tn-elem").mouseover(sbs__trgels__choose__els__mouseover),$(".tn-elem").mouseleave(sbs__trgels__choose__els__mouseleave),$(".sui-sbs-steps-add").css("display","none"),$(".sui-sbs-steps-add").after('<div class="sui-sbs-steps-add__hint" style="font-size:14px;padding-top:5px;">Please click on any element</div>'),$(".tn-elem").css("cursor","alias"),e.stopPropagation()}),sbs__trgels__draw(o,e,i)}function sbs__trgels__choose(e){tn_console("func: sbs__trgels__choose. elem_id"+e.data.elem_id);var t,i,n,o=e.data.elem_id,o=$("#"+o),s=$(".tn-elem");$(e.target).closest(".tn-elem").each(function(){t=$(this),i=$(this).attr("data-elem-id")}),void 0!==i&&""!=i&&(n=elem__getFieldValue(o,"sbstrgels"),o.attr("id")===n&&0===$(".sui-sbs-trgel").length&&(n=""),elem__setFieldValue(o,"sbstrgels",i=void 0!==n&&""!=n?-1===n.indexOf(i)?n+","+i:n:i,"","updateui"),window.tn.flags.isMultiEdit)&&window.tn.multi_edit_elems.get().forEach(e=>{elem__setFieldValue($(e),"sbstrgels",i,"","",window.tn.curResolution)}),sbs__trgels__draw(o,$("[data-control-field=sbstrgels]"),!1),$(".sui-sbs-steps-add__hint").remove(),$(".sui-sbs-steps-add").css("display","inline-block"),s.css("cursor","auto"),"object"==typeof t&&t.addClass("noclick"),$(document).unbind("mousedown",sbs__trgels__choose),s.unbind("mouseover",sbs__trgels__choose__els__mouseover),s.unbind("mouseleave",sbs__trgels__choose__els__mouseleave),$(".tn-elem__highlight").removeClass("tn-elem__highlight"),e.stopPropagation()}function sbs__trgels__choose__els__mouseover(){$(this).addClass("tn-elem__highlight")}function sbs__trgels__choose__els__mouseleave(){$(this).removeClass("tn-elem__highlight")}function sbs__trgels__draw(e,r,_){tn_console("func: sbs__trgels__draw");var t,i,n,e=_?JSON.parse(localStorage.getItem("tzerosbsanimation")).sbstrgels:elem__getFieldValue(e,"sbstrgels"),o="",s="",c="data-field-sbstrgels"+(s=window.tn.curResolution!==window.tn.topResolution&&window.tn.curResolution!==window.tn.topResolution?"-res-"+window.tn.curResolution:s)+"-value";if(e){o+='<table class="sui-sbs-trgels__table"><tbody style="overflow:auto;">';for(var l,a,d=0,u=(t=e.split(",")).length;d<u;d++)void 0!==(a=$("#"+t[d]))&&0!=a.length&&(l=i=a.attr("data-elem-type"),void 0!==(n=a.attr("data-field-layer-value"))&&""!=n?l=n:"text"==i?l=a.find(".tn-atom").text():"image"==i?"imgfishsquare.gif"!=(l=(l=a.find(".tn-atom__img").attr("src")).split("/").pop())&&18<l.length&&(l=".."+l.slice(-18)):"button"==i&&(l=a.attr("data-field-caption-value")),20<l.length&&(l=l.substring(0,18)+".."),o+='<tr class="sui-sbs-trgel sui-sbs-trgel__'+d+'" data-sbs-trgel-id="'+t[d]+'"><td class="sui-sbs-trgels__td" style="width:20px;padding-left:10px;"><div class="sui-sbs-trgel__icon sui-sbs-trgel__icon_'+("shape"===i?"rectangle":i)+'" style="width:15px;height:15px;margin:3px 5px 3px 5px;display:block;"></div></td><td class="sui-sbs-trgels__td" style="width:140px;padding-left:10px;">'+l+'</td><td class="sui-sbs-trgels__td sui-sbs-trgel-del" style="width:20px;cursor:pointer;">x</td></tr>');o+="</tbody></table>",r.find(".sui-sbs-trgels-div").html(o),r.find(".sui-sbs-trgel").mouseover(function(){var e=$(this).attr("data-sbs-trgel-id");$("#"+e).addClass("tn-elem__highlight")}),r.find(".sui-sbs-trgel").mouseleave(function(){var e=$(this).attr("data-sbs-trgel-id");$("#"+e).removeClass("tn-elem__highlight")}),r.find(".sui-sbs-trgel-del").click(function(e){var t=$(this).parent().attr("data-sbs-trgel-id"),i=$(".tn-settings").attr("data-for-elem-id"),n=$("#"+i),o=1===$(this).parents(".sui-sbs-trgels__table").find(".sui-sbs-trgel").length,s=elem__getFieldValue(n,"sbstrgels");o&&n.attr(c,"");var l=(l=n.attr(c)||"")||s,a=o&&window.tn.flags.isMultiEdit&&window.tn.curResolution!==window.tn.topResolution,d=(a?td__showBubbleNotice("The last trigger for a group cannot be removed in mobile versions. You can modify it for each element separately.",7e3):($(this).parent().remove(),o&&sbs__drawEmptyTriggerList(r)),l.split(",").filter(function(e){return e!==t}).join(",")),o=!d&&s&&window.tn.curResolution<window.tn.topResolution;o&&!window.tn.flags.isMultiEdit&&(d=i),a||(1===n.length&&n.hasClass("tn-elem__fake")&&window.tn.flags.isMultiEdit&&window.tn.multi_edit_elems.get().forEach(e=>{elem__setFieldValue($(e),"sbstrgels",d,"","updateui")}),elem__setFieldValue(n,"sbstrgels",d,"","updateui")),o&&!window.tn.flags.isMultiEdit&&control__drawUi__trgels(i,"sbstrgels",_),$(".tn-elem").removeClass("tn-elem__highlight"),e.stopPropagation()})}else sbs__drawEmptyTriggerList(r)}function sbs__drawEmptyTriggerList(e){e.find(".sui-sbs-trgels-div").html('<span style="font-size:13px;opacity:0.55;">By default, the animation event starts when you click or hover over the animated element itself. Alternatively, you can attach this event to any other element.</span>')}function sbs__copypaste__draw(e){var t=null===JSON.parse(localStorage.getItem("tzerosbsanimation"))?" sui-btn_disabled":"",i="";return i+='<div class="sui-panel__section sui-panel__section-sbs-copypaste"'+(null===JSON.parse(localStorage.getItem("tzerosbsanimation"))?' style="display:none;"':"")+'><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><table style="width:100%;"><tr><td><label class="sui-label" style="width: 260px;">Copy & paste<div class="sui-label-ask tooltip" data-tooltip="You can copy animations from one element to another. </br> Click “Copy animation”, then choose another element </br> and click “Paste animation” in the animation settings"></div></label></td></tr><tr><td style="width:100%; min-width:60px; padding-top: 15px;"><div class="sui-btn sui-btn-sbs-copy sui-btn_disabled">Copy animation</div><div class="sui-btn sui-btn-sbs-paste'+t+'">Paste animation</div></td></tr></table></td></tr></table></div>'}function sbs__step__render(e,t,i){sbs__stopElem(e=tn__getElems(e)),sbs__resetPlayKeyframesAll(),void 0!==t&&(e=window.tn.flags.isMultiEdit?tn__getElems(window.tn.multi_edit_elems):e).forEach(e=>{window.tn.flags.isMultiEdit&&"0"!==i||elem__renderView(e),sbs__step__showRenderedStep(e,t,i)})}function sbs__step__showRenderedStep(e,t,i){let n=e.querySelector(".tn-atom__sbs-anim-wrapper");n||(sbs__updateAnimatedElWrapper(e,"wrap"),n=e.querySelector(".tn-atom__sbs-anim-wrapper")),sbs__setWrapperTransform(n,t),"0"!==i&&(sbs__elemSetXYOffsets(e,t,"left"),sbs__elemSetXYOffsets(e,t,"top"))}function sbs__elemSetXYOffsets(e,t,i){let n=elem__getFieldValue(e,i);n=elem__convertPosition__Local__toAbsolute(e,i,n),n=parseFloat(n);var o=elem__getFieldValue(e,"groupid");o&&(o=group__getById(o)?.get(0),n-=parseInt(o?.style[i],10)||0),e.style[i]=n+parseFloat("top"===i?t.my:t.mx)+"px"}function sbs__setWrapperTransform(t,i){var n="display:table; width:inherit; height:inherit;";if(i){var{sx:o,sy:s}=i,o=("1"===o&&"1"===s||("1"!==o&&"number"==typeof o&&(tn_setOutlineZoomWidth("sx",o),tn_updateOutlineZoomWidth()),"1"!==s&&"number"==typeof s&&(tn_setOutlineZoomWidth("sy",s),tn_updateOutlineZoomWidth())),1!==i.op?`opacity: ${i.op};`:"");let e=1!==i.sx?`scaleX(${i.sx})`:"";1!==i.sy&&(e+=` scaleY(${i.sy})`),i.ro&&(e+=` rotate(${i.ro}deg)`),e=e?`transform: ${e};`:"",t.style.cssText=n+` ${o} `+e}else t.style.cssText=n}function sbs__playElem(){var e=sbs__getElemList();sbs__getPlayBtnState(e)?e.forEach(e=>{sbs__stopElemAnimation(e),sbs__returnStepRender(e)}):sbs__processSBSAnimation(e)}function sbs__playElemStep(e){var t=document.querySelector(".sui-sbs-step_active");const i=parseInt(t.getAttribute("data-sbs-step-i"),10);var t=$(e[0]),n=sbs__getStepsObj(t,!1);const o=JSON.stringify(n).replaceAll('"',"'");sbs__setStepsObj(t,n.slice(0,i+1).map((e,t)=>(t!==i&&(e.ti=0,e.dt=0),e))),sbs__step__render(e,n,i),sbs__playElem(),setTimeout(()=>{e.forEach(e=>{o&&elem__setFieldValue($(e),"sbsopts",o,"","updateui")})},0)}function sbs__processSBSAnimation(e){sbs__stopAll();const{hasLoop:i,maxDuration:t}=sbs__getDurationAndLoop(e);e.forEach(e=>{elem__renderView(e),tn_hideOutline("selected"),sbs__processAnimatedElemClassList(e,"add"),sbs__updateAnimatedElWrapper(e,"wrap"),sbs__setupElem(e);var t=elem__getFieldValue(e,"sbsloop");i||"loop"===t||"loopwithreverse"===t||(e.removeEventListener("animationend",sbs__processOnAnimationEnd),e.addEventListener("animationend",sbs__processOnAnimationEnd)),sbs__setDraggableState(e,"disable",!1)});var n=document.querySelector(".sui-btn-sbs-test-el"),o=(sbs__updatePlayBtnState(n,"add"),document.querySelector(".sui-btn-sbs-test-all"));sbs__setTimeoutForPlayButtons(i,n,o,e,t)}function sbs__processBtnTimeout(e,t,i,n){e.timerID&&clearTimeout(e.timerID),e.timerID=sbs__setTimeoutWithoutLoop(t,i,n)}function sbs__removeBtnTimeout(){Array.from(document.querySelectorAll(".sui-btn-sbs-test-el, .sui-btn-sbs-test-all")).forEach(e=>{e.timerID&&(clearTimeout(e.timerID),e.timerID=0)})}function sbs__setTimeoutForPlayButtons(e,t,i,n,o){e||(sbs__processBtnTimeout(t,n,o,!0),t?.removeEventListener("click",sbs__removeBtnTimeout),t?.addEventListener("click",sbs__removeBtnTimeout),i?.removeEventListener("click",sbs__removeBtnTimeout),i?.addEventListener("click",sbs__removeBtnTimeout))}function sbs__processAnimatedElemClassList(e,t){e&&(window.tn.flags.isSettingsFocused=Boolean("add"===t),e.classList[t]("t-sbs-anim_started","t-sbs-anim_playing","tn-elem__selected__noborder"))}function sbs__playAll(){let e="[data-field-sbsevent-value]",t=(window.tn.curResolution<1200&&(e+='[data-field-animmobile-value="y"]'),Array.from(document.querySelectorAll(e)));sbs__stopElem(t=t.filter(e=>{e=elem__getFieldValue(e,"sbsevent");return e&&"scroll"!==e}));var i=document.querySelector(".sui-btn-sbs-test-el"),n=(sbs__updatePlayBtnState(i,"remove"),sbs__getPlayAllBtnState());if(n)sbs__stopAll(),t.forEach(e=>sbs__returnStepRender(e));else{tn_hideOutline("selected");const{hasLoop:o,maxDuration:s}=sbs__getDurationAndLoop(t);t.forEach(e=>{var t;e.classList.contains("tn-elem__fake")||(t=(t=elem__getFieldValue(e,"sbsloop"))&&t.includes("loop"),elem__renderView(e),sbs__updateAnimatedElWrapper(e,"wrap"),sbs__setupElem(e),sbs__processAnimatedElemClassList(e,"add"),sbs__setDraggableState(e,"disable",!1),o)||t||(e.removeEventListener("animationend",sbs__processOnAnimationEnd),e.addEventListener("animationend",sbs__processOnAnimationEnd))});n=document.querySelector(".sui-btn-sbs-test-all");sbs__updatePlayBtnState(n,"add"),sbs__setTimeoutForPlayButtons(o,i,n,t,s)}}function sbs__endOnClick(e){!e.target.closest(".tn-elem")&&e.target.closest(".tn-floor")&&Array.prototype.slice.call(document.querySelectorAll(".t-sbs-anim_playing")).forEach(e=>{sbs__returnStepRender(e),sbs__setDraggableState(e,"enable",!0)})}function sbs__getDurationAndLoop(e){var t=e.some(e=>elem__getFieldValue(e,"sbsloop")?.includes("loop"));let i=0;return{hasLoop:t,maxDuration:i=t?i:e.reduce((e,t)=>{t=sbs__getDuration(t);return e<t?t:e},0)}}function sbs__setTimeoutWithoutLoop(e,t,i){return setTimeout(()=>{window.tn.flags.isSbsPanelOpen&&(i&&sbs__stopElem(e),e.forEach(e=>{e.classList.contains("t-sbs-anim_playing")||(sbs__returnStepRender(e),sbs__setDraggableState(e,"enable",!0),sbs__processInlineWrapperStylesOnAnimEnd(e))}),sbs__updatePlayBtnState(document.querySelector(".sui-btn-sbs-test-all"),"remove"),tn_showOutline("selected"))},1e3*t+2e3)}function sbs__processOnAnimationEnd(e){e=e.target.closest(".tn-elem");e.classList.remove("t-sbs-anim_playing"),sbs__setDraggableState(e,"enable",!0)}function sbs__updatePlayBtnState(t,i){if(t){let e="sui-btn-sbs-test-all";t.classList.contains(e)||(e="sui-btn-sbs-test-el"),t.classList[i](e+"_stop");var i=t.classList.contains(e+"_stop"),n="sui-btn-sbs-test-all"===e?"Play All":"Play Element";t.textContent=i?"Stop":n}}function sbs__stopElem(e){const t=document.querySelector(".sui-btn-sbs-test-el");t&&t.classList.contains("sui-btn-sbs-test-el_stop")&&e.forEach(e=>{e.classList.contains("t-sbs-anim_started")&&sbs__stopElemAnimation(e,t)})}function sbs__getPlayBtnState(e){return!!document.querySelector(".sui-btn-sbs-test-el")?.classList.contains("sui-btn-sbs-test-el_stop")&&e.every(e=>e.classList.contains("t-sbs-anim_started"))}function sbs__getPlayAllBtnState(){var e;return!(0===Array.from(document.querySelectorAll("[data-field-sbsevent-value].t-sbs-anim_started")).length&&!window.tn.flags.isMultiEdit)&&(e=document.querySelector(".sui-btn-sbs-test-all"))&&e.classList.contains("sui-btn-sbs-test-all_stop")}function sbs__stopElemAnimation(e){var t=document.querySelector(".sui-btn-sbs-test-el");sbs__processAnimatedElemClassList(e,"remove"),sbs__updatePlayBtnState(t,"remove"),sbs__disableAnimationOnStop(e)}function sbs__disableAnimationOnStop(e){var t=e.querySelector(".sbs-anim-keyframes");t&&t.remove(),sbs__setDraggableState(e,"enable",!0),tn_showOutline("selected")}function sbs__stopAll(){var e,t=Array.prototype.slice.call(document.querySelectorAll("[data-field-sbsevent-value].t-sbs-anim_started"));(0!==t.length||window.tn.flags.isMultiEdit)&&(e=document.querySelector(".sui-btn-sbs-test-all"))&&e.classList.contains("sui-btn-sbs-test-all_stop")&&(t.forEach(e=>{sbs__processAnimatedElemClassList(e,"remove"),sbs__setDraggableState(e,"enable",!0)}),sbs__updatePlayBtnState(e,"remove"),sbs__getElementsWithWrappers().forEach(e=>{var t=e.querySelector(".sbs-anim-keyframes");t&&t.remove(),sbs__processInlineWrapperStylesOnAnimEnd(e)}),tn_showOutline("selected"))}function sbs__processInlineWrapperStylesOnAnimEnd(e){e.classList.contains("tn-elem__sbsmode")||(e=e.querySelector(".tn-atom__sbs-anim-wrapper"))&&sbs__setWrapperTransform(e,null)}function sbs__returnStepRender(e){var t=sbs__getStepsObj(e,!1),i=e.getAttribute("data-sbs-step-i");sbs__step__render(e,t[i],i)}function sbs__setupElem(e){let t=e.querySelector(".tn-atom__sbs-anim-wrapper");var i=-1!==navigator.userAgent.indexOf("Chrome"),n=e.querySelector(".tn-atom"),o=n.closest(".tn-elem__transform-wrapper"),o=(o&&(t=o),t_animationSBS__updateStylesAfterWrapping(e,t,i),{elements:[e],isEditMode:!0}),i=(t_animationSBS__cacheAndSetData(o),t_animationSBS__generateKeyframes(o)),o=e.querySelector(".sbs-anim-keyframes");return o?o.innerHTML=i:n.insertAdjacentHTML("afterend",`<style class="sbs-anim-keyframes">${i}</style>`),document.removeEventListener("click",sbs__endOnClick),document.addEventListener("click",sbs__endOnClick),e.timeDuration}function sbs__getDuration(e){var t={elements:[e],isEditMode:!0};return t_animationSBS__cacheAndSetData(t),t_animationSBS__generateKeyframes(t),e.timeDuration}function sbs__updateAnimatedElWrapper(e,t){var i,n,o,s;!e||(n=e.querySelector("."+(i="tn-atom__sbs-anim-wrapper")))&&"wrap"===t||!n&&"unwrap"===t||(s=(o=e.querySelector(".tn-atom")).closest(".tn-elem__transform-wrapper"),"wrap"===t?((t=document.createElement("div")).classList.add(i),t.style.cssText="display:table; width:inherit; height:inherit;",e.insertAdjacentElement("afterbegin",t),t.appendChild(s||o)):(e.insertAdjacentElement("afterbegin",s||o),(n.style.backgroundColor||s&&s.style.backgroundColor)&&(elem__renderViewOneField(e,"bgcolor"),elem__renderViewOneField(e,"opacity")),n.remove()))}function sbs__resetPlayKeyframesAll(){sbs__getElementsWithWrappers().forEach(e=>{var t=e.querySelector(".sbs-anim-keyframes");t&&t.remove(),e.classList.remove("t-sbs-anim_started","tn-elem__selected__noborder")})}function sbs__getElementsWithWrappers(){return Array.prototype.slice.call(document.querySelectorAll(".tn-atom__sbs-anim-wrapper")).map(e=>e.closest(".tn-elem"))}function sbs__getElemList(){var e=document.querySelector(".tn-elem__selected");return window.tn.flags.isMultiEdit?window.tn.multi_edit_elems.get():e?[e]:[]}function sbs__setDraggableState(e,t,i){e.classList.contains("tn-elem__fake")||i&&elem__getFieldValue(e,"groupid")||$(e).draggable(t)}function flags__init(){window.tn.flags=new Proxy({isSettingsFocused:!1,isWidgetFocused:!1,isUiHidden:!1,isBgpositionEditorActive:!1,isLayersOpenOnStart:!1,isLayersPanelOpen:!1,isRulersShow:!1,isPublishShow:!1,isGridHidden:!1,isKeyboardAltDown:!1,isKeyboardShiftDown:!1,isKeyboardCtrlDown:!1,isFormEditorLoading:!1,isSbsPanelOpen:!1,isSbsStepMode:!1,isPanMode:!1,isRotateMode:!1,isGroupSelected:!1,isMultiEdit:!1,isSelectedTextElementsOnly:!1,isElemDragging:!1,isZeroHasPendingChanges:!1},{get:(e,t)=>flags__onRetrive(e,t),set(e,t,i){return flags__onUpdate(e,t,i)}}),flags__setupInitialValues(window.tn.flags,"init")}function flags__setupInitialValues(i,t){const n={isLayersOpenOnStart:{runAt:"artboard-build",setFlag:!0,value:()=>{var e=document.querySelectorAll(".tn-elem");return Array.from(e).some(e=>"y"===e.getAttribute("data-field-invisible-value"))}},isPublishShow:{runAt:"init",setFlag:!0,value:()=>window.localStorage&&"y"===window.localStorage.getItem("tn_flag_showPublishButton")},isRulersShow:{runAt:"artboard-build",setFlag:!1,value:()=>{var e=localStorage.getItem("tn_isRulersShow");return e&&(rulers__toggleView(),panelLayers__showhide(),panelLayers__showhide()),!!e}}};Object.keys(n).filter(e=>n[e].runAt===t).forEach(e=>{var t=n[e];t.setFlag?i[e]=t.value():t.value()})}function flags__onRetrive(e,t){return"isWidgetFocused"===t?window.tu_flag_widget_ui_focus:t in e?e[t]:void 0}function flags__onUpdate(e,t,i){var n={isRulersShow:e=>{e?localStorage.setItem("tn_isRulersShow",JSON.stringify({data:e,timestamp:Date.now()})):localStorage.removeItem("tn_isRulersShow")},isPublishShow:e=>{e?window.localStorage.setItem("tn_flag_showPublishButton","y"):window.localStorage.removeItem("tn_flag_showPublishButton")},isWidgetFocused:e=>{window.tu_flag_widget_ui_focus=e}};return e[t]=i,t in n&&n[t](e[t]),window.tn_comments_flags&&(i=Array.isArray(window.tn_comments_flags_names)&&!window.tn_comments_flags_names.includes(t),window.tn_comments_flags_names&&!i||(tn__triggerConsoleMessage(`updated flag: ${t} = `+e[t],"log"),window.tn_comments_flags_trace&&tn__triggerConsoleMessage("","trace"))),!0}function lasso__init(){const a=document.querySelector(".tn-floor");a.addEventListener("pointerdown",e=>{1!==e.which||a.classList.contains("lassoRunning")||(a.classList.add("lassoRunning"),a.setAttribute("data-lasso-start-left",e.pageX),a.setAttribute("data-lasso-start-top",e.pageY),a.setAttribute("data-lasso-start-zindex",a.style.zIndex),a.style.setProperty("z-index",1e4),a.setPointerCapture(e.pointerId))}),a.addEventListener("pointerup",e=>{var t,i;1===e.which&&a.classList.contains("lassoRunning")&&(a.classList.remove("lassoRunning"),a.removeAttribute("data-lasso-start-left"),a.removeAttribute("data-lasso-start-top"),a.style.setProperty("z-index",a.getAttribute("data-lasso-start-zindex")),e=document.querySelector(".tn-lasso"))&&(lasso__getElems(t=parseInt(e.style.left,10),i=parseInt(e.style.top,10),t+parseInt(e.style.width,10),i+parseInt(e.style.height,10)),e.remove(),1===(t=$(".tn-elem__selected")).length?(elem__updateUIControls(i=t),i.trigger("elementSelected")):1<t.length&&(window.tn.flags.isSbsStepMode&&sbs__allelems__exitonStepMode(),window.tn.flags.isMultiEdit=!0,panelSettings__openTimeout(window.tn.multi_edit_elems=t,!0)),1<t.length?document.body.classList.add("tn-multiselected"):document.body.classList.remove("tn-multiselected"),t.length)&&layers__update()}),a.addEventListener("pointermove",t=>{if(a.classList.contains("lassoRunning")){var e=1/window.tn.zoom,i=$(".tn-layout"),n=i.position(),o=n.left*e,n=n.top*e,s=parseFloat(a.getAttribute("data-lasso-start-left"))*e-o,l=parseFloat(a.getAttribute("data-lasso-start-top"))*e-n,o=t.pageX*e-s-o,t=t.pageY*e-l-n;if(5<Math.abs(o)||5<Math.abs(t)){let e=document.querySelector(".tn-lasso");e||(i[0].insertAdjacentHTML("beforeend",'<div class="tn-lasso"></div>'),e=document.querySelector(".tn-lasso")),0<o?(e.style.setProperty("left",s+"px"),e.style.setProperty("width",o+"px")):(e.style.setProperty("left",s-Math.abs(o)+"px"),e.style.setProperty("width",Math.abs(o)+"px")),0<t?(e.style.setProperty("top",l+"px"),e.style.setProperty("height",t+"px")):(e.style.setProperty("top",l-Math.abs(t)+"px"),e.style.setProperty("height",Math.abs(t)+"px"))}}})}function lasso__getElems(_,c,u,p){window.tn.flags.isSbsPanelOpen&&panelSBS__close(),$(".tn-artboard > .tn-elem, .tn-group").each(function(){var e=$(this),t=e.hasClass("tn-group"),i=parseInt(e.css("left"),10),n=parseInt(e.css("top"),10),o=i+parseInt(e.width(),10),s=n+parseInt(e.height(),10),l=elem__getFieldValue(e,"lock"),a=_,d=c,r=p;0<Math.max(0,Math.min(u,o)-Math.max(a,i))*Math.max(0,Math.min(r,s)-Math.max(d,n))&&"y"!==l&&(t?"y"!==group__getFieldValue(e,"hidden")&&group__select(e.attr("id"),!0):"y"!==elem__getFieldValue(e,"invisible")&&(e.addClass("tn-elem__selected"),"text"===this.dataset.elemType)&&$(".tn-outline_selected").resizable("option","handles","w, e"))}),$(".tn-elem__selected").length&&(tn_setOutlinePosition("selected"),tn_showOutline("selected"),$(".tn-outline_selected").removeClass("tn-outline__fluid"),$(".tn-outline_selected").removeClass("tn-outline__locked"),tn_destroyTidyControls(),tn_createSpacingControls(),window.tn.flags.isRulersShow)&&rulers__highlightElem(null,"multi")}function initTNobj(){tn_console("func: initTNobj"),window.tn={},window.tn.zoom=1,flags__init(),window.tn.screens_default_str="320,480,640,960,1200",setTNobj_screens(window.tn.screens_default_str),window.tn.ab_fields=["height","bgcolor","bgimg","filteropacity","filtercolor","filteropacity2","filtercolor2","bgattachment","bgposition","bgposition_imgsize","bgposition_imgpos","height_vh","valign","ovrflw","ovrflwx","ovrflwy","position","postrgroffset","posview","poszindex","posfixappear","posfixshift","isolation","title","grid","gridcolor","gridopacity","gridlineopacity","gridglobal","upscale"],window.tn.grid_fields=["columns","columngutter","columnmargins","columnwidth","rowbaseline","rowmoduleheight","rowmargins"],window.tn.grid_options=$(".tn-artboard").attr("data-project-zb_grid"),window.tn.grid_options&&(window.tn.grid_options=JSON.parse(window.tn.grid_options)),window.tempaddundoeldata={},window.tn.artboard_id=$(".tn-artboard").attr("data-record-id"),window.tn.last_changes=0,window.tn.last_save_db=0,window.tn.last_save_ls=0,window.tn.colorPickerList=[],tn_unset_allundo(),localStorage.setItem("undo_"+window.tn.artboard_id,"[]");var e=["Arial","Georgia"],t=parent.$headlinefont,i=$(".tn-artboard").attr("data-project-headlinefont"),i=(void 0!==(t=void 0===t&&void 0!==i&&""!=i?i:t)&&(e.unshift(t),window.tn.headlinefont=t,$headlinefont=t),parent.$textfont),t=$(".tn-artboard").attr("data-project-textfont"),t=(void 0!==(i=void 0===i&&void 0!==t&&""!=t?t:i)&&(e.unshift(i),window.tn.textfont=i,$textfont=i),window.fonts=e,"undefined"==typeof $headlinefont&&($headlinefont="Arial"),"undefined"==typeof $textfont&&($textfont="Arial"),parent.$textfontweight),i=(void 0!==t&&(window.tn.textfontweight=t),window.projectid=$(".tn-artboard").attr("data-project-id"),parent.$lang),e=$(".tn-artboard").attr("data-user-lang");void 0===i&&void 0!==e&&""!=e&&(i=e),window.tn.lang=void 0!==i?i:"EN",window.tn.guides={},window.tn.imageEditor={},setTNObj__easings()}function setTNObj__easings(){window.tn.easings={width:350,height:350,widths:[350,400],heights:[350,400],gridSize:10,curveRect:{x:50,y:50,width:250,height:250},zoomRects:[{x:50,y:50,width:250,height:250},{x:150,y:150,width:100,height:100}],isZoomed:!1,context:null,object:{},colors:{light:{controlFill:"#fff",controlStroke:"#000",pointFill:"#000",bezierStroke:"#222",gridStroke:"#d8d8d8",controlLineStroke:"#ababab"},dark:{controlFill:"#2d2d2d",controlStroke:"#ddd",pointFill:"#fff",bezierStroke:"#fff",gridStroke:"#202020",controlLineStroke:"#545454"}},theme:"light"},window.tn.easings.list={"":"cubic-bezier(0,0,1,1)",linear:"cubic-bezier(0,0,1.0,1.0)",easeIn:"cubic-bezier(0.42,0.0,1.0,1.0)",easeOut:"cubic-bezier(0.0,0.0,0.58,1.0)",easeInOut:"cubic-bezier(0.42,0.0,0.58,1.0)",bounceFin:"cubic-bezier(0.34,1.61,0.7,1)",ease:"cubic-bezier(0.42,0.0,0.58,1.0)","ease-in-out":"cubic-bezier(0.42,0.0,0.58,1.0)","ease-in":"cubic-bezier(0.42,0.0,1.0,1.0)","ease-out":"cubic-bezier(0.0,0.0,0.58,1.0)",easeInSine:"cubic-bezier(0.12, 0, 0.39, 0)",easeOutSine:"cubic-bezier(0.61, 1, 0.88, 1)",easeInOutSine:"cubic-bezier(0.37, 0, 0.63, 1)",easeInCubic:"cubic-bezier(0.32, 0, 0.67, 0)",easeOutCubic:"cubic-bezier(0.33, 1, 0.68, 1)",easeInOutCubic:"cubic-bezier(0.65, 0, 0.35, 1)",easeInQuint:"cubic-bezier(0.64, 0, 0.78, 0)",easeOutQuint:"cubic-bezier(0.22, 1, 0.36, 1)",easeInOutQuint:"cubic-bezier(0.83, 0, 0.17, 1)",easeInCirc:"cubic-bezier(0.55, 0, 1, 0.45)",easeOutCirc:"cubic-bezier(0, 0.55, 0.45, 1)",easeInOutCirc:"cubic-bezier(0.85, 0, 0.15, 1)",easeInQuad:"cubic-bezier(0.11, 0, 0.5, 0)",easeOutQuad:"cubic-bezier(0.5, 1, 0.89, 1)",easeInOutQuad:"cubic-bezier(0.45, 0, 0.55, 1)",easeInQuart:"cubic-bezier(0.5, 0, 0.75, 0)",easeOutQuart:"cubic-bezier(0.25, 1, 0.5, 1)",easeInOutQuart:"cubic-bezier(0.76, 0, 0.24, 1)",easeInExpo:"cubic-bezier(0.7, 0, 0.84, 0)",easeOutExpo:"cubic-bezier(0.16, 1, 0.3, 1)",easeInOutExpo:"cubic-bezier(0.87, 0, 0.13, 1)",easeInBack:"cubic-bezier(0.36, 0, 0.66, -0.56)",easeOutBack:"cubic-bezier(0.34, 1.56, 0.64, 1)",easeInOutBack:"cubic-bezier(0.68, -0.6, 0.32, 1.6)"},window.tn.easings.listHuman={Basic:{"":"Linear",easeIn:"Ease In",easeOut:"Ease Out",easeInOut:"Ease In Out",bounceFin:"Elastic Fin"},Sine:{easeInSine:"Sine In",easeOutSine:"Sine Out",easeInOutSine:"Sine In Out"},Cubic:{easeInCubic:"Cubic In",easeOutCubic:"Cubic Out",easeInOutCubic:"Cubic In Out"},Quint:{easeInQuint:"Quint In",easeOutQuint:"Quint Out",easeInOutQuint:"Quint In Out"},Circ:{easeInCirc:"Circ In",easeOutCirc:"Circ Out",easeInOutCirc:"Circ In Out"},Quad:{easeInQuad:"Quad In",easeOutQuad:"Quad Out",easeInOutQuad:"Quad In Out"},Quart:{easeInQuart:"Quart In",easeOutQuart:"Quart Out",easeInOutQuart:"Quart In Out"},Expo:{easeInExpo:"Expo In",easeOutExpo:"Expo Out",easeInOutExpo:"Expo In Out"},Back:{easeInBack:"Back In",easeOutBack:"Back Out",easeInOutBack:"Back In Out"}},window.tn.easings.objectList=null}function updateTNobj(){tn_console("func: updateTNobj");var e=$(".tn-canvas-min"),t=$(".tn-canvas-max"),i=$(".tn-canvas__helper");window.tn.window_width=parseInt($(window).width(),10),window.tn.window_height=parseInt($(window).height(),10),window.tn.canvas_min_width=window.tn.curResolution,window.tn.curResolution<960?window.tn.canvas_max_width=window.tn.curResolution:960==window.tn.curResolution?window.tn.canvas_max_width=1024:window.tn.canvas_max_width=window.tn.curResolution+200,window.tn.grid_width=window.tn.canvas_min_width,window.tn.grid_offset_left=parseInt((window.tn.window_width-window.tn.grid_width)/2,10),window.tn.canvas_min_offset_left=parseInt(e.css("left"),10),window.tn.canvas_max_offset_left=parseInt(t.css("left"),10),window.tn.canvas_min_offset_top=parseInt(e.css("top"),10),window.tn.canvas_max_offset_top=parseInt(t.css("top"),10),1200<=window.tn.curResolution?i.removeClass("tn-display-none"):i.addClass("tn-display-none")}function setTNobj_screens(e){var t,i,e=e.split(",");"object"!=typeof e||null===e||0==e.length?console.log("screens str invalid"):(window.tn.screens=[],i=0,e.forEach(function(e){320<=(t=Number(e))&&t<=1920&&(window.tn.screens[i]=Number(e),i++)}),window.tn.screens_cnt=window.tn.screens.length,window.tn.topResolution=window.tn.screens[window.tn.screens_cnt-1])}$(document).ready(function(){console.log("-------------------------"),console.log("-------- TN Zero -------"),console.log("-------------------------"),window.tildamode="zero",window.isSafari=!1,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(window.isSafari=!0),window.country||(window.country=$("body").attr("data-country")),-1!=navigator.userAgent.indexOf("Mac OS X")?document.body.classList.add("tn-macos"):document.body.classList.add("tn-windowsos"),String.prototype.includes||(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return-1!==this.indexOf(e,t=void 0===t?0:t)}),initTNobj();var e,t=localStorage.getItem("tzerothemecolor"),i=localStorage.getItem("tzerothemesize");t&&$("body").addClass("tn-theme-"+t),i&&$("body").addClass("tn-theme-"+i),window.innerWidth>document.documentElement.clientWidth&&$(".tn-mainmenu").css("width","calc(100vw - 5px)"),tn__scrollGuard__init(document.querySelector(".tn-right-box")),tn__scrollGuard__init(document.querySelector(".tn-left-box")),tn_drawMainMenu(),window.history.scrollRestoration&&(window.history.scrollRestoration="manual"),$("#loadicon").css("display","none"),$(".tn-floor").mousedown(function(e){tn_console("click: Floor"),window.tn.flags.isWidgetFocused=!1,window.tn.flags.isSettingsFocused=!1,floor__mousedown(e)}),$(".tn-floor").contextmenu(function(e){tn_console("click: Floor"),floor__mousedown(e),contextMenu__open(null,e)}),$(".tn-save-btn").click(function(){artboard__Save__toDB("")}),$(".tn-publish-btn").click(function(){tn__publishPage()}),$(".tn-sett-btn").click(function(){tn_console("click: Sett"),0==$(".tn-right-box .tn-settings").length&&floor__mousedown(),tn_toggleSettings(!0)}),$(".tn-close-btn").click(function(){tn_console("click: Close"),(window.tn.last_changes>window.tn.last_save_db?tn_showSaveDialog__beforeClose:tn_close)()}),window.sessionStorage&&void 0!==sessionStorage.getItem("tn_sections_min")&&(window.tn_sections_min=JSON.parse(sessionStorage.getItem("tn_sections_min"))),"object"==typeof window.tn_sections_min&&null!==window.tn_sections_min||(window.tn_sections_min=["arrows","dots","border","shadow","anim","formstyle","formbuttonstyle","link","position"]),updateTNobj(),0==$(".tn-artboard").attr("data-record-id")||0<window.location.href.indexOf("main.html")?artboard__Load__fromLS():setTimeout(function(){artboard__Load__fromDB()},10),lasso__init(),tn__setupFloorUpload(),tn_toggleSettings(),$("body").addClass("userselect_none"),null==localStorage.getItem("tn-firstopen")&&(tn_showHelloPopup(),localStorage.setItem("tn-firstopen",Date.now())),window.tn_timer_autosave=setInterval(artboard__autoSave__toLS,3e4),!window.frameElement&&(t=$(".tn-artboard").attr("data-project-rf_id"),i=$(".tn-artboard").attr("data-project-rf_fonts"),void 0===t&&void 0!==i&&""!=t&&""!=i&&(e='<script type="text/javascript" src="/js/rfwebfonts.js?4"><\/script><script type="text/javascript">WebFontConfig = {"id": "'+t+'", "fonts": '+i+", by_style: 1, by_id: 1};<\/script>",$("head").append(e)),void 0!==(t=$(".tn-artboard").attr("data-project-tf_fonts"))&&""!=t&&(e='<script type="text/javascript">TildaFonts = ['+t+']<\/script><script type="text/javascript" src="https://static.tildacdn.com/js/tilda-fonts.min.js"><\/script>',$("head").append(e)),void 0!==(i=$(".tn-artboard").attr("data-project-typekitid"))&&""!=i&&(e='<script type="text/javascript">(function(d) {var config = {kitId: typekitid,scriptTimeout: 3000};var h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src="//use.typekit.net/"+config.kitId+".js";tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)})(document);<\/script>',$("head").append(e)),void 0!==(t=$(".tn-artboard").attr("data-project-gf_fonts"))&&""!=t&&(e='<link type="text/css" rel="stylesheet" media="screen,print" href="https://fonts.googleapis.com/css2?'+t+'">',$("head").append(e)),i=$(".tn-artboard").attr("data-project-headlinefont"),t=$(".tn-artboard").attr("data-project-textfont"),void 0!==i&&"TildaSans"==i||void 0!==t&&"TildaSans"==t)&&(e='<link type="text/css" rel="stylesheet" media="screen,print" href="https://static.tildacdn.com/css/fonts-tildasans.css">',$("head").append(e)),window.addEventListener("contextmenu",function(e){window.tn.flags.isSettingsFocused||e.preventDefault()},!1),rulersOption__init(),tn_createOutline("selected"),tn_createOutline("hover"),tn_addZoomHandlerOutline(),tn_addZoomEvent(),tn_addMoveShape(),tn_createAbMoveEvent(),tn_createTidyControlsStorage(),tn_createTidyControlsWrapper(),tn_createTidyRangesWrapper(),tn_createSpacingHint(),tn_moveGuidesWrap(),tn_sendUserAgentMetric()}),$(window).resize(function(){tn_console(">>>> Window on Resize event"),waitForFinalEvent(function(){var t=$(window).width(),i=0;window.tn.screens.forEach(function(e){e<=t&&(i=e)}),goResolutionMode(i=960<i?window.tn.topResolution:i),$(".tn-res-item").removeClass("tn-res-item_active"),$(".tn-res-item[data-res="+i+"]").addClass("tn-res-item_active")},500,"some unique string")}),$(window).bind("beforeunload",function(){if(!window.tn_role_dev&&window.tn.last_save_db<window.tn.last_changes)return!0});var waitForFinalEvent=function(){var n={};return function(e,t,i){n[i=i||"Don't call this twice without a uniqueId"]&&clearTimeout(n[i]),n[i]=setTimeout(e,t)}}();function switchResolution(e,t){tn_console("func: switchResolution"),void 0!==t&&""!=t||(t=e<960?e:960==e?1024:e+200),e<1200?$(".tn-layout").addClass("tn-layout-responsive"):$(".tn-layout").removeClass("tn-layout-responsive"),$(".tn-res-item").removeClass("tn-res-item_active"),$(".tn-res-item[data-res="+e+"]").addClass("tn-res-item_active"),$(".tn-layout").attr("data-res",e),window.tn.curResolution=e,window.tn.curResolution_max=t;var i=$(".tn-canvas-min"),n=$(".tn-canvas-max"),o=$(".tn-filter"),s=$(".tn-canvas-max-bottom"),l=(parseInt($(".tn-floor").width(),10)-e)/2,i=(i.css("width",e+"px"),i.css("left",l+"px"),(parseInt($(".tn-floor").width(),10)-t)/2),l=(n.css("width",t+"px"),n.css("left",i+"px"),o.css("width",t+"px"),o.css("left",i+"px"),s.css("width",t+"px"),s.css("left",i+"px"),(window.tn.flags.isSbsPanelOpen||window.tn.flags.isSbsStepMode)&&(panelSBS__close(),sbs__allelems__exitonStepMode()),$(".tn-elem__selected")),n=(1==l.length&&l.trigger("elementSelected"),1<l.length&&(window.tn.flags.isMultiEdit=!0,panelSettings__openTimeout(window.tn.multi_edit_elems=l,!0)),"artboard"==$(".tn-right-box .tn-settings").attr("data-for-artboard")&&panelABSettings__open(),"grid"==$(".tn-right-box .tn-settings").attr("data-for-artboard")&&ab__openZBSettings(),$(".sui-copypaste-wrapper"));+e!==window.tn.topResolution?n.hide():n.show(),allguides__renderView()}function tn__setInitialScroll(){var e=document.querySelector(".tn-canvas-min"),t=document.querySelector(".tn-canvas-max"),i=document.body.classList.contains("tn-theme-minimal"),n=window.tn.flags.isRulersShow;let o=80;i&&(o-=14),n&&(o+=20);i=e.offsetLeft+e.offsetWidth/2-window.innerWidth/2,n=t.offsetTop-o;window.scrollTo(i,n)}function goResolutionMode(e){let t=0;t=e<960?e:960===e?1024:e+200,tn_zoomReset(!0),switchResolution(e,t),updateTNobj(),ab__renderView(),allelems__renderView(),tn__alignArtboard(),tn__setInitialScroll(),allguides__renderView(),group__rerender(),th_dispatchEvent(tn_emitEvent("init:resolution-changed",{res:e,resmax:t})),document.body.click(),void 0!==guide__addHandlers&&guide__addHandlers(),"undefined"!=typeof _guide__updateCanvasDimensions&&_guide__updateCanvasDimensions()}function tn_sendUserAgentMetric(){var e;window.localStorage.getItem("tn_sendUserAgentMetric")||(e=JSON.stringify({url:document.location.href,debugService:"zero"}),$.ajax({url:"https://sysstat.tildacdn.com/api/performance/?"+e,method:"POST",dataType:"text",success:function(){window.localStorage.setItem("tn_sendUserAgentMetric","y")}}))}function tn__setupFloorUpload(){const e=document.querySelector(".tn-floor");e.setAttribute("data-tu-is-image","yes"),e.setAttribute("data-tu-multiple","yes"),e.setAttribute("data-tu-noclick","yes");let o=$([]);tn_onVariableLoad("TUWidget",()=>{TUWidget.init(e).done(function(e){if(this.options.uploadMultiple){const n={};e.forEach((e,t)=>{var i=addImage(),t=(elem__setFieldValue(i,"img",e.tuInfo.cdnUrl,"","",window.tn.topResolution),elem__setFieldValue(i,"left",20*t,"","",window.tn.topResolution),elem__setFieldValue(i,"top",20*t,"","",window.tn.topResolution),1<e.tuInfo.width&&(elem__setFieldValue(i,"filewidth",e.tuInfo.width,"","",window.tn.topResolution),elem__setFieldValue(i,"width",e.tuInfo.width,"","",window.tn.topResolution)),1<e.tuInfo.height&&elem__setFieldValue(i,"fileheight",e.tuInfo.height,"","",window.tn.topResolution),elem__renderViewOneField(i,"img"),elem__renderViewOneField(i,"width"),o=o.add(i),i.attr("data-elem-id"));n[t]=t});e=Object.keys(n).length;0<e&&(1===e?Object.keys(n).forEach(e=>{e=$("#"+e);e.trigger("click"),tn_undo__Add("elem_add",e)}):(floor__mousedown(),Object.keys(n).forEach(e=>{$("#"+e).addClass("tn-elem__selected")}),tn_undo__Add("elems_selected_add",n),window.tn.flags.isMultiEdit=!0,panelSettings__openTimeout(window.tn.multi_edit_elems=o,!0))),tn_set_lastChanges(),o=$([])}}).fail(function(){})})}function tn__scrollGuard__init(d){const r=-1<navigator.userAgent.toLowerCase().indexOf("firefox");d.addEventListener("wheel",e=>{let t=e.target;for(;(t.classList.contains("tu-popup-progressbar-container")||(i=t,s=o=n=void 0,n=i.scrollLeft,o=i.scrollTop,i.scrollLeft=9999,i.scrollTop=9999,s=i.scrollLeft!==n||i.scrollTop!==o,i.scrollLeft=n,i.scrollTop=o,!s))&&(t=t.parentElement)!==d;);var i,n,o,s,l;let a;a=Math.abs(e.deltaX)>Math.abs(e.deltaY)?"horizontal":Math.abs(e.deltaX)<Math.abs(e.deltaY)?"vertical":"both",(["vertical","both"].includes(a)&&(0===t.scrollTop&&e.deltaY<0||(l=t,Math.ceil(l.scrollTop+l.clientHeight)>=l.scrollHeight&&0<e.deltaY))||["horizontal","both"].includes(a)&&(0===t.scrollLeft&&e.deltaX<0||(l=t,Math.ceil(l.scrollLeft+l.clientWidth)>=l.scrollWidth&&0<e.deltaX)))&&e.preventDefault(),r&&t!==d&&!e.defaultPrevented&&(t.scrollLeft+=e.deltaX,t.scrollTop+=e.deltaY)},{passive:!1})}function artboard__Save__toLS(){tn_console("func: save__Data__Json");var e=$(".tn-artboard").attr("data-record-id"),t=allelems__cleanData__inJson(allelems__getData__inJson()),i=JSON.stringify(t),t=t.timestamp;localStorage.setItem("artboard"+e+"_data",i),window.tn.last_save_ls=t}function artboard__Save__toDB(i=""){tn_console("func: artboard__Save__toDB");var t,n,o=$(".tn-save-btn"),e=$(".tn-artboard"),s=("no-save-btn-state"!==i&&(o.addClass("tn-save-btn_processed"),o.find(".tn-save-btn__icon").html("wait")),e.attr("data-page-id")),l=e.attr("data-record-id"),a=allelems__getData__inJson(),e=("block"!==a.ab_gridglobal?(t=(t=e.attr("data-project-zb_grid"))?JSON.parse(t):{},a.ab_gridcolor&&(t.ab_gridcolor=a.ab_gridcolor),a.ab_gridlineopacity&&(t.ab_gridlineopacity=a.ab_gridlineopacity),a.ab_gridopacity&&(t.ab_gridopacity=a.ab_gridopacity),void 0!==a.ab_grid&&a.ab_grid&&(t.ab_grid=a.ab_grid),window.tn.screens.forEach(function(e){void 0!==a["ab_grid-res-"+e]&&a["ab_grid-res-"+e]&&(t["ab_grid-res-"+e]=a["ab_grid-res-"+e])}),delete a.ab_gridcolor,delete a.ab_gridlineopacity,delete a.ab_gridopacity,delete a.ab_grid,window.tn.screens.forEach(function(e){delete a["ab_grid-res-"+e]})):(n=0,window.tn.screens.forEach(function(e){a["ab_grid-res-"+e]||(n+=1)}),a.ab_gridcolor||a.ab_gridlineopacity||a.ab_gridopacity||a.ab_grid||n!==window.tn.screens.length||(a.ab_gridglobal="")),a=allelems__cleanData__inJson(a),JSON.stringify(a)),d=a.timestamp,r={comm:"savezerocode",pageid:s,recordid:l,onlythisfield:"code",fromzero:"yes",code:e},_=(t&&(t=Object.keys(t).length?JSON.stringify(t):"reset",r.zb_grid=t),Date.now());return $.ajax({type:"POST",url:"/zero/submit/",data:r,dataType:"text",success:function(e){var t;"no-save-btn-state"!==i&&setTimeout(function(){""==e?o.find(".tn-save-btn__icon").html("Ok"):o.find(".tn-save-btn__icon").html("Error"),setTimeout(function(){o.removeClass("tn-save-btn_processed"),o.find(".tn-save-btn__icon").html("Save")},700)},300),""==e?(window.tn.last_save_db=d,$(".tn-saved").html(window.tn.last_save_db),artboard__Empty__toLS(),void 0!==i&&"close_after_save"===i&&tn_close(),void 0!==i&&-1<i.indexOf("gorecord_after_save")&&tn_openrecords__gorecord((t=i.split(":"))[1],t[2])):("string"==typeof e&&"too much data"===e?alert("Saving error: block cannot be saved because it contains too much data. Please create a new Zero Block and move some of the elements there."):"string"==typeof e&&"\x3c!--tlp--\x3e"===e.substring(0,10)?alert("Saving error: changes are not saved. You have logged out. What to do: Do not close this tab. Open a new tab in your browser and log in to your account. Then go back to this tab and try saving your changes again."):"string"==typeof e&&"\x3c!--tpbaa--\x3e"===e.substring(0,12)?alert("Saving error: changes are not saved. You have been logged in with another account. What to do: do not close this tab. Open new tab in the browser and log in to your account. Then come back to this tab and try save again."):alert("Saving error. Please try again latter. Comments: "+e),console.log("error saving"),console.log(e))},error:function(e){var t=Date.now()-_;if(!(0==e.status&&t<100))try{errorLog({e:"savezero",data:r,xhr:e.status,ts:t})}catch(e){}"no-save-btn-state"!==i&&(o.find(".tn-save-btn__icon").html("Error!"),o.css("background-color","red"),setTimeout(function(){o.removeClass("tn-save-btn_processed"),o.find(".tn-save-btn__icon").html("Save"),o.css("background-color","#f06847")},2e3)),alert("Error! Changes are not saved. Please check the internet connection or try again later.")},timeout:6e4})}function artboard__Load__fromLS(){tn_console("func: artboard__Load__fromLS"),$(".tn-elem").each(function(){$(this).remove()});var e=$(".tn-artboard").attr("data-record-id"),e=localStorage.getItem("artboard"+e+"_data"),e=JSON.parse(e);return tn_console(e),artboard__Build(e),grid__render(),tn_hideFullscreenLoader(),e}function artboard__Load__fromDB(){tn_console("func: artboard__Load__fromDB");var e=$(".tn-artboard"),t=e.attr("data-page-id"),o=e.attr("data-record-id");$.ajax({type:"POST",url:"/zero/get/",data:{comm:"getzerocode",pageid:t,recordid:o},dataType:"text",success:function(e){var t,i,n=JSON.parse(e),e=(7e4<e.length&&tn_showFullscreenLoader(),tn_console(n),"");!window.tn_role_dev&&null!==localStorage.getItem("artboard"+o+"_data")&&null!==n&&void 0!==n.timestamp&&0<n.timestamp&&"string"==typeof(t=localStorage.getItem("artboard"+o+"_data"))&&"object"==typeof(t=JSON.parse(t))&&void 0!==t.timestamp&&t.timestamp>n.timestamp&&0<(i=(new Date).getTime()-t.timestamp)&&i<108e5&&(tn_console("You have unsaved changes in LocalStorage."),i=Math.ceil(i/1e3/60),confirm("We have found a local unsaved version of this block (created nearly "+(120<i?Math.ceil(i/60)+" hours":i+" mins")+" ago). Would you like to restore it?"))&&(n=t,e="y"),""==e&&artboard__Empty__toLS(),setTimeout(function(){artboard__Build(n),grid__init(),tn_hideFullscreenLoader()},50)},error:function(){tn_hideFullscreenLoader(),grid__render()}})}function tn_showSaveDialog__beforeClose(){$("body").append('<table class="tn-dialog"><tr><td class="tn-dialog__td"><div class="tn-close-icon"></div><div class="tn-dialog__content"></div></td></tr></table>');$(".tn-dialog__content").html('<div style="text-align:center;"><div style="font-size:36px; padding: 40px 0px;">Last changes haven\'t been saved. Do you want to save it?</div><table width="100%"><tr><td style="padding-right:5px;"><div class="tn-dialog__btn tn-dialog__btn-close"><div class="tn-dialog__btn-icon">Don\'t Save</div></div></td><td style="padding-right:5px;"><div class="tn-dialog__btn tn-dialog__btn_primary tn-dialog__btn-save"><div class="tn-dialog__btn-icon">Save and Close</div></div></td></tr></table></div>'),$(".tn-dialog__btn-save").click(function(){artboard__Save__toDB("close_after_save")}),$(".tn-dialog__btn-close").click(function(){$(window).unbind("beforeunload"),tn_close()}),$(".tn-close-icon").click(function(){$(".tn-dialog").remove()})}function tn_undo__Add(o,e,s,t){"number"!=typeof t&&(t=300),tn_console("func: tn_"+(s=s||"undo")+"__Add. comm:"+o);var i,n,l=0,a=window.tn.curResolution,d=[];if("group_create"==o||"elem_save"==o||"elem_delete"==o||"elem_add"==o||"elem_duplicate"==o||"clear_adaptive_attributes"==o)e&&(".tn-elem__selected"===e.selector||1<e.length)?(i=".tn-elem__selected"===e.selector?$(".tn-elem__selected"):e,void 0===window.tempaddundoeldata[0]&&(window.tempaddundoeldata[0]={isMultiUndo:!0}),i.each(function(){var e=$(this),t=e.attr("data-elem-id");void 0===window.tempaddundoeldata[0][t]&&(window.tempaddundoeldata[0][t]=elem__getData__inJson(e))})):(l=e.attr("data-elem-id"),void 0===window.tempaddundoeldata[l]&&(window.tempaddundoeldata[l]=elem__getData__inJson(e)));else if("elem_move"==o)l=e.attr("data-elem-id"),void 0===window.tempaddundoeldata[l]&&(window.tempaddundoeldata[l]={},window.tempaddundoeldata[l]["data-field-left-value"]=elem__getFieldValue(e,"left"),window.tempaddundoeldata[l]["data-field-top-value"]=elem__getFieldValue(e,"top"));else if("elems_sort"==o)window.tempaddundoeldata[l]={},$(".tn-elem").each(function(){var e=$(this),t=e.attr("data-elem-id"),e=e.attr("data-field-zindex-value");void 0===e&&(e=""),window.tempaddundoeldata[l][t]=e});else if("elems_figma_import"==o)for(var r in window.tempaddundoeldata[l]={},d=[],e){var _=$("#"+r),c=elem__getFieldValue(_,"groupid");c&&-1===d.indexOf(c)&&d.push(c),window.tempaddundoeldata[l][r]=elem__getData__inJson(_)}else"elems_selected_save"==o||"elems_selected_delete"==o||"elems_selected_add"==o?(window.tempaddundoeldata[l]={},i=$(".tn-elem__selected"),"elems_selected_add"==o&&e.length&&(i=e),e&&1<e.length&&(i=e),d=[],i.each(function(){var e=$(this),t=elem__getFieldValue(e,"groupid"),i=e.attr("data-elem-id");t&&-1===d.indexOf(t)&&d.push(t),window.tempaddundoeldata[l][i]=elem__getData__inJson(e)}),"elems_selected_save"!=o&&"elems_selected_delete"!=o||!d.length||(window.tempaddundoeldata.groups={},d.forEach(function(e){window.tempaddundoeldata.groups[e]=group__getDataJson(e)}))):"elems_selected_move"==o?void 0===window.tempaddundoeldata[l]&&(i=e&&e.hasClass("tn-group")?e.find(".tn-elem"):$(".tn-elem__selected"),window.tempaddundoeldata[l]={},i.each(function(){var e=$(this),t=e.attr("data-elem-id");window.tempaddundoeldata[l][t]={},window.tempaddundoeldata[l][t]["data-field-left-value"]=elem__getFieldValue(e,"left"),window.tempaddundoeldata[l][t]["data-field-top-value"]=elem__getFieldValue(e,"top")})):"elem_sbs"==o?(l=e.attr("data-elem-id"),void 0===window.tempaddundoeldata[l]&&(window.tempaddundoeldata[l]={},window.tempaddundoeldata[l]["data-sbs-step-i"]=e.attr("data-sbs-step-i"),window.tempaddundoeldata[l]["data-field-sbsopts-value"]=elem__getFieldValue(e,"sbsopts"))):"ab_save"==o?(n=$(".tn-artboard"),window.tempaddundoeldata[l]={},window.tempaddundoeldata[l]=ab__getData__inJson(n)):"screens_save"==o?(window.tempaddundoeldata[l]={},n=$(".tn-artboard"),i={previousScreens:e.previousScreens,currentScreens:e.currentScreens,ab:ab__getData__inJson(n),elems:$(".tn-elem").map(function(){return elem__getData__inJson($(this))}).toArray()},window.tempaddundoeldata[l]=i):-1!==["guides_save","guides_delete","guides_add","guides_hidden"].indexOf(o)&&(l=e.attr("id"),n=window.tn.guides[l],window.tempaddundoeldata[l]={id:l,type:n.type,position:n.position,hidden:window.tn_guide__openStateHiddenArr});function u(){tn_console("save to "+s);var e=window.tempaddundoeldata[l],t=window.tn.artboard_id,i=localStorage.getItem(s+"_"+t),i=$.parseJSON(i),n={};window.tempaddundoeldata.groups&&(e.groups=window.tempaddundoeldata.groups),delete window.tempaddundoeldata[l],void 0!==i&&null!=i||((i=[]).ab_id=t),n.comm=o,n.res=a,n.elem_id=l,n.data=e,"clear_adaptive_attributes"===n.comm&&(n.res=window.tn.topResolution),i.push(n),e=JSON.stringify(i),localStorage.setItem(s+"_"+t,e),"undo"==s&&localStorage.setItem("redo_"+t,"[]")}0===t?u():waitForFinalEvent(function(){u()},t,"tn-null-"+s),tn_console_runtime("func: tn_"+s+"__Add. comm:"+o)}function tn_undo__AddReversedAction(e,t,i){tn_console("func: tn_undo__AddReversedAction",e,i),i=i?(i=Object.keys(t.data).map(function(e){return"#"+e}).join(","),$(i)):"ab_save"===t.comm?void 0:"screens_save"===t.comm?{previousScreens:t.data.currentScreens,currentScreens:t.data.previousScreens}:-1!==["guides_save","guides_add","guides_delete","guides_hidden"].indexOf(t.comm)?$("#"+t.data.id):$("#"+t.elem_id),"undo"===e&&tn_undo__Add(t.comm,i,"redo",0),"redo"===e&&tn_undo__Add(t.comm,i,"undo",0)}function tn_undo(e){tn_console("func: tn_undo","action: "+(e=e||"undo"));var t,i,n,o,s,l,a,d,r,_=window.tn.artboard_id,c=$.parseJSON(localStorage.getItem(e+"_"+_));if(void 0===c||null==c||0==Object.keys(c).length)return tn_console("undoObj is null"),"";if(document.querySelector(".bg-position-editor"))return!1;if(void 0!==(t=c.splice(-1,1)[0])){if("elem_save"==t.comm)if(tn_console(t),(d=t.res)!=window.tn.curResolution&&(switchResolution(d),grid__render(),updateTNobj(),ab__renderView(),allelems__renderView()),t.data.isMultiUndo)for(o in delete t.data.isMultiUndo,tn_undo__AddReversedAction(e,t,!0),p=t.data)delete(i=p[h=o]).elem_id,delete i.elem_type,undo_do_element(h,i,d);else tn_undo__AddReversedAction(e,t,!1),h=t.elem_id,delete(i=t.data).elem_id,delete i.elem_type,undo_do_element(h,i,d);if("clear_adaptive_attributes"==t.comm)if(tn_console(t),(d=t.res)!=window.tn.curResolution&&(switchResolution(d),grid__render(),updateTNobj(),ab__renderView(),allelems__renderView()),t.data.isMultiUndo)for(o in tn_undo__AddReversedAction(e,t,!0),delete t.data.isMultiUndo,p=t.data){delete(i=p[h=o]).elem_id,delete i.elem_type;const b=document.querySelector(`[data-elem-id="${h}"]`);"redo"===e?elem__clearAdaptiveAttributes(b):Object.entries(i).forEach(([e,t])=>{b.setAttribute(`data-field-${e}-value`,t)})}else{tn_undo__AddReversedAction(e,t,!1),h=t.elem_id,delete(i=t.data).elem_id,delete i.elem_type;const v=document.querySelector(`[data-elem-id="${h}"]`);"redo"===e?elem__clearAdaptiveAttributes(v):Object.entries(i).forEach(([e,t])=>{v.setAttribute(`data-field-${e}-value`,t)})}if("elem_move"==t.comm&&(tn_console(t),(d=t.res)!=window.tn.curResolution&&(switchResolution(d),grid__render(),updateTNobj(),ab__renderView(),allelems__renderView()),tn_undo__AddReversedAction(e,t,!1),h=t.elem_id,i=t.data,elem__setFieldValue(m=$("#"+h),"left",i["data-field-left-value"],"render"),elem__setFieldValue(m,"top",i["data-field-top-value"],"render"),m.hasClass("tn-elem__selected"))&&(panelSettings__updateUi(m,"left"),panelSettings__updateUi(m,"top")),"elem_delete"==t.comm){if(tn_console(t),t.data.isMultiUndo)if(delete t.data.isMultiUndo,p=t.data,"undo"===e){for(o in p)addElem(i=p[h=o]);tn_undo__AddReversedAction(e,t,!0)}else for(o in tn_undo__AddReversedAction(e,t,!0),p)elem__Delete($("#"+o));else h=t.elem_id,p=t.data,"undo"===e?(addElem(p),tn_undo__AddReversedAction(e,t,!1)):(tn_undo__AddReversedAction(e,t,!1),elem__Delete($("#"+h)));group__checkGroupedElsOutside()}if("elem_duplicate"==t.comm&&(tn_console(t),h=t.elem_id,m=$("#"+h),"undo"===e?(tn_undo__AddReversedAction(e,t,!1),elem__Delete(m),tn_hideOutline("selected"),window.tn.flags.isRulersShow&&rulers__destroyHighlight()):(addElem(t.data),tn_undo__AddReversedAction(e,t,!1))),"elem_add"==t.comm&&(tn_console(t),h=t.elem_id,m=$("#"+h),"undo"===e?(tn_undo__AddReversedAction(e,t,!1),elem__Delete(m)):(addElem(t.data),tn_undo__AddReversedAction(e,t,!1)),floor__mousedown(),f=elem__getFieldValue(m,"groupid"))&&group__setPositionByElemsAttrs(f,!1,!0),"elems_sort"==t.comm)for(o in tn_console(t),p=t.data,tn_undo__AddReversedAction(e,t,!0),p)(m=$("#"+o)).attr("data-field-zindex-value")!==p[o]&&(tn_console(o),m.attr("data-field-zindex-value",p[o]),elem__renderViewOneField(m,"zindex"),panelSettings__updateUi(m,"zindex"));if("elems_selected_save"==t.comm){if(tn_console(t),(d=t.res)!=window.tn.curResolution&&(switchResolution(d),grid__render(),updateTNobj(),ab__renderView(),allelems__renderView()),tn_undo__AddReversedAction(e,t,!0),n=[],(p=t.data).groups)for(var u in p.groups)undo_do_group(u,s=p.groups[u]);for(o in p)delete(i=p[h=o]).elem_id,delete i.elem_type,undo_do_element(h,i,d),(l=elem__getFieldValue($("#"+h),"groupid"))&&!group__getById(l)&&-1===n.indexOf(l)&&n.push(l);$(".tn-group").each(function(){var e=$(this),t=e.attr("id");0===e.find(".tn-elem[data-field-groupid-value="+t+"]").length&&group__unmake(t,!0)}),n.length&&(a=[],n.forEach(function(e){group__create(e,!1,!0),a.push(e)}))}if("elems_selected_move"==t.comm){for(o in tn_console(t),(d=t.res)!=window.tn.curResolution&&(switchResolution(d),grid__render(),updateTNobj(),ab__renderView(),allelems__renderView()),tn_undo__AddReversedAction(e,t,!0),p=t.data)i=p[h=o],elem__setFieldValue(m=$("#"+h),"left",i["data-field-left-value"],"render","updateui"),elem__setFieldValue(m,"top",i["data-field-top-value"],"render","updateui");0!==$(".tn-elem__selected").length&&smartAlign__elems__setSpacingFieldValues()}if("elems_selected_delete"==t.comm){if(tn_console(t),p=t.data,"undo"===e){for(o in p)"groups"!==o&&addElem(i=p[o]);if(p.groups)for(u in p.groups)group__create((s=p.groups[u]).id,s,!0);tn_undo__AddReversedAction(e,t,!0)}else{if(tn_undo__AddReversedAction(e,t,!0),p.groups)for(u in p.groups)group__unmake((s=p.groups[u]).id,!0);for(o in p)"groups"!==o&&elem__Delete($("#"+o))}group__checkGroupedElsOutside()}if("elems_selected_add"==t.comm||"elems_figma_import"==t.comm){tn_console(t);var p,g=[];for(o in p=t.data){var m,f,h=o;(f=elem__getFieldValue(m=$("#"+h),"groupid"))&&g.push(f),elem__Delete(m)}g.length&&g.forEach(function(e){group__setPositionByElemsAttrs(e,!1,!0)}),floor__mousedown()}"elem_sbs"==t.comm&&(tn_console(t),(d=t.res)!=window.tn.curResolution&&(switchResolution(d),grid__render(),updateTNobj(),ab__renderView(),allelems__renderView()),tn_undo__AddReversedAction(e,t,!1),h=t.elem_id,i=t.data,elem__setFieldValue(m=$("#"+h),"sbsopts",i["data-field-sbsopts-value"],"render"),window.tn.flags.isSbsPanelOpen)&&m.hasClass("tn-elem__selected")&&1==$(".tn-elem__selected").length&&panelSBS__updateUi(m,"sbsopts",i["data-sbs-step-i"]),"ab_save"==t.comm&&(tn_console(t),delete(p=t.data)["data-artboard-page-id"],delete p["data-artboard-record-id"],(d=t.res)!=window.tn.curResolution&&(switchResolution(d),grid__render(),updateTNobj(),ab__renderView(),allelems__renderView()),undo_do_artboard(p,d,function(){tn_undo__AddReversedAction(e,t,!1)}),ab__renderView(),allelems__renderView()),"screens_save"==t.comm&&(tn_console(t),p=t.data,d=t.res,tn_undo__AddReversedAction(e,t,!1),setTNobj_screens(p.previousScreens),tn_drawResMenu(),goResolutionMode(window.tn.topResolution),guide__updateRowsBreakpointsPopup(),p.elems.forEach(function(t){var e=t.elem_id,n=$("#"+e);delete t.elem_id,delete t.elem_type,Object.keys(t).forEach(function(i){var e=t[i];"inputs"!==i&&(elem__setFieldValue(n,i,e,"","",window.tn.topResolution),window.tn.screens.forEach(function(e){var t;e!==window.tn.topResolution&&void 0!==(t=p[i+"-res-"+e])&&elem__setFieldValue(n,i,t,"","",e)}))})}),undo_do_artboard(p.ab,d),ab__renderView(),allelems__renderView()),"guides_save"===t.comm&&(tn_console(t),p=t.data,d=t.res,tn_undo__AddReversedAction(e,t,!1),r=$("#"+p.id),"h"===p.type&&(r.css("top",(p.position+window.tn.canvas_min_offset_top)*window.tn.zoom+"px"),guide__save__currentPosition(r)),"v"===p.type)&&(r.css("left",(p.position+window.tn.canvas_min_offset_left)*window.tn.zoom+"px"),guide__save__currentPosition(r)),"guides_add"===t.comm&&(tn_console(t),p=t.data,d=t.res,r=$("#"+p.id),"undo"===e?(tn_undo__AddReversedAction(e,t,!1),r.remove()):(guide__add(p.position,p.type,p.id),tn_undo__AddReversedAction(e,t,!1))),"guides_delete"===t.comm&&(tn_console(t),p=t.data,d=t.res,r=$("#"+p.id),"undo"===e?(guide__add(p),tn_undo__AddReversedAction(e,t,!1)):(tn_undo__AddReversedAction(e,t,!1),r.remove())),"guides_hidden"===t.comm&&(tn_console(t),p=t.data,d=t.res,r=$("#"+p.id),"undo"===e?(tn_undo__AddReversedAction(e,t,!1),window.tn.guides[p.id].hidden=p.hidden,guide__renderView(r,window.tn.guides[p.id]),guide__updateBreakpointsPopup(r.get(0))):(window.tn.guides[p.id].hidden=p.hidden,guide__renderView(r,window.tn.guides[p.id]),guide__updateBreakpointsPopup(r.get(0)),tn_undo__AddReversedAction(e,t,!1))),tn_set_lastChanges()}localStorage.setItem(e+"_"+_,JSON.stringify(c)),layers__update(),window.tn.flags.isMultiEdit&&panelSettings__openTimeout(window.tn.multi_edit_elems,!0),group__unlockWithoutLockedElems(),group__showkWithoutHiddenElems(),tn_hideOutline("hover"),tn_toggleMoreRedoVisibility(),tn_console_runtime("func: tn_undo")}function undo_do_group(i,n){tn_console("func: undo_do_element",i,n);var o=$(".tn-group#"+i);o.length&&"lock,hidden".split(",").forEach(function(e){var t=void 0===n[e]?null:n[e];"hidden"===e&&t!=group__getFieldValue(o,"hidden")&&group__hide(i,!1,!0),"lock"===e&&t!=group__getFieldValue(o,"lock")&&group__lock(i,!1,!0)})}function undo_do_element(e,i,n){tn_console("func: undo_do_element",e,i,n);var o,s,l,a,d=$("#"+e);d.hasClass("tn-elem")&&(d.attr("data-fields").split(",").forEach(function(e){i["data-field-"+e+"-value"],a=n==window.tn.topResolution?"data-field-"+(l=e)+"-value":(l=e+"-res-"+n,"data-field-"+e+"-res-"+n+"-value"),s=i[l],o=d.attr(a),s!=o&&(tn_console("res: "+n+" return: field: "+e+" val: "+s),tn_console(l),void 0!==s?d.attr(a,s):d.removeAttr(a),elem__renderViewOneField(d,e),d.hasClass("tn-elem__selected")&&panelSettings__updateUi(d,e),"sbsevent"==e)&&window.tn.flags.isSbsPanelOpen&&d.hasClass("tn-elem__selected")&&1==$(".tn-elem__selected").length&&(panelSBS__close(d),panelSBS__open(d.attr("data-elem-id")));var t=!1;0===e.indexOf("anim")&&(panelSettings__updateUi(d,e),t=!0),t&&(control__drawUi__selectbox(d.attr("id"),"animstyle"),control__drawUi__selectbox(d.attr("id"),"animprx"),control__drawUi__selectbox(d.attr("id"),"animfix"))}),void 0!==i.text&&i.text!=d.find(".tn-atom").html()&&(d.find(".tn-atom").html(Quill.addNbspMarkers(i.text)),elem__renderViewOneField(d,"text")),d.hasClass("tn-elem__selected")&&elem__select(d),"form"==d.attr("data-elem-type"))&&elem__renderForm(d)}function tn_unset_allundo(){tn_console("func: tn_unset_allundo");for(var e,t=Object.keys(localStorage),i=t.length;i--;)"undo_"==(e=t[i]).substring(0,5)&&localStorage.removeItem(e)}function undo_do_artboard(o,e,t){var s=$(".tn-artboard");"function"==typeof t&&t(),window.tn.ab_fields.forEach(function(i){var n,e=o["ab_"+i];ab__setFieldValue(s,i,e),"valign"!==i&&window.tn.screens.forEach(function(e,t){e!=window.tn.topResolution&&(n=o["ab_"+i+"-res-"+e],ab__setFieldValue(s,i,n,e))}),ab__panelSettings__updateUi(s,i)})}function tn_createOutline(e){var t=document.createElement("div");t.classList.add("tn-outline","tn-outline_"+e),t.innerHTML=`
		<div class="tn-outline__border tn-outline__border_top"></div>
		<div class="tn-outline__border tn-outline__border_bottom"></div>
		<div class="tn-outline__border tn-outline__border_left"></div>
		<div class="tn-outline__border tn-outline__border_right"></div>
	`;let i;"selected"===e&&(tn_addUiClickEvents__outline($(t)),tn_createRotateCursor(),tn_createRotateAnchors(t),t.insertAdjacentHTML("beforeend",`
			<p class="tn-outline__size">
				<span class="tn-outline__size__text"></span>
			</p>
		`),(i=document.createElement("div")).classList.add("tn-outline-wrpr"),i.insertAdjacentElement("beforeend",t)),document.body.insertAdjacentElement("beforeend",i||t)}function tn_addZoomHandlerOutline(){window.tn.outlineDimensions={sizes:{},outlines:document.querySelectorAll(".tn-outline"),additionalZoom:{sx:0,sy:0}},document.addEventListener("zoom:gesture-changed",tn_outline__zoomHandler),document.addEventListener("zoom:zoom-in",tn_outline__zoomHandler),document.addEventListener("zoom:zoom-out",tn_outline__zoomHandler),document.addEventListener("zoom:zoom-reset",tn_outline__zoomHandler)}function tn_outline__zoomHandler(i=!1){const n=window.tn["zoom"],e=window.tn.outlineDimensions["outlines"];window.requestAnimationFrame(()=>{e.forEach(e=>{var t=e.classList[1].split("_")[1];e.classList.contains("tn-outline__hidden")&&"hover"!==t||e.classList.contains("ui-resizable-resizing")&&!i||(t=window.tn.outlineDimensions.sizes[t])&&Object.assign(e.style,{top:t.top*n+"px",left:t.left*n+"px",width:t.width*n+"px",height:t.height*n+"px"})})}),tn_updateOutlineZoomWidth()}function tn_updateOutlineZoomWidth(e=window.tn.zoom){var{sx:t,sy:i}=window.tn.outlineDimensions.additionalZoom;t&&(e+=t),i&&(e+=i);let n=parseFloat((1/e).toFixed(3));n<.3&&(n=.3),document.body.style.setProperty("--tn-outline-width",n+"px")}function tn_setOutlineZoomWidth(e,t){window.tn.outlineDimensions.additionalZoom[e]=t}function tn_updateOutline(){document.querySelectorAll(".tn-elem__selected, .tn-group__selected").length&&(tn_setOutlinePosition("selected"),tn_setOutlinePosition("hover"),tn_destroyTidyControls(),tn_createSpacingControls())}function tn_createRotateAnchors(i){["nw","ne","sw","se"].forEach(e=>{i.insertAdjacentHTML("beforeend",`
			<div class="tn-outline__rotate-anchor tn-outline__rotate-anchor_${e}">
				<div class="tn-outline__rotate-anchor-zone-1"></div>
				<div class="tn-outline__rotate-anchor-zone-2"></div>
			</div>
		`);var t=i.querySelector(".tn-outline__rotate-anchor:last-child");t.tnSide=e,tn_addRotateEvents(t)})}function tn_createRotateCursor(){document.body.insertAdjacentHTML("beforeend",`
		<div class="tn-rotate-cursor">
			<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M1.49443 -0.260851L-0.261481 1.49506C-0.579506 1.81308 -0.579507 2.32871 -0.261481 2.64673L1.49443 4.40264C2.00744 4.91566 2.88462 4.55232 2.88462 3.82681V3.2188C6.02928 3.4612 8.5388 5.97072 8.7812 9.11538H8.17319C7.44768 9.11538 7.08434 9.99255 7.59736 10.5056L9.35327 12.2615C9.67129 12.5795 10.1869 12.5795 10.5049 12.2615L12.2608 10.5056C12.7739 9.99255 12.4105 9.11538 11.685 9.11538H11.0436C10.794 4.72345 7.27655 1.20599 2.88462 0.95636V0.314984C2.88462 -0.410525 2.00745 -0.773867 1.49443 -0.260851Z" fill="black" stroke="white"/>
				<clipPath id="clip0">
					<rect width="12" height="12" fill="white"/>
				</clipPath>
			</svg>
		</div>
	`)}function tn_addRotateEvents(i){const n={x:0,y:0},o={x:0,y:0},s=document.querySelector(".tn-rotate-cursor");let l=!0,a=!1,d=0,r,_,c,u;i.addEventListener("mouseenter",e=>{var t=document.querySelectorAll(".tn-elem__selected");1===t.length&&(l=void 0!==elem__getFieldValue($(t[0]),"rotate"))&&(d={ne:0,se:90,sw:180,nw:270}[i.tnSide],s.style.transform=`translate(${e.pageX}px, ${e.pageY}px) rotate(${d}deg)`,tn_showRotateCursor(s))}),i.addEventListener("mousemove",e=>{1===document.querySelectorAll(".tn-elem__selected").length&&l&&(s.style.transform=`translate(${e.pageX}px, ${e.pageY}px) rotate(${d}deg)`)}),i.addEventListener("mouseleave",()=>{1===document.querySelectorAll(".tn-elem__selected").length&&!window.tn.flags.isRotateMode&&l&&tn_hideRotateCursor(s)}),i.addEventListener("mousedown",e=>{var t=document.querySelectorAll(".tn-elem__selected");1===t.length&&l&&(a=!0,window.tn.flags.isRotateMode=!0,_=parseInt(elem__getFieldValue($(t[0]),"rotate"),10),n.x=e.pageX,n.y=e.pageY,r=tn_getSelectedCenter(),e.stopPropagation())}),document.addEventListener("mousemove",e=>{var t,i;a&&e.buttons&&(o.x=e.pageX,o.y=e.pageY,t=tn_calculateAngle(r,n,o),i=d+t,s.style.transform=`translate(${e.pageX}px, ${e.pageY}px) rotate(${i}deg)`,(c=_+t)<0&&(c+=360),360<=c&&(c-=360),e.shiftKey&&c%15!=0||(u=c,(i=document.querySelector(".tn-elem__selected")).querySelector(".tn-elem__transform-wrapper, .tn-atom").style.transform=`rotate(${c}deg)`,panelSettings__updateUi($(i),"rotate",c)))}),document.addEventListener("mouseup",e=>{var t;a&&(tn_hideRotateCursor(s),t=document.querySelectorAll(".tn-elem__selected"),tn_undo__Add("elem_save",$(t[0])),a=!1,window.tn.flags.isRotateMode=!1,e.shiftKey&&c%15!=0&&(c=u),elem__setFieldValue($(t[0]),"rotate",c,"render","updateui"))})}function tn_showRotateCursor(e){e=tn__getElem(e);document.querySelectorAll(".tn-floor, .tn-mainmenu, .tn-elem, .tn-group, .tn-outline__rotate-anchor, .tn-right-box, .tn-left-box, .ui-resizable-handle").forEach(e=>e.style.cursor="none"),e.style.display="block"}function tn_hideRotateCursor(e){e=tn__getElem(e);document.querySelectorAll(".tn-floor, .tn-mainmenu, .tn-elem, .tn-group, .tn-outline__rotate-anchor, .tn-right-box, .tn-left-box, .ui-resizable-handle").forEach(e=>e.style.cursor=""),e.style.display="none"}function tn_getSelectedCenter(){var e=document.querySelector(".tn-outline_selected"),t=tn_getElemPosition(e),i=window.tn.zoom;return{x:t.left+e.offsetWidth/i/2,y:t.top+e.offsetHeight/i/2}}function tn_getElemPosition(e){var t=e.offsetTop,i=e.offsetLeft,{marginTop:e,marginLeft:n}=getComputedStyle(e);return{top:t-parseInt(e,10),left:i-parseInt(n,10)}}function tn_calculateAngle(e,t,i){t={x:t.x-e.x,y:t.y-e.y},i={x:i.x-e.x,y:i.y-e.y},e=(t.x*i.x+t.y*i.y)/(Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))*Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))),t=t.x*i.y-t.y*i.x;let n=Math.round(Math.acos(e)*(180/Math.PI));return n=t<0?-n:n}function tn_setOutlinePosition(e="selected"){var t=document.querySelector(".tn-outline_"+e),i=tn_findOutlineCoordinates(e),{top:n,left:o,right:s,bottom:l}=i;const a=s-o,d=l-n;s=window.tn.zoom;if(t.style.cssText+=`
		top: ${n*s}px;
		left: ${o*s}px;
		width: ${a*s}px;
		height: ${d*s}px;
	`,window.tn.outlineDimensions.sizes[e]={top:n,left:o,width:a,height:d},"selected"===e){const a=i.right-i.left,d=i.bottom-i.top;a<=5||d<=5?t.style.setProperty("--tn-outline-offset","-8px"):a<=10||d<=10?t.style.setProperty("--tn-outline-offset","-6px"):t.style.setProperty("--tn-outline-offset","-3.5px"),tn_showResizeAnchors(),tn_updateOutlineDescription(),tn_outline__zoomHandler()}}function tn_findOutlineCoordinates(e){e=document.querySelectorAll(".tn-elem__"+e,".tn-group__"+e);const i={};return e.forEach(e=>{const t=tn_getElCoordinates(e);["left","top"].forEach(e=>{(!i[e]||t[e]<i[e])&&(i[e]=t[e])}),["right","bottom"].forEach(e=>{(!i[e]||t[e]>i[e])&&(i[e]=t[e])})}),i}function tn_getElCoordinates(e){e=tn__getElem(e);var t={top:0,left:0,bottom:0,right:0};let i;var n=elem__getFieldValue($(e),"groupid"),n=n&&document.getElementById(n);return i=n?(t.top=parseInt(n.style.top,10),t.left=parseInt(n.style.left,10),n.classList.contains("tn-group__selected")?tn_getSizeInPx(n):(t.top+=parseInt(e.style.top,10),t.left+=parseInt(e.style.left,10),tn_getSizeInPx(e))):(t.top=parseFloat(e.style.top),t.left=parseFloat(e.style.left),tn_getSizeInPx(e)),t.bottom=t.top+i.height,t.right=t.left+i.width,t}function tn_showOutline(e){var t=document.querySelectorAll(".tn-elem__selected"),i=document.querySelector(".tn-elem__hover"),n=document.querySelectorAll(".tn-elem__on-resize"),t=Array.from(t).find(e=>e.classList.contains("tn-elem__sbsmode"));if(i){var o="y"===elem__getFieldValue($(i),"lock"),i=i.classList.contains("tn-elem__selected");if(o&&i&&"hover"===e)return}n.length||t||document.querySelector(".tn-outline_"+e).classList.remove("tn-outline__hidden"),tn_outline__zoomHandler()}function tn_hideOutline(e){document.querySelector(".tn-outline_"+e).classList.add("tn-outline__hidden")}function tn_hideOutlineDescription(){var e=document.querySelector(".tn-outline__size");e&&(e.style.display="none")}function tn_showOutlineDescription(){var e=document.querySelector(".tn-outline__size");e&&(e.style.display="block")}function tn_updateOutlineDescription(){var e=document.querySelector(".tn-outline_selected"),t=e.querySelector(".tn-outline__size"),i=t.querySelector(".tn-outline__size__text"),n=window.tn.zoom,o=document.querySelectorAll(".tn-elem__selected"),s=1===o.length?elem__getFieldValue($(o[0]),"width"):Math.round(e.offsetWidth/n),e=1===o.length?elem__getFieldValue($(o[0]),"height"):Math.round(e.offsetHeight/n),n=document.querySelector(".tn-outline__size__warning");n&&n.remove(),t.classList.remove("tn-outline__size_warning"),i.innerHTML=`
		${s} <span class="tn-outline__size__text">&#215;</span> ${e}
	`,1===o.length&&"y"===elem__getFieldValue($(o),"amazonsrc")&&t.insertAdjacentHTML("beforeend",`
			<span class="tn-outline__size__warning">
				<svg x="0px" y="0px" viewBox="0 0 192.146 192.146" style="enable-background:new 0 0 192.146 192.146;" xml:space="preserve">
					<path style="fill:#ffffff;" d="M108.186,144.372c0,7.054-4.729,12.32-12.037,12.32h-0.254c-7.054,0-11.92-5.266-11.92-12.32c0-7.298,5.012-12.31,12.174-12.31C103.311,132.062,108.059,137.054,108.186,144.372z M88.44,125.301h15.447l2.951-61.298H85.46L88.44,125.301z M190.372,177.034c-2.237,3.664-6.214,5.921-10.493,5.921H12.282c-4.426,0-8.51-2.384-10.698-6.233c-2.159-3.849-2.11-8.549,0.147-12.349l84.111-149.22c2.208-3.722,6.204-5.96,10.522-5.96h0.332c4.445,0.107,8.441,2.618,10.513,6.546l83.515,149.229C192.717,168.768,192.629,173.331,190.372,177.034z M179.879,170.634L96.354,21.454L12.292,170.634H179.879z"/>
				</svg>
			</span>
		`)}function tn_showResizeAnchors(){var e=document.querySelectorAll(".tn-elem__selected"),t=Array.from(e).filter(e=>{e=e.getAttribute("data-elem-type");return"text"===e||"form"===e}),i=document.querySelector(".tn-outline_selected");let n;e.length===t.length?(n=["w","e"],i.classList.add("tn-outline_text-selected")):(n=["all"],i.classList.remove("tn-outline_text-selected")),$(i).resizable("option","handles",n.join())}function tn_getSizeInPx(e){e=window.getComputedStyle(e);return{width:parseFloat(e.width),height:parseFloat(e.height)}}function grid__init(){var e=document.querySelector(".tn-grid");e&&e.remove(),document.body.insertAdjacentHTML("beforeend",'<div class="tn-grid"></div>'),grid__render(),document.addEventListener("init:resolution-changed",()=>{grid__render()}),document.addEventListener("zoom:zoom-in",grid__zoomHandler),document.addEventListener("zoom:zoom-out",grid__zoomHandler),document.addEventListener("zoom:gesture-changed",grid__zoomHandler),document.addEventListener("zoom:zoom-reset",grid__zoomHandler)}function grid__updateData(){var e=document.querySelector(".tn-grid"),t=e.querySelectorAll(".tn-grid__column"),i=e.querySelectorAll(".tn-grid__row"),n=e.querySelectorAll(".tn-grid__row-line"),o=document.querySelector(".tn-canvas-min"),s=grid__getOptions(document.querySelector(".tn-artboard"));window.tn.handlerGridData={nodes:{container:e,gridColumns:t,gridRows:i,gridLines:n},grid:{rowMargins:s.rowmargins||0,rowModuleHeight:s.rowmoduleheight,rowBaseLine:s.rowbaseline,columnMargins:s.columnmargins||0,columnGutter:s.columngutter||0,columnWidth:s.columnwidth},canvasDimensions:{canvasLeftOffset:o.offsetLeft,canvasTopOffset:o.offsetTop,canvasHeight:o.offsetHeight}}}function grid__getData(){return Object.assign({},window.tn.handlerGridData)}function grid__zoomHandler(e){const{nodes:t,grid:i,canvasDimensions:n}=grid__getData(),o=e?.detail.zoom||window.tn.zoom||1,s=n.canvasLeftOffset*o-n.canvasLeftOffset,l=n.canvasTopOffset*o-n.canvasTopOffset;t.container.style.transform=`translate(${s}px, ${l}px)`;let a=0;const d=i.columnWidth*o;t.gridColumns.forEach((e,t)=>{a=0===t?n.canvasLeftOffset+i.columnMargins*o:a+d+i.columnGutter*o,e.style.cssText+=`
			left: ${a}px;
			width: ${d}px;
			height: ${1e4*o-l}px;
		`});let r=0;const _=i.rowModuleHeight?i.rowBaseLine*i.rowModuleHeight*o:n.canvasHeight*o-2*i.rowMargins*o;t.gridRows.forEach((e,t)=>{r=0===t?n.canvasTopOffset+i.rowMargins*o:r+_+i.rowBaseLine*o,e.style.cssText+=`
			top: ${r}px;
			height: ${_}px;
			width: ${12e3*o-s}px;
		`});let c=0;t.gridLines.forEach(e=>{null===e.previousSibling&&(c=i.rowBaseLine*o),e.style.top=c-2+"px",c+=i.rowBaseLine*o})}function grid__toggle(){(window.tn.flags.isGridHidden?grid__show:grid__hide)()}function grid__hide(){var e=document.querySelector(".tn-grid"),t=document.querySelector(".tn-more-grid");e.classList.add("tn-display-none"),t.innerHTML="Show Grid",localStorage.setItem("tn_grid_off","y"),window.tn.flags.isGridHidden=!0}function grid__show(){var e=document.querySelector(".tn-grid"),t=document.querySelector(".tn-more-grid");e.classList.remove("tn-display-none"),t.innerHTML="Hide Grid",localStorage.setItem("tn_grid_off",""),window.tn.flags.isGridHidden=!1}function grid__changeValue(e,t,i){const n=window.tn.curResolution,o=grid__getOptions(e),s=localStorage.getItem("tzerogridlock"),l=(o[t]=i||"",()=>{o.columnwidth=(n-o.columngutter*(o.columns-1)-2*o.columnmargins)/o.columns,o.columnwidth=parseFloat(o.columnwidth.toFixed(1)),o.columnwidth<=0&&(o.columnwidth=1,"columngutter"!==s)&&a()}),a=()=>{1==o.columns?(o.columnwidth=n-2*o.columnmargins,o.columngutter=0):(o.columngutter=(n-o.columns*o.columnwidth-2*o.columnmargins)/(o.columns-1),o.columngutter=parseFloat(o.columngutter.toFixed(1))),o.columngutter<0&&(o.columngutter=0,"columnwidth"!==s)&&l()},d=()=>{o.columnmargins=(n-o.columns*o.columnwidth-o.columngutter*(o.columns-1))/2,o.columnmargins=Math.floor(o.columnmargins.toFixed(1)),o.columnmargins<0&&(o.columnmargins=0,"columngutter"!==s)&&a()};i=t;switch(i){case"columnwidth":("columngutter"!==s?a:d)();break;case"columngutter":("columnwidth"!==s?l:d)();break;case"columnmargins":("columngutter"!==s?a:l)();break;case"columns":("columnwidth"!==s?l:a)()}i=JSON.stringify(o),ab__setFieldValue(e,"grid",i),ab__panelSettings__updateUi(e,"columngutter",o.columngutter),ab__panelSettings__updateUi(e,"columnwidth",o.columnwidth),ab__panelSettings__updateUi(e,"columnmargins",o.columnmargins),"block"===ab__getFieldValue(e,"gridglobal")&&"gridglobal"!==t&&grid__setLocalOptions(),tn_set_lastChanges()}function grid__render(){var l=document.querySelector(".tn-grid");if(l){var a=document.querySelector(".tn-artboard"),d=document.querySelector(".tn-canvas-min"),r=grid__getOptions(a),_=grid__getColors(a);let e=d.offsetLeft+(parseInt(r.columnmargins,10)||0);var c=_.gridcolor,u=tn_hex2rgb(c),p=(u.push(100*parseFloat(_.gridopacity)),tn_hex2rgb(c));p.push(100*parseFloat(_.gridlineopacity));let t="";for(var g=0;g<r.columns;g++){var m=`
			left: ${e}px;
			width: ${r.columnwidth}px;
			background-color: rgba(${u.join(",")}%);
			border-color: rgba(${p.join(",")}%);
			box-shadow: 1px 0px 0px 0px rgba(${p.join(",")}%);
		`;t+=`<div style="${m.trim()}" class="tn-grid__column"></div>`,e=e+parseFloat(r.columnwidth)+(parseFloat(r.columngutter)||0)}c=parseInt(r.rowmargins,10)||0;let i=d.offsetTop+c;_=parseInt(ab__getFieldValue($(a),"height"),10);let n=parseInt(r.rowbaseline,10)*parseInt(r.rowmoduleheight,10),o=parseInt(r.rowmoduleheight,10),s=Math.floor(_-2*c)/(n+parseInt(r.rowbaseline,10));if(o||(n=d.offsetHeight-2*c,s=1,o=parseInt(n/parseInt(r.rowbaseline,10),10)),r.rowbaseline)for(var f=0;f<s;f++){var h=r.rowmoduleheight?`background-color: rgba(${u.join(",")}%);`:"",h=`
				top: ${i}px;
				height: ${n}px;
				${h}
				border-color: rgba(${p.join(",")}%);
			`;t+=`<div style="${h.trim()}" class="tn-grid__row">`,i=i+parseFloat(n)+parseFloat(r.rowbaseline);let e=parseFloat(r.rowbaseline);for(var b=0;b<o-1;b++){var v=`top: ${e-2}px; background-color: rgba(${p.join(",")}%)`;t+=`<div style="${v}" class="tn-grid__row-line"></div>`,e+=parseInt(r.rowbaseline,10)}t+="</div>"}l.innerHTML="",l.insertAdjacentHTML("beforeend",t),grid__updateData(),grid__zoomHandler()}}function grid__getColors(e){var t={},e=$(e),i=window.tn.grid_options,n=ab__getFieldValue(e,"gridcolor"),o=ab__getFieldValue(e,"gridopacity"),e=ab__getFieldValue(e,"gridlineopacity");return t.gridcolor=n||i?.ab_gridcolor||"#0000ff",t.gridopacity=o||i?.ab_gridopacity||"0",t.gridlineopacity=e||i?.ab_gridlineopacity||"0.1",t}function grid__getOptions(e,t=window.tn.curResolution){let i="";if(e=document.querySelector(".tn-artboard"),i=t===window.tn.topResolution?e.getAttribute("data-artboard-grid"):e.getAttribute("data-artboard-grid-res-"+t))return JSON.parse(i);e=!!(e=e.getAttribute("data-project-zb_grid"))&&JSON.parse(e);if(e=e&&(t===window.tn.topResolution?e.ab_grid:e["ab_grid-res-"+t]))return JSON.parse(e);t=parseInt(t,10);var n,o,e=[{res:320,columns:4,width:60,gutter:20,margins:10},{res:480,columns:6,width:60,gutter:20,margins:10},{res:640,columns:8,width:60,gutter:20,margins:10},{res:960,columns:12,width:60,gutter:20,margins:10},{res:1200,columns:12,width:60,gutter:40,margins:20},{res:1440,columns:14,width:60,gutter:40,margins:40},{res:1600,columns:16,width:60,gutter:32,margins:80},{res:1920,columns:18,width:60,gutter:40,margins:80}];const s=e.some(function(e){return e.res===t});let l=0;if(!s){const d=[],r=[],_=(e.forEach(function(e){e.res!==t&&(d.push(Math.abs(e.res-t)),r.push({diff:Math.abs(e.res-t),res:e.res}))}),Math.min.apply(null,d));r.forEach(function(e){e.diff===_&&(l=e.res)})}let a={};return e.forEach(function(e){s?e.res===t&&(a=e):e.res===l&&(a=e)}),s||({columns:e,width:o,margins:n}=a,o=(t-e*o-2*n)/(e-1),a.gutter=parseFloat(o.toFixed(1))),{columns:a.columns,columngutter:a.gutter,columnmargins:a.margins,columnwidth:a.width,rowbaseline:"",rowmoduleheight:"",rowmargins:""}}function grid__reset(){const t=document.querySelector(".tn-artboard"),i=$(".tn-artboard");var e="block"===ab__getFieldValue(i,"gridglobal");window.tn.screens.forEach(function(e){ab__setFieldValue(i,"grid","",e)}),ab__setFieldValue(i,"gridcolor",""),ab__setFieldValue(i,"gridopacity",""),ab__setFieldValue(i,"gridlineopacity",""),ab__setFieldValue(i,"gridglobal",""),e||(t.setAttribute("data-project-zb_grid",""),window.tn.grid_options=null,window.tn.screens.forEach(function(e){t.removeAttribute("data-artboard-gridopacity-res-"+e),t.removeAttribute("data-artboard-gridlineopacity-res-"+e),t.removeAttribute("data-artboard-gridcolor-res-"+e)}))}function grid__setLocalOptions(){const i=$(".tn-artboard");window.tn.screens.forEach(function(e){var t=grid__getOptions(i,e);t&&ab__setFieldValue(i,"grid",JSON.stringify(t),e)});var e=grid__getColors(i[0]);ab__setFieldValue(i,"gridcolor",e.gridcolor),ab__setFieldValue(i,"gridopacity",e.gridopacity),ab__setFieldValue(i,"gridlineopacity",e.gridlineopacity)}function addmenu__open(){moremenu__close(),document.querySelector(".tn-add-wrapper").classList.toggle("tn-add-wrapper_opened")}function addmenu__close(){document.querySelector(".tn-add-wrapper").classList.remove("tn-add-wrapper_opened")}function moremenu__open(){addmenu__close(),tn_toggleMoreRedoVisibility(),document.querySelector(".tn-more-wrapper").classList.toggle("tn-more-wrapper_opened")}function moremenu__close(){document.querySelector(".tn-more-wrapper").classList.remove("tn-more-wrapper_opened")}function tn_drawMainMenu(){document.querySelector(".tn-mainmenu").innerHTML=`
		<div class="tn-mainmenu__content">
			<div class="tn-mainmenu__leftside">
				<div class="tn-add-wrapper"></div>
			</div>
			<div class="tn-res-wrapper"></div>
			<div class="tn-rightbtns-wrapper"></div>
		</div>
	`,tn_drawAddMenu(),tn_drawMoreMenu(),document.addEventListener("init:resolution-changed",e=>{const t=e.detail.res;var e=e.detail.resmax,i=document.querySelector(".tn-res-input"),n=document.querySelector(".tn-resmax-input"),i=(i.value=t,n.value=e,document.querySelectorAll(".tn-res-item"));Array.from(i).forEach(e=>{e.classList.remove("tn-res-item_active"),e.getAttribute("data-res")===String(t)&&e.classList.add("tn-res-item_active")})})}function tn_drawAddMenu(){var e=document.querySelector(".tn-mainmenu .tn-add-wrapper");const t=window.oplan<=0,i=[{type:"text",title:"Add Text",handler:addText},{type:"image",title:"Add Image",handler:addImage},{type:"shape",title:"Add Shape",handler:addShape},{type:"button",title:"Add Button",handler:addButton},{type:"video",title:"Add Video",handler:addVideo},{type:"tooltip",title:"Add Tooltip",handler:addTooltip},{type:"html",title:"Add HTML",isPaid:!0,handler:addHtml},{type:"form",title:"Add Form",handler:addForm},{type:"gallery",title:"Add Gallery",handler:addGallery},{type:"vector",title:"Add Vector",handler:addVector}];e.innerHTML=`
		<div class="tn-add-btn">
			<div class="tn-add-btn__icon"></div>
		</div>
		<div class="tn-add-popup">
			${i.filter(e=>!e.isPaid||!t).map(e=>`
					<div class="tn-add-popup__item tn-add-${e.type}" data-type="${e.type}">
						${e.title}
					</div>
				`).join("")}
		</div>
	`,e.querySelector(".tn-add-btn").addEventListener("click",()=>{addmenu__open()}),e.querySelector(".tn-add-popup").addEventListener("click",e=>{e=e.target.closest(".tn-add-popup__item");if(e){const t=e.dataset.type;var e=i.find(e=>e.type===t);e&&(addmenu__close(),window.tn.curResolution!=window.tn.topResolution&&goResolutionMode(window.tn.topResolution),elem__select(e=e.handler()),"tooltip"==t&&elem__renderViewOneField(e,"tipposition"),tn_undo__Add("elem_add",e),tn_set_lastChanges(),layers__update())}})}function tn_drawResMenu(){var e=document.querySelector(".tn-mainmenu .tn-res-wrapper");const o=[{max:480,ico:"320"},{max:640,ico:"480"},{max:960,ico:"640"},{max:1200,ico:"960"},{max:1600,ico:"1200"},{max:1/0,ico:"1600"}];var t=window.tn.screens.reduce((e,t,i)=>{var i=i<window.tn.screens_cnt-1?window.tn.screens[i+1]:"MAX",n=o.find(e=>t<e.max).ico;return e+`
			<div class="tn-res-item tn-res-${t}" data-res="${t}">
				<div class="tn-res-icon tn-res-icon_${n} tooltip" data-tooltip="SCREENS: ${t}&mdash;${i}"></div>
			</div>
		`},""),t=(e.innerHTML=`
		<div class="tn-res-slider">
			${t}
			<div class="tn-res-settings"><div class="tn-res-icon tn-res-icon_settings"></div></div>
		</div>
		<input type="text" class="tn-res-input" readonly style="border:0; color:#000; width:30px; display:none;">
		<input type="text" class="tn-resmax-input" readonly style="border:0; color:#000; width:30px;  display:none;">
	`,e.querySelector(".tn-res-input")),i=e.querySelector(".tn-resmax-input"),n=e.querySelector(".tn-res-"+window.tn.topResolution);t.value=window.tn.topResolution,i.value=window.tn.topResolution+200,n.classList.add("tn-res-item_active"),switchResolution(window.tn.topResolution),e.querySelector(".tn-res-slider").addEventListener("click",e=>{tn_console("click: resolution slider item");e=e.target.closest(".tn-res-item");e&&goResolutionMode(Number(e.dataset.res))});const s=e.querySelector(".tn-res-settings");s.querySelector(".tn-res-icon").addEventListener("click",()=>{tn_console("click: screens settings"),(s.classList.contains("tn-res-settings_active")?tn_screensettings__close:tn_screensettings__open)(s)})}function tn_drawMoreMenu(){var e=document.querySelector(".tn-mainmenu .tn-rightbtns-wrapper");const i=[{label:"redo",title:"Redo",handler:()=>{tn_undo("redo")},shortcut:"Cmd Shift + Z"},{label:"undo",title:"Undo",handler:()=>{tn_undo()},shortcut:"Cmd + Z"},{label:"grid",title:"Hide Grid",handler:()=>{grid__toggle()},shortcut:"G"},{label:"sett",title:"Show Settings",handler:()=>{tn_tab()},shortcut:"TAB"},{label:"ui",title:"Hide UI",handler:()=>{tn_toggleUI()},shortcut:"F"},{label:"layers",title:"Show Layers",handler:()=>{panelLayers__showhide()},shortcut:"Cmd + L"},{label:"rulers",title:"Show Rulers",handler:()=>{rulers__toggleView()},shortcut:"Shift + R"},{label:"zoom-in",title:"Zoom In",handler:()=>{tn_zoomIn()},shortcut:"Cmd + -"},{label:"zoom-out",title:"Zoom Out",handler:()=>{tn_zoomOut()},shortcut:"Cmd + +"},{label:"publish",title:"Save & Publish",handler:()=>{tn__publishPage()},shortcut:"Cmd + P"},{label:"figma",title:"Import",handler:()=>{tn_figma__popupOpenHandler()}},{label:"settings",title:"Open Zero Block Settings",handler:()=>{ab__openZBSettings(),tn_showSettings()}},{label:"shortcuts",title:"Keyboard Shortcuts",handler:()=>{tn_showShortcuts()}},{label:"about",title:"About Zero Block",handler:()=>("RU"==window.tn.lang?window.open("http://zero.tilda.cc/ru","_blank"):window.open("http://zero.tilda.cc","_blank"),!1)},{label:"help",title:"Help",handler:()=>("RU"==window.tn.lang?window.open("http://help-ru.tilda.ws/zero","_blank"):window.open("http://help.tilda.ws/zero","_blank"),!1)},{type:"divider"},{label:"guides",title:"Guides: Hide/Show",handler:()=>{tn_toggleGuides()}},{label:"add-guide-h",title:"Guides: Add Horizontal",handler:()=>{tn_undo__Add("guides_add",guide__add("","h"))},shortcut:"Cmd + H"},{label:"add-guide-v",title:"Guides: Add Vertical",handler:()=>{tn_undo__Add("guides_add",guide__add("","v"))},shortcut:"Cmd Shift + H"},{label:"snap",title:"Disable Snapping",handler:()=>{tn_toggleSnap()},shortcut:"Cmd + Shift + ;"}];e.innerHTML=`
		<div class="tn-publish-btn">
			<div class="tn-publish-btn__icon">Publish</div>
		</div>
		<div class="tn-save-btn">
			<div class="tn-save-btn__icon">Save</div>
		</div>
		<div class="tn-close-btn">
			<div class="tn-close-btn__icon">Close</div>
		</div>
		<div class="tn-help-btn">
			<div class="tn-close-btn__icon">?</div>
		</div>
		<div class="tn-more-wrapper">
			<div class="tn-more-btn">
				<div class="tn-more-btn__icon">...</div>
			</div>
			<div class="tn-more-popup">
				${i.map(e=>{if("divider"===e.type)return'<div style="height:10px;opacity:0.2;"></div>';let t="";var i,n;return e.shortcut&&(t=e.shortcut.includes(" + ")?([i,n]=e.shortcut.replace("Cmd",cmdSymbol()).replace("Shift","⇧").split(" + "),`<span class="tn-more-popup__key">${i} <span class="tn-more-popup__plus">+</span> ${n}</span>`):`<span class="tn-more-popup__key">${e.shortcut}</span>`),`
							<div class="tn-more-popup__item" data-shortcut="${e.shortcut}" data-label="${e.label}">
								<span class="tn-more-popup__item-title tn-more-${e.label}">${e.title}</span>
								${t}
							</div>
						`}).join("")}
			</div>
		</div>
	`;var t=e.querySelector(".tn-more-btn"),n=e.querySelector(".tn-more-popup"),t=(t.addEventListener("click",()=>{moremenu__open()}),n.addEventListener("click",e=>{e=e.target.closest(".tn-more-popup__item");if(e){const t=e.getAttribute("data-label");e=i.find(e=>e.label===t);e&&(e.handler(),moremenu__close())}}),e.querySelector(".tn-guides")),n=(e.querySelector(".tn-more-grid").innerHTML=t&&t.classList.contains("tn-display-none")?"Show Grid":"Hide Grid",e.querySelector(".tn-right-box"));e.querySelector(".tn-more-sett").innerHTML=n&&n.classList.contains("tn-display-none")?"Show Settings":"Hide Settings",e.querySelector(".tn-more-layers").innerHTML=window.tn.flags.isLayersPanelOpen?"Hide Layers":"Show Layers";e.querySelector(".tn-more-rulers").innerHTML=window.tn.flags.isRulersShow?"Hide Rulers":"Show Rulers";t=e.querySelector(".tn-publish-btn"),n=document.querySelector(".tn-more-publish").closest(".tn-more-popup__item");window.tn.flags.isPublishShow?(t.style.display="block",n.style.display="flex"):(t.style.display="none",n.style.display="none"),e.querySelector(".tn-help-btn").addEventListener("click",()=>("RU"==window.tn.lang?window.open("http://help-ru.tilda.ws/zero","_blank"):window.open("http://help.tilda.ws/zero","_blank"),!1))}function tn_toggleMoreRedoVisibility(){var e=localStorage.getItem("redo_"+window.tn.artboard_id),t=document.querySelector(".tn-more-redo").closest(".tn-more-popup__item");t.style.display=e&&"[]"!==e?"flex":"none"}function tn_screensettings__open(e){(e=e instanceof HTMLElement?$(e):e).addClass("tn-res-settings_active"),allelems__unselect(),$(".tooltipster-base").remove(),tn_screenSettings__hideAllAlerts(),tn_screenSettings__drawPanel(e),tn_screenSettings__setHandlers(e)}function tn_screensettings__close(e){tn_console("func: tn_screensettings__close"),tn_screenSettings__checkScreensChanged(e=e instanceof HTMLElement?$(e):e)&&!window.confirm("You have unsaved changes in Breakpoints Settings. Do you want to leave?")||e.removeClass("tn-res-settings_active")}function tn_screenSettings__drawPanel(e,t){t=t||JSON.parse(JSON.stringify(window.tn.screens)),window.tn.screensCached=JSON.parse(JSON.stringify(window.tn.screens));var i=10===t.length,n="",o="",s=(Array.prototype.forEach.call(t,function(e){o+=e+","}),o.substring(0,o.length-1)===window.tn.screens_default_str),t=(e.find(".tn-screens-settings").remove(),Array.prototype.forEach.call(t,function(e){var t=e<480?"320":e<640?"480":e<960?"640":e<1200?"960":e<1600?"1200":"1600";n+='<div data-screen="'+e+'" class="tn-screens-settings__row"><div class="tn-screens-settings__icon"><div class="tn-res-icon tn-res-icon_'+t+'"></div></div><div class="tn-screens-settings__input-wrapper"><input value="'+e+'" class="sui-input tn-screens-settings__input"></div><div class="tn-screens-settings__remove tooltip tooltipstered" data-tooltip="Delete"></div><div class="tn-screens-settings__done tooltip tooltipstered" data-tooltip="Update" style="display: none"></div></div>'}),'<div class="tn-screens-settings"><div class="tn-screens-settings__title"><span class="tn-screens-settings__title__text">Breakpoints, px</span></div><div class="tn-screens-settings__wrapper">'+n+'</div><div class="tn-screens-settings__section tn-screens-settings__section_active tn-screens-settings__section_main">'+(i?"":'<button class="sui-btn sui-btn_sm tn-screens-settings__btn tn-screens-settings__btn_add">Add breakpoint</button>')+(s?"":'<button class="sui-btn sui-btn_sm tn-screens-settings__btn tn-screens-settings__reset">Reset to default</button>')+'<button class="sui-btn sui-btn_sm tn-screens-settings__btn tn-screens-settings__btn_save'+(i?" tn-screens-settings__btn_full":"")+'">Save</button></div></div>');e.append(t),tn_tooltip_update()}function tn_screenSettings__setHandlers(o,s){s=s||JSON.parse(JSON.stringify(window.tn.screens));var e=o.find(".tn-screens-settings__btn_add"),t=o.find(".tn-screens-settings__btn_save"),i=o.find(".tn-screens-settings__row:not(.tn-screens-settings__row_new) .tn-screens-settings__input"),n=o.find(".tn-screens-settings__row .tn-screens-settings__remove"),l=o.find(".tn-screens-settings__row .tn-screens-settings__done"),a=o.find(".tn-screens-settings__reset"),d=o.find(".sui-toggle-div.js-add .sui-input"),r=o.find(".sui-toggle-div.js-del .sui-input");function _(){var e=$(this),t=e.closest(".tn-screens-settings__row"),i=t.attr("data-screen"),n=e.val();n.length?(n=parseInt(n,10),isNaN(n)||n<320||1920<n?!n||isNaN(n)?(tn_screenSettings__showAlert("Incorrect number","error"),setTimeout(function(){e.focus(),e.select()}),this.classList.add("error")):n<320?(tn_screenSettings__showAlert("Minimum breakpoint resolution 320px","error"),setTimeout(function(){e.focus(),e.select()}),this.classList.add("error")):1920<n&&(tn_screenSettings__showAlert("Maximum breakpoint resolution 1920px","error"),setTimeout(function(){e.focus(),e.select()}),this.classList.add("error")):i!=n?-1<s.indexOf(n)?(tn_screenSettings__showAlert("Breakpoint already exists","error"),setTimeout(function(){e.focus(),e.select()})):(window.tn.flags.isSettingsFocused=!1,t.attr("data-screen",n),s=tn_screensettings__updateScreen(s,i,n),isChanged=!0,tn_screenSettings__drawPanel(o,s),tn_screenSettings__setHandlers(o,s),tn_screenSettings__highlightNewScreen(o,n)):(window.tn.flags.isSettingsFocused=!1,window.tn.flag_screenSettings_isKeyboardUnfocus=!0,e.trigger("blur"))):e.val(i)}a.click(function(){var e,t;confirm("Are you sure you want to reset Breakpoints to default?")&&(o.removeClass("tn-res-settings_active"),tn_screensettings__addUndo([320,480,640,960,1200]),e=tn_screenSettings__compareScreens(window.tn.screensCached,[320,480,640,960,1200]),t=window.tn.screensCached[window.tn.screensCached.length-1],e.forEach(function(e){e.from===e.to&&1200!==e.to&&e.from!==t||tn_screenSettings__transferFields(e.from,e.to,t,1200)}),tn_screensettings__save([320,480,640,960,1200]),tn_screenSettings__showAlert("Breakpoints Settings are reset to default","success"))}),e.click(function(){window.tn.flags.isSettingsFocused||tn_screenSettings__insertAddInput(o,s)}),i.on("click",function(){$(this).select()}),i.off("focus"),i.on("focus",function(){window.tn.flags.isSettingsFocused=!0}),i.off("focusout"),i.on("focusout",function(){window.tn.flag_screenSettings_isKeyboardUnfocus?window.tn.flag_screenSettings_isKeyboardUnfocus=!1:_.bind(this)()}),i.on("keydown",function(e){13===e.keyCode&&_.bind(this)()}),i.on("focus",function(){var e=this.closest(".tn-screens-settings__row"),t=e.querySelector(".tn-screens-settings__remove"),e=e.querySelector(".tn-screens-settings__done");t.style.display="none",e.style.display="block"}),i.on("focusout",function(){var e=this.closest(".tn-screens-settings__row"),t=e.querySelector(".tn-screens-settings__remove"),e=e.querySelector(".tn-screens-settings__done");t.style.display="block",e.style.display="none"}),i.on("input",function(){var e,t=parseInt(this.value);t&&!isNaN(t)&&(this.classList.remove("error"),t<320||1920<t?e="unknow":t<480?e="320":t<640?e="480":t<960?e="640":t<1200?e="960":t<1600?e="1200":t<=1920&&(e="1600"),(t=this.closest(".tn-screens-settings__row").querySelector(".tn-res-icon")).className="",t.classList.add("tn-res-icon","tn-res-icon_"+e))}),l.one(function(){_.bind(this)()}),n.click(function(){var e;2===s.length?tn_screenSettings__showAlert("Must have at least 2 breakpoints","error"):(e=$(this).closest(".tn-screens-settings__row").attr("data-screen"),s=tn_screensettings__removeScreen(s,e),tn_screenSettings__drawPanel(o,s),tn_screenSettings__setHandlers(o,s))}),t.click(function(){var e=o.find(".tn-screens-settings__input-add");if(e.length){var t,i,n,e=parseInt(e.val(),10);if(e&&!isNaN(e)&&320<=e&&e<=1920&&-1===s.indexOf(e))return s.push(e),tn_screenSettings__sort(s),tn_screensettings__addUndo(s),t=tn_screenSettings__compareScreens(window.tn.screensCached,s),i=window.tn.screensCached[window.tn.screensCached.length-1],n=s[s.length-1],t.forEach(function(e){e.from===e.to&&e.to!==n&&e.from!==i||tn_screenSettings__transferFields(e.from,e.to,i,n)}),tn_screensettings__save(s),tn_screenSettings__showAlert("New breakpoint saved!","success"),void(window.tn.flags.isSettingsFocused=!1)}tn_screenSettings__checkScreensChanged(o)?(tn_screensettings__addUndo(s),t=tn_screenSettings__compareScreens(window.tn.screensCached,s),i=window.tn.screensCached[window.tn.screensCached.length-1],n=s[s.length-1],t.forEach(function(e){e.from===e.to&&e.to!==n&&e.from!==i||tn_screenSettings__transferFields(e.from,e.to,i,n)}),tn_screensettings__save(s),tn_screenSettings__showAlert("New breakpoint saved!","success")):(window.tn.flags.isSettingsFocused=!1,o.removeClass("tn-res-settings_active"))}),r.add(d).on("click",function(){($checkBox=$(this)).hasClass("sui-toggle_on")?($checkBox.removeClass("sui-toggle_on"),$checkBox.removeAttr("checked")):($checkBox.addClass("sui-toggle_on"),$checkBox.attr("checked",!0))}),window.tn.flag_screenSettings_isListenersAdded||(document.addEventListener("keydown",function(e){var t=$(".tn-res-settings");27===e.keyCode&&t.hasClass("tn-res-settings_active")&&(tn_screenSettings__hideAllAlerts(),tn_screenSettings__checkScreensChanged(t)&&!window.confirm("You have unsaved changes in Breakpoints Settings. Do you want to leave?")||t.removeClass("tn-res-settings_active"))},!0),document.addEventListener("click",function(e){var t=$(".tn-res-settings");e.target.closest(".tn-res-settings")||e.target.closest(".tooltipster-base")||t.hasClass("tn-res-settings_active")&&(tn_screenSettings__hideAllAlerts(),tn_screenSettings__checkScreensChanged(t)&&!window.confirm("You have unsaved changes in Breakpoints Settings. Do you want to leave?")||t.removeClass("tn-res-settings_active"))},!0),window.tn.flag_screenSettings_isListenersAdded=!0)}function tn_screenSettings__insertAddInput(e,t){var i=e[0],n=i.querySelector(".tn-screens-settings__btn_add"),i=i.querySelector(".tn-screens-settings__section"),o=(n.remove(),i.insertAdjacentHTML("afterbegin",'<div class="tn-screens-settings__row-add"><div class="tn-screens-settings__icon"><div class="tn-res-icon tn-res-icon_unknow"></div></div><div class="tn-screens-settings__input-wrapper"><input value="" class="sui-input tn-screens-settings__input-add"></div><div class="tn-screens-settings__done tooltip tooltipstered" data-tooltip="Add"></div></div>'),tn_tooltip_update(),i.querySelector(".tn-screens-settings__input-add"));window.tn.flags.isSettingsFocused=!0,o.focus(),tn_screenSettings__setHandlersAddInput(i,o,n,t,e)}function tn_screenSettings__setHandlersAddInput(t,i,n,o,s){var l=t.querySelector(".tn-res-icon"),a=t.querySelector(".tn-screens-settings__row-add"),e=t.querySelector(".tn-screens-settings__done");i.addEventListener("input",function(){var e,t=parseInt(i.value);t&&!isNaN(t)&&(i.classList.remove("error"),t<320||1920<t?e="unknow":t<480?e="320":t<640?e="480":t<960?e="640":t<1200?e="960":t<1600?e="1200":t<=1920&&(e="1600"),l.className="",l.classList.add("tn-res-icon"),l.classList.add("tn-res-icon_"+e))}),i.addEventListener("blur",function(e){window.tn.flags.isSettingsFocused=!1,i.value.length||(a.remove(),t.insertAdjacentElement("afterbegin",n))}),e.addEventListener("click",function(){i.value.length?tn_screenSettings__saveNewScreen(i,s,o):(a.remove(),t.insertAdjacentElement("afterbegin",n))}),i.addEventListener("keydown",function(e){"Enter"===e.code&&(i.value.length?(window.tn.flags.isSettingsFocused=!1,tn_screenSettings__saveNewScreen(i,s,o)):(a.style.display="none",t.insertAdjacentElement("afterbegin",n)))})}function tn_screenSettings__saveNewScreen(e,t,i){var n=parseInt(e.value,10);!n||isNaN(n)?(tn_screenSettings__showAlert("Incorrect number","error"),e.classList.add("error"),setTimeout(function(){$(e).focus(),$(e).select()}),window.tn.flags.isSettingsFocused=!0):n<320?(tn_screenSettings__showAlert("Minimum breakpoint resolution 320px","error"),e.classList.add("error"),setTimeout(function(){$(e).focus(),$(e).select()}),window.tn.flags.isSettingsFocused=!0):1920<n?(tn_screenSettings__showAlert("Maximum breakpoint resolution 1920px","error"),e.classList.add("error"),setTimeout(function(){$(e).focus(),$(e).select()}),window.tn.flags.isSettingsFocused=!0):-1!==i.indexOf(n)?(tn_screenSettings__showAlert("Breakpoint already exists","error"),e.classList.add("error"),setTimeout(function(){$(e).focus(),$(e).select()}),window.tn.flags.isSettingsFocused=!0):(window.tn.flags.isSettingsFocused=!1,i.push(n),tn_screenSettings__drawPanel(t,i=tn_screenSettings__sort(i)),tn_screenSettings__setHandlers(t,i),tn_screenSettings__highlightNewScreen(t,n))}function tn_screenSettings__showAlert(e,t){var i=(1e4*Math.random()).toFixed(),n=(document.body.insertAdjacentHTML("beforeend",'<div class="tn-screens-settings__alert-container alert'+i+'"><div class="tn-screens-settings__alert '+t+'"><p class="tn-screens-settings__alert-message">'+e+'</p><button class="tn-screens-settings__alert-close">+</button></div></div>'),document.querySelector(".alert"+i));n.addEventListener("click",function(){tn_screenSettings__hideAlert(n)}),setTimeout(function(){n.classList.add("show")},100),setTimeout(function(){tn_screenSettings__hideAlert(n)},4e3)}function tn_screenSettings__hideAlert(e){e.classList.remove("show"),e.classList.add("hide"),setTimeout(function(){e.remove()},1e3)}function tn_screenSettings__hideAllAlerts(){var e=document.querySelectorAll(".tn-screens-settings__alert-container");Array.prototype.forEach.call(e,function(e){e.classList.remove("show"),e.classList.add("hide"),setTimeout(function(){e.remove()},300)})}function tn_screenSettings__highlightNewScreen(e,t){var i=e[0].querySelector('[data-screen="'+t+'"]');setTimeout(function(){i.classList.add("new-screen")}),setTimeout(function(){i.classList.remove("new-screen")},800)}function tn_screenSettings__convertScreensToStr(i){var n="";return i.forEach(function(e,t){n+=parseInt(e,10),t!=i.length-1&&(n+=",")}),n}function tn_screenSettings__transferFields(n,o,s,l){var i=$(".tn-artboard"),e=(e=i.attr("data-project-zb_grid"))?JSON.parse(e):{},t="";n===s?(t=i.attr("data-artboard-grid")||e.ab_grid,i.removeAttr("data-artboard-grid"),delete e.ab_grid):(t=i.attr("data-artboard-grid-res-"+n)||e["ab_grid-res-"+n],i.removeAttr("data-artboard-grid-res-"+n),delete e["ab_grid-res-"+o]),t&&n===o&&(o===l?(e.ab_grid=t,i.attr("data-artboard-grid",t)):(e["ab_grid-res-"+o]=t,i.attr("data-artboard-grid-res-"+o,t))),l<s&&n===o&&(delete e.ab_grid,i.removeAttr("data-artboard-grid")),i.removeAttr("data-project-zb_grid"),i.attr("data-project-zb_grid",JSON.stringify(e)),window.tn.ab_fields.forEach(function(e){var t;-1!==["height"].indexOf(e)&&(t="",t=n===s?i.attr("data-artboard-"+e):i.attr("data-artboard-"+e+"-res-"+n))&&(o===l?i.attr("data-artboard-"+e,t):i.attr("data-artboard-"+e+"-res-"+o,t))}),$(".tn-elem").each(function(e,t){var i=$(t);i.attr("data-fields").split(",").forEach(function(e){var t;-1!==["width","height","top","left","fontsize"].indexOf(e)&&(t="",t=n===s?i.attr("data-field-"+e+"-value"):i.attr("data-field-"+e+"-res-"+n+"-value"))&&(o===l?i.attr("data-field-"+e+"-value",t):i.attr("data-field-"+e+"-res-"+o+"-value",t))})})}function tn_screenSettings__compareScreens(e,l){e=e.slice(),l=l.slice();var a=[],i=[];function d(e,t){i.push({from:e,to:t}),a.push(t)}return e.forEach(function(e){-1!==l.indexOf(e)&&d(e,e)}),e=e.filter(function(e){return!a.includes(e)}),l=l.filter(function(e){return!a.includes(e)}),e.forEach(function(t){var i,n,o,s;-1!==l.indexOf(t)&&-1===a.indexOf(t)?d(t,t):(i=[],n=[],l.forEach(function(e){-1===a.indexOf(e)&&(i.push({diff:Math.abs(e-t),nScreen:e}),n.push(Math.abs(e-t)))}),o=Math.min.apply(null,n),s=0,i.forEach(function(e){e.diff===o&&(s=e.nScreen)}),s&&d(t,s))}),i}function tn_screensettings__save(e){setTNobj_screens(tn_screenSettings__convertScreensToStr(e)),tn_drawResMenu(),goResolutionMode(window.tn.topResolution),tn_set_lastChanges(),guide__updateRowsBreakpointsPopup()}function tn_screensettings__addUndo(e){tn_undo__Add("screens_save",{previousScreens:tn_screenSettings__convertScreensToStr(window.tn.screens),currentScreens:tn_screenSettings__convertScreensToStr(e)})}function tn_screensettings__updateScreen(e,t,i){t=parseInt(t,10),i=parseInt(i,10);t=e.indexOf(t);return e[t]=i,e=tn_screenSettings__sort(e)}function tn_screenSettings__sort(e){return e.sort(function(e,t){return e-t})}function tn_screensettings__removeScreen(e,t){if((t=parseInt(t))&&!isNaN(t))return t=e.indexOf(t),e.splice(t,1),e}function tn_screenSettings__checkScreensChanged(e){var t="",i="";return e.find(".tn-screens-settings__input").each(function(){t+=$(this).val()}),window.tn.screens.forEach(function(e){i+=e}),t!==i}function contextMenu__open(e,t){tn_console(),window.tn.flags.isSettingsFocused||(contextMenu__close(),(!window.tn.flags.isMultiEdit&&null!==e||e&&!e.hasClass("tn-elem__selected"))&&elem__Click(e,t,!0),null!==e?contextmenu__el_draw(e,t):contextmenu__ab_draw(t),$(document).off("click focusout",function(e){contextMenu__close(e)}),$(document).on("click focusout",function(e){e.target.classList.contains("tn-contextmenu-box__item_clear-breakpoints--disable")||contextMenu__close(e)}),$(document).off("keyup",contextMenu__closeOnEsc),$(document).on("keyup",contextMenu__closeOnEsc),document.addEventListener("zoom",contextMenu__zoomHandler),tn_console_runtime())}function contextMenu__zoomHandler(e){var t,i,e=e.detail.zoom,n=document.querySelector(".tn-contextmenu-box");n&&(t=parseInt(n.getAttribute("data-initial-left"),10),i=parseInt(n.getAttribute("data-initial-top"),10),Object.assign(n.style,{left:t*e+"px",top:i*e+"px"}))}function contextMenu__closeOnEsc(e){27===e.keyCode&&contextMenu__close()}function contextMenu__close(e){if(e&&"click"===e.type){var t=$(".tn-contextmenu-box__section_dropdown");if(t.is(e.target)||0!==t.has(e.target).length)return}$(document).off("click focusout",contextMenu__close),$(document).off("keyup",contextMenu__closeOnEsc),$(".tn-contextmenu-box").remove(),document.removeEventListener("zoom",contextMenu__zoomHandler)}function contextmenu__el_draw(i,e){var t=i.attr("data-elem-type"),n=i.attr("data-elem-id"),o=elem__getFieldValue(i,"groupid"),s=o||i.hasClass("tn-group"),l=null,a=elem__getFieldValue(i,"lock"),d=!1,r=!1,_=sbs__getStepsObj(i,!1),c=elem__checkForAdaptive(),o=($(".tn-elem__selected").each(function(){function e(e){return void 0!==e&&""!==e}var t,i,n=$(this);if(d||(t=elem__getFieldValue(n,"sbsevent"),d=e(t)),r||(t=elem__getFieldValue(n,"animstyle"),i=elem__getFieldValue(n,"animprx"),n=elem__getFieldValue(n,"animfix"),r=e(t)||e(i)||e(n)),d&&r)return!1}),!s||(l=group__getById(o=o||i.attr("id"))).hasClass("tn-group__open")||(a=group__getFieldValue(l,"lock")),[{options:[{name:"forward",text:"Bring Forward"},{name:"backward",text:"Send Backward"},{name:"front",text:"Bring to Front"},{name:"back",text:"Send to Back"}]},{options:[{name:"copy",text:"Copy",shortcut:cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> C'},{name:"paste",text:"Paste",shortcut:cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> V'},{name:"duplicate",text:"Duplicate"},{name:"delete",text:"Delete",shortcut:"Del"}]},{options:[{name:"group",isHidden:!(group__isSelectedOnlyGroups()||0===$(".tn-group__open .tn-elem__selected").length&&1<$(".tn-artboard > .tn-elem__selected").length&&0===$(".tn-group__selected").length),text:s?"Ungroup":"Group",shortcut:s?cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> Shift <span class="tn-shortcuts__plus">+</span> G':cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> G'},{name:"lock",text:"y"===a?"Unlock":"Lock",shortcut:"L"},{name:"hide",text:"Hide"},{name:c?"clear-breakpoints":"clear-breakpoints--disable",text:"Clear Adaptive Design"}]}]),l=(window.tn.flags.isMultiEdit||o.push({isHidden:"form"!==t,options:[{name:"inputs",text:"Edit Input Fields"},{name:"services",text:"Edit Services"}]},{isHidden:"html"!==t,options:[{name:"code",text:"Edit Code"}]},{isHidden:"shape"!==t&&"image"!==t||"shape"===t&&!elem__getFieldValue(i,"bgimg"),options:[{name:"open-image",text:"Open Image In New Tab",tag:"a"},{name:"copy-url",text:"Copy Image Url"}]},{isHidden:i.hasClass("tn-elem__sbsmode"),options:[{name:"classname",text:"Add CSS Class Name"}]}),o.push({isDropdown:!0,name:"animation",text:"Animation",isHidden:+window.tn.curResolution!==window.tn.topResolution,options:[{name:"copybasic",isHidden:!r,text:"Copy Basic Animation",disableMultiEdit:!0},{name:"removebasic",isHidden:!r,text:"Remove Basic Animation"},{name:"pastebasic",isHidden:null===localStorage.getItem("tzerobasicanimation")||d,text:"Paste Basic Animation"},{name:"copysbs",isHidden:_.length<=1,text:"Copy SBS Animation",disableMultiEdit:!0},{name:"removesbs",isHidden:!d,text:"Remove SBS Animation"},{name:"pastesbs",isHidden:null===localStorage.getItem("tzerosbsanimation"),text:"Paste SBS Animation"},{name:"sbs",text:d?"Edit SBS Animation":"Add SBS Animation",disableMultiEdit:!0}]}),contextmenu__draw_box(o,t)),a=($("body").append(l),$(".tn-contextmenu-box"));contextmenu__setPosition(a,e),contextmenu__dropdown_setHandlers(a),a.find(".tn-contextmenu-box__item_forward").click(function(){tn_arrange__forward(i)}),a.find(".tn-contextmenu-box__item_backward").click(function(){tn_arrange__backward(i)}),a.find(".tn-contextmenu-box__item_front").click(function(){tn_arrange__sendFront(i)}),a.find(".tn-contextmenu-box__item_back").click(function(){tn_arrange__sendBack(i)}),a.find(".tn-contextmenu-box__item_paste").click(function(){elem__selected__buf__Paste()}),a.find(".tn-contextmenu-box__item_copy").click(function(){elem__selected__buf__Copy()}),a.find(".tn-contextmenu-box__item_duplicate").click(function(){tn_elem__copy(i)}),a.find(".tn-contextmenu-box__item_delete").click(function(){tn_elem__delete(i)}),a.find(".tn-contextmenu-box__item_lock").click(function(){tn_elem__lock(i)}),a.find(".tn-contextmenu-box__item_hide").click(function(){tn_elem__hide(window.tn.flags.isMultiEdit?null:i,!1)}),a.find(".tn-contextmenu-box__item_group").click(function(){(s?(group__unmake(),panelSettings__openTimeout):group__create)()}),a.find(".tn-contextmenu-box__item_sbs").click(function(){var e=$(".tn-sett-btn");e.hasClass("tn-sett-btn_active")&&e.trigger("click"),panelSBS__open(n)}),a.find(".tn-contextmenu-box__item_classname").click(function(){var e=$(".tn-sett-btn");goResolutionMode(window.tn.topResolution),elem__select(i),e.hasClass("tn-sett-btn_active")&&e.trigger("click"),setTimeout(()=>{$('[data-control-field="classname"]').closest(".sui-panel__table").css("display","table"),$(".tn-right-box").scrollTop($('[data-control-field="classname"]').position().top-80),$('[data-control-field="classname"] input').focus()},50)}),a.find(".tn-contextmenu-box__item_inputs").click(function(){window.tn.flags.isFormEditorLoading||(window.tn.flags.isFormEditorLoading=!0,tn_form__preOpenEditor(n))}),a.find(".tn-contextmenu-box__item_services").click(function(){tn_receivers__openEditor(n)}),a.find(".tn-contextmenu-box__item_code").click(function(){tn_html__openEditor(n)}),a.find(".tn-contextmenu-box__item_open-image").attr("href",elem__getFieldValue(i,"shape"===t?"bgimg":"img")),a.find(".tn-contextmenu-box__item_open-image").attr("target","_blank"),a.find(".tn-contextmenu-box__item_copy-url").click(function(){tn_copyToClipboard(elem__getFieldValue(i,"shape"===t?"bgimg":"img"))}),a.find(".tn-contextmenu-box__item_copybasic").click(function(){panelSettings__copyAnimation(n)}),a.find(".tn-contextmenu-box__item_pastebasic").click(function(){panelSettings__pasteAnimation(),panelSettings__pasteAnimationAttr(n)}),a.find(".tn-contextmenu-box__item_copysbs").click(function(){sbs__copy__sbsAnimation(n)}),a.find(".tn-contextmenu-box__item_pastesbs").click(function(){if(group__isSelectedOnlyGroups()||0!==$(".sui-panel__section-sbsopenbtn").length){if(window.tn.flags.isMultiEdit)for(var e=0;e<window.tn.multi_edit_elems.length;e++){var t=$(window.tn.multi_edit_elems[e]);elem__removeBasicAnimation(t),sbs__paste__sbsAnimationAttr(t.attr("data-elem-id"))}else elem__removeBasicAnimation(i),sbs__paste__sbsAnimationAttr(n);control__drawUi__sbsopenbtn(n)}else sbs__paste__sbsAnimation()}),a.find(".tn-contextmenu-box__item_removesbs").click(function(){var e;confirm("Are you sure?")&&(tn_undo__Add("elem_save",e=$(".tn-elem__selected")),elem__removeSBSAnimation(e),tn_set_lastChanges(),panelSBS__close(e),control__drawUi__sbsopenbtn(n))}),a.find(".tn-contextmenu-box__item_removebasic").click(function(){var e=$(".tn-elem__selected");tn_undo__Add("elem_save",e),e.each(function(){elem__removeBasicAnimation($(this))}),panelSettings__cleanBasicAnimtion(e),tn_set_lastChanges()}),a.find(".tn-contextmenu-box__item_clear-breakpoints").click(function(){var e;c&&(tn_undo__Add("clear_adaptive_attributes",e=$(".tn-elem__selected")),e.each(function(){elem__clearAdaptiveAttributes(this)}),e=elem__getBreakpointsForAdaptive(!0).join(", "),goResolutionMode(window.tn.topResolution),td__showBubbleNotice(`
			The adaptive values of the selected elements have been successfully
			deleted from the following breakpoints: ${e}
		`,7e3))})}function contextmenu__ab_draw(e){var t=[{options:[{name:"paste",text:"Paste",shortcut:cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> V',handler:()=>{elem__selected__buf__Paste(),tn_set_lastChanges()}}]},{isDropdown:!0,name:"add-elem",text:"Add Element",options:[{name:"add-elem-text",text:"Text",handler:(e,t)=>addText(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-image",text:"Image",handler:(e,t)=>addImage(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-shape",text:"Shape",handler:(e,t)=>addShape(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-button",text:"Button",handler:(e,t)=>addButton(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-video",text:"Video",handler:(e,t)=>addVideo(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-tooltip",text:"Tooltip",handler:(e,t)=>addTooltip(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-html",text:"HTML",handler:(e,t)=>addHtml(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-form",text:"Form",handler:(e,t)=>addForm(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-gallery",text:"Gallery",handler:(e,t)=>addGallery(!1,!1,{top:t.top,left:t.left})},{name:"add-elem-vector",text:"Vector",handler:(e,t)=>addVector(!1,!1,{top:t.top,left:t.left})}]},{options:[{name:"hide-layers",text:window.tn.flags.isLayersPanelOpen?"Hide Layers":"Show Layers",shortcut:cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> L',handler:()=>{panelLayers__showhide()}},{name:"hide-grid",text:$(".tn-grid").hasClass("tn-display-none")?"Show Grid":"Hide Grid",shortcut:"G",handler:()=>{grid__toggle()}},{name:"hide-ui",text:window.tn.flags.isUiHidden?"Show UI":"Hide UI",shortcut:"F",handler:()=>{tn_toggleUI()}}]},{options:[{name:"zoom-in",text:"Zoom In",shortcut:cmdSymbol()+' <span class="tn-more-popup__plus">+</span> +',handler:()=>{tn_zoomIn()}},{name:"zoom-out",text:"Zoom Out",shortcut:cmdSymbol()+' <span class="tn-more-popup__plus">+</span> −',handler:()=>{tn_zoomOut()}},{isHidden:1==window.tn.zoom,name:"zoom-reset",text:"Zoom Reset",handler:()=>{tn_zoomReset()}}]},{isDropdown:!0,name:"guides",text:"Guides",options:[{isHidden:!$(".tn-guide").length,name:"guides-hide",text:"none"===$(".tn-guides-wrpr").css("display")?"Show Guides":"Hide Guides",handler:()=>{tn_toggleGuides()}},{name:"guides-horizontal",text:"Add Horizontal",shortcut:cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> H',handler:()=>{tn_undo__Add("guides_add",guide__add("","h"))}},{name:"guides-vertical",text:"Add Vertical",shortcut:cmdSymbol()+'⇧ <span class="tn-shortcuts__plus">+</span> H',handler:()=>{tn_undo__Add("guides_add",guide__add("","v"))}}]}],i=(document.body.insertAdjacentHTML("beforeend",contextmenu__draw_box(t)),$(".tn-contextmenu-box"));contextmenu__setPosition(i,e),contextmenu__dropdown_setHandlers(i),contextmenu__setHandlers(i,t)}function contextmenu__draw_box(e){var t="";function i(e){for(var t="",i=0;i<e.length;i++){var n,o=e[i];o.isHidden||o.disableMultiEdit&&window.tn.flags.isMultiEdit||(t=(t+="<"+(n=o.tag||"div")+' class="tn-contextmenu-box__item tn-contextmenu-box__item_'+o.name+'">')+o.text,o.shortcut&&(t=(t+='<span class="tn-contextmenu-box__item__shortcut">')+(o.shortcut||"")+"</span>"),t+="</"+n+">")}return t}t+='<div class="tn-contextmenu-box">';for(var n=0;n<e.length;n++){var o=e[n];o.isHidden||(t=o.isDropdown?(t=(t=t+('<div class="tn-contextmenu-box__section tn-contextmenu-box__section_dropdown tn-contextmenu-box__section_'+o.name)+'"><div class="tn-contextmenu-box__item">')+o.text+'</div><div class="tn-contextmenu-box__section tn-contextmenu-box__section_list">')+i(o.options)+"</div></div>":(t+='<div class="tn-contextmenu-box__section">')+i(o.options)+"</div>")}return t+="</div>"}function contextmenu__dropdown_setHandlers(e){e.find(".tn-contextmenu-box__section_dropdown").hover(function(){var e=$(this),t=e.find(".tn-contextmenu-box__section_list"),i=(t.css("display","block"),$(e.find(".tn-contextmenu-box__item")[0]).addClass("tn-contextmenu-box__item_active"),e.width()),n=t.width(),o=t.height(),e=e.offset(),s=window.scrollY+window.innerHeight,l=window.scrollX+window.innerWidth;s<e.top+o&&t.css({top:"auto",bottom:0}),l<e.left+i+n&&t.css({right:"auto",left:"-100%"})},function(){var e=$(this);e.find(".tn-contextmenu-box__section_list").css("display",""),$(e.find(".tn-contextmenu-box__item")[0]).removeClass("tn-contextmenu-box__item_active")}),e.find(".tn-contextmenu-box__section_dropdown .tn-contextmenu-box__section .tn-contextmenu-box__item").click(function(){contextMenu__close()})}function contextmenu__setPosition(e,t){var e=tn__getElem(e),{scrollX:i,scrollY:n,innerWidth:o,innerHeight:s}=window,{offsetWidth:l,offsetHeight:a}=e,d=n+t.clientY,s=n+s-(n+t.clientY+a),n=0<s?d:d+s-10,a=i+t.clientX,d=0<i+o-(i+t.clientX+l)?a:a-l-10;Object.assign(e.style,{left:d+"px",top:n+"px"}),e.setAttribute("data-initial-left",d/window.tn.zoom),e.setAttribute("data-initial-top",n/window.tn.zoom)}function contextmenu__setHandlers(e,t){const i=tn__getElem(e),n=i.getBoundingClientRect();t.forEach(e=>{e.options.forEach(t=>{t.isHidden||i.querySelector(".tn-contextmenu-box__item_"+t.name).addEventListener("click",e=>t.handler(e,n))})})}function panelLayers__open(){tn_console("func: panelLayers__open"),window.tn.flags.isLayersPanelOpen=!0,JSON.parse(null===sessionStorage.getItem("tzerolayerspanel"))&&(e={turn:"on",type:"layers"},sessionStorage.setItem("tzerolayerspanel",JSON.stringify(e))),elem__checkZIndexes__Dubble();var e,t=$(".tn-left-box");t.addClass("tn-left-box_show"),t.html('<div class="tn-left-box__header"><span class="tn-left-box__caption tn-left-box__caption-layers tn-left-box__caption_active">Layers</span><span class="tn-left-box__caption tn-left-box__caption-blocks">Blocks</span><img src="img/modalClosebutton.png" class="tn-left-box__icon" width="15px"></div>'),$(".tn-left-box__icon").on("click",function(){panelLayers__close()}),t.click(function(){floor__mousedown()}),t.append('<div class="tn-layers"></div>');$(".tn-layers").append('<div class="sui-panel__section sui-layers-box" style="padding:0;"></div><div class="sui-panel__section sui-blocks-box" style="padding:0;"></div>'),layers__layersbox__draw($(".tn-layers .sui-layers-box")),layers__blocksbox__draw($(".tn-layers .sui-blocks-box")),layers__blockstoggle__draw(t),$(".tn-more-layers").html("Hide Layers"),$(".tn-left-box__caption").on("click",function(){$(".tn-left-box__caption").removeClass("tn-left-box__caption_active"),$(".sui-layers-box").css("display","block"),$(".sui-blocks-box").css("display","none"),$(".sui-block__toggle-wrapper").css("display","none"),$(this).addClass("tn-left-box__caption_active"),e={turn:"on",type:"layers"},sessionStorage.setItem("tzerolayerspanel",JSON.stringify(e))}),$(".tn-left-box__caption-blocks").on("click",function(){layers__blocksbox__open()});t=JSON.parse(sessionStorage.getItem("tzerolayerspanel"));null!==t&&"blocks"===t.type&&layers__blocksbox__open($(".tn-left-box__caption-blocks")),layers__blocksbox__addEvents(),window.tn.flags.isRulersShow&&rulers__updatePanels(!1,!0),"undefined"!=typeof _guide__scrollHandler&&_guide__scrollHandler()}function layers__blocksbox__open(){$(".tn-left-box__caption").removeClass("tn-left-box__caption_active"),$(".sui-layers-box").css("display","none"),$(".sui-blocks-box").css("display","block"),$(".sui-block__toggle-wrapper").css("display","block"),$(".tn-left-box__caption-blocks").addClass("tn-left-box__caption_active"),sessionStorage.setItem("tzerolayerspanel",JSON.stringify({turn:"on",type:"blocks"})),setTimeout(function(){layers__blocksbox__addSortable()},500)}function panelLayers__close(){tn_console("func: panelLayers__close"),window.tn.flags.isLayersPanelOpen=!1;sessionStorage.setItem("tzerolayerspanel",JSON.stringify({turn:"off",type:"layers"}));var e=$(".tn-left-box");e.html(""),e.removeClass("tn-left-box_show"),$(".tn-more-layers").html("Show Layers"),window.tn.flags.isRulersShow&&rulers__updatePanels(!1,!0),"undefined"!=typeof _guide__scrollHandler&&_guide__scrollHandler()}function layers__layersbox__draw(i){var n,l="",o=[],s=0,a=($(".tn-elem:not(.tn-elem__fake)").each(function(){var e=elem__getFieldValue(n=$(this),"groupid"),t={},i=(s=e?group__getHighestZIndexInGroup(e):n.attr("data-field-zindex-value")?+n.attr("data-field-zindex-value"):0,void 0===o[s]||e||console.log("error, duble zindex:"+s),t.id=n.attr("data-elem-id"),t.type=n.attr("data-elem-type"),t.lock=n.attr("data-field-lock-value"),t.invisible=n.attr("data-field-invisible-value"),t.text=n.attr("data-elem-type"),e&&(t.groupId=e),n.attr("data-field-layer-value"));void 0!==i&&""!=i?t.text=i:"text"===t.type?t.text=n.find(".tn-atom").text():"image"===t.type?("imgfishsquare.gif"!==(i=(i=n.find(".tn-atom__img").attr("src")).split("/").pop())&&18<i.length&&(i=".."+i.slice(-18)),t.text=i):"button"===t.type&&(t.text=n.attr("data-field-caption-value")),20<t.text.length&&(t.text=t.text.substring(0,17)+"..."),"text"===t.type&&(t.ico="text"),"image"===t.type&&(t.ico="image"),"shape"===t.type&&(t.ico="rectangle"),"button"===t.type&&(t.ico="button"),"video"===t.type&&(t.ico="video"),"html"===t.type&&(t.ico="html"),"tooltip"===t.type&&(t.ico="tooltip"),"form"===t.type&&(t.ico="form"),"gallery"===t.type&&(t.ico="gallery"),"vector"===t.type&&(t.ico="vector"),e?(i=$(".tn-elem#"+t.id).attr("data-field-zindex-value"),o[s]||(o[s]={groupId:e}),o[s][i]=t):o[s]=t}),o=o.reverse(),l+='<div class="sui-layers">',window.localStorage.getItem("tn-open-group-layers"));o.forEach(function(t){var e,i,n,o,s;t&&(t.groupId?(e=t.groupId,i=group__getFieldValue(s=$(".tn-group#"+e),"name"),n=group__getFieldValue(s,"lock"),o=group__getFieldValue(s,"hidden"),s=a&&-1<a.indexOf(e),l+='<div class="sui-layers__group'+("y"==o?" sui-layers__group_invisible":"")+(s?" sui-layers__group_shown":"")+'" data-layer-group-id="'+e+'"><div class="sui-layers__group__title"><div class="sui-layer__toggle"></div><div class="sui-layers__group__name">'+(i||"Group")+'</div><div class="sui-layer__lock'+("y"==n?" sui-layer__lock_yes":"")+'"><div class="sui-layer__lock__icon"></div></div><div class="sui-layer__invisible'+("y"==o?" sui-layer__invisible_yes":"")+'"><div class="sui-layer__invisible__icon"></div></div></div><div class="sui-layers__group__container">',Object.keys(t).reverse().forEach(function(e){"groupId"!==e&&(e=t[e],l+='<div class="sui-layers__item sui-layers__item_group'+(o||"y"!=e.invisible?"":" sui-layers__item_invisible")+'" data-layer-elem-id="'+e.id+'"><div class="sui-layer__icon sui-layer__icon_'+e.ico+'"></div><div class="sui-layer__text">'+e.text+'</div><div class="sui-layer__lock'+("y"==e.lock?" sui-layer__lock_yes":"")+(n?" sui-layer__lock_hidden":"")+'"><div class="sui-layer__lock__icon"></div></div><div class="sui-layer__invisible'+("y"==e.invisible?" sui-layer__invisible_yes":"")+(o?" sui-layer__invisible_hidden":"")+'"><div class="sui-layer__invisible__icon"></div></div></div>')}),l+="</div></div>"):l+='<div class="sui-layers__item'+("y"==t.invisible?" sui-layers__item_invisible":"")+'" data-layer-elem-id="'+t.id+'"><div class="sui-layer__icon sui-layer__icon_'+t.ico+'"></div><div class="sui-layer__text">'+tn_escapeHtml(t.text)+'</div><div class="sui-layer__lock'+("y"==t.lock?" sui-layer__lock_yes":"")+'"><div class="sui-layer__lock__icon"></div></div><div class="sui-layer__invisible'+("y"==t.invisible?" sui-layer__invisible_yes":"")+'"><div class="sui-layer__invisible__icon"></div></div></div>')}),l+="</div>",i.html(l),i.find(".sui-layer__toggle").click(function(e){e.stopPropagation(),$(this).parents(".sui-layers__group").toggleClass("sui-layers__group_shown");var t=[];i.find(".sui-layers__group").each(function(){var e=$(this);e.hasClass("sui-layers__group_shown")&&t.push(e.attr("data-layer-group-id"))}),window.localStorage.setItem("tn-open-group-layers",t)}),i.find(".sui-layers__item").click(function(e){var t=$(this).attr("data-layer-elem-id");elem__Click($("#"+t),e,"noedit",!0),layers__hightlight(),e.stopPropagation()}),i.find(".sui-layers__group__title").click(function(e){var t=$(this).parents(".sui-layers__group").attr("data-layer-group-id");elem__Click($(".tn-group#"+t),e),layers__hightlight(),e.stopPropagation()}),i.find(".sui-layer__lock").click(function(e){var t=$(this),i=t.parent().attr("data-layer-elem-id"),t=t.parents(".sui-layers__group").attr("data-layer-group-id");i?(elem__Click(i=$("#"+i),e,"noedit",!0),tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:i),elem__Lock()):t&&(group__select(t),group__lock(t)),tn_set_lastChanges(),e.stopPropagation()}),i.find(".sui-layer__invisible").click(function(e){var t=$(this),i=t.parent().attr("data-layer-elem-id"),n=elem__getFieldValue($("#"+i),"groupid"),t=t.parents(".sui-layers__group").attr("data-layer-group-id");if(n&&group__getFieldValue(group__getById(n),"hidden"))return;i?(elem__Click(n=$("#"+i),e,"noedit",!0),tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:n),elem__Invisible(n)):t&&(group__select(t),group__hide(t)),tn_set_lastChanges(),e.stopPropagation()}),i.find(".sui-layer__text").dblclick(function(){var e=$(this),t=e.parent().attr("data-layer-elem-id"),i=e.text();layers__changeName(e,"layer",i,"","",t),window.tn.flags.isSettingsFocused=!0}),i.find(".sui-layer__text").click(function(e){$(e.target).hasClass("sui-layer-text-inp")&&(window.tn.flags.isSettingsFocused=!0)}),i.find(".sui-layers__group__name").click(function(e){setTimeout(function(){$(e.target).hasClass("sui-layer-text-inp")&&(window.tn.flags.isSettingsFocused=!0)},0)}),i.find(".sui-layers__group__name").dblclick(function(){function t(){window.tn.flags.isSettingsFocused=!1;var e=o.val();0===(e=30<(e=(e=tn_stripTags(e)).replaceAll('"',"")).length?e.substring(0,30):e).length&&(e=n),o.parent().text(e),group__setFieldValue(i,"name",e)}var e=$(this),i=e.parents(".sui-layers__group").attr("data-layer-group-id"),n=e.text(),o=(e.html('<input type="text" value="20" autocomplete="off" class="sui-layer-text-inp">'),window.tn.flags.isSettingsFocused=!0,e.find(".sui-layer-text-inp"));o.val(n).focus(),o.select(),o.on("keyup",function(e){13===e.keyCode&&(e.preventDefault(),t())}),o.focusout(t)}),layers__hightlight(),layers__addSortable()}function layers__blockstoggle__draw(e){var t=localStorage.getItem("tzerotoggleblocksstate"),i="https://front.tildacdn.com/store/img/t-icon-switcher-on.png",n="https://front.tildacdn.com/store/img/t-icon-switcher-off.png",o=i,s=" sui-block__toggle_on";null!==t&&"off"===t&&(s=" sui-block__toggle_off",o=n),e.append('<div class="sui-block__toggle-wrapper"><div class="sui-block__toggle'+s+'"><img src="'+o+'" width="30px"></div><div class="sui-block__toggle-descr">Show only Zero Blocks</div></div>'),$(".sui-block__toggle-wrapper").on("click",function(){var e=$(this),t=$(".sui-blocks__item_ordinary");e.hasClass("sui-block__toggle_on")?(e.removeClass("sui-block__toggle_on"),e.addClass("sui-block__toggle_off"),e.find("img").attr("src",n),t.removeClass("sui-blocks__item_ordinary-hide"),localStorage.setItem("tzerotoggleblocksstate","off")):(e.removeClass("sui-block__toggle_off"),e.addClass("sui-block__toggle_on"),e.find("img").attr("src",i),t.addClass("sui-blocks__item_ordinary-hide"),localStorage.setItem("tzerotoggleblocksstate","on"))})}function layers__hightlight(){var i;window.tn.flags.isLayersPanelOpen&&0!==(i=$(".tn-layers .sui-layers-box")).length&&(i.find(".sui-layers__item").removeClass("sui-layers__item_active"),i.find(".sui-layers__group__title").removeClass("sui-layers__group__title_active"),$(".tn-group__selected, .tn-elem__selected").each(function(){var e,t=$(this);t.hasClass("tn-group")?(e=t.attr("id"),i.find(".sui-layers__group[data-layer-group-id="+e+"] .sui-layers__group__title").addClass("sui-layers__group__title_active")):(e=t.attr("data-elem-id"),i.find(".sui-layers__item[data-layer-elem-id="+e+"]").addClass("sui-layers__item_active"))}))}function layers__update(){window.tn.flags.isLayersPanelOpen&&layers__layersbox__draw($(".tn-layers .sui-layers-box"))}function panelLayers__showhide(){(window.tn.flags.isLayersPanelOpen?panelLayers__close:panelLayers__open)()}function layers__addSortable(){var e={opacity:.6,tolerance:"pointer",axis:"y",containment:".tn-layers",distance:6,revert:150,update:function(){layers__reSort()}};$(".sui-layers-box .sui-layers").sortable(Object.assign({},e,{connectWith:".sui-layers__group_shown .sui-layers__group__container"})),$(".sui-layers-box .sui-layers__group__container").sortable(Object.assign({},e,{connectWith:".sui-layers"}))}function layers__reSort(){var l=0,e=$(".sui-layers__item"),a=e.length;tn_undo__Add("elems_sort"),e.each(function(){var e=$(this),t=e.closest(".sui-layers__group"),i=e.attr("data-layer-elem-id"),n=a-l,o=$("#"+i),s=o.attr("data-field-zindex-value");e.hasClass("sui-layers__item_group")&&0===t.length?group__deleteElemFromGroup(o,elem__getFieldValue(o,"groupid")):!e.hasClass("sui-layers__item_group")&&t.length&&group__insertElemInGroup(o,t.attr("data-layer-group-id")),s!==n&&(tn_console(i),tn_console(n),o.attr("data-field-zindex-value",n),o.css("z-index",n),o.hasClass("tn-elem__selected"))&&(elem__renderViewOneField(o,"zindex"),panelSettings__updateUi(o,"zindex")),l++}),group__checkEmpty(),layers__update(),tn_set_lastChanges()}function layers__blocksbox__draw(t){var e=$(".tn-artboard").attr("data-page-id"),s=$(".tn-artboard").attr("data-record-id"),i={comm:"getrecordslist"};i.pageid=e,i.recordid=s,$.ajax({type:"POST",url:"/zero/get/",data:i,dataType:"text",success:function(e){var e=JSON.parse(e),o=(tn_console(e),'<div class="sui-blocks">');e.forEach(function(e){var t=localStorage.getItem("tzerotoggleblocksstate"),i=s===e.id?" sui-blocks__item_active":"",n=""!==e.ab_title&&void 0!==e.ab_title?e.ab_title:"Block #"+e.id,t=void 0!==e.z&&"y"===e.z?"":null===t||"on"===t?" sui-blocks__item_ordinary sui-blocks__item_ordinary-hide":" sui-blocks__item_ordinary";o+='<div class="sui-blocks__item'+i+t+'" data-openrecords-open-recordid="'+e.id+'" data-openrecords-open-pageid="'+e.pageid+'"><div class="sui-blocks__icon"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 9.5L10 1 9 6.5h4L7 15l1-5.5H4z" fill="#292929"/></svg></div><div class="sui-blocks__text">'+n+'</div><div class="sui-blocks__add tooltip" data-tooltip="Add new block"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 4V12" stroke="#000000"/><path d="M12 8L4 8" stroke="#000000"/></svg></div><div class="sui-blocks__dubl tooltip" data-tooltip="Duplicate block"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 6.5H9.5V12.5H3.5V6.5Z" stroke="#000000"/><path d="M7.5 5V3.5H13.5V9.5H11" stroke="#000000"/></svg></div><div class="sui-blocks__del tooltip" data-tooltip="Delete block"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 12V6.5H11.5V12C11.5 12.2761 11.2761 12.5 11 12.5H5C4.72386 12.5 4.5 12.2761 4.5 12Z" stroke="#000000"/><path d="M3 4H7V3H9V4H13V5H3V4Z" fill="#000000"/></svg></div></div>'}),o+="</div>",t.prepend(o)},error:function(){}})}function layers__blocksbox__addSortable(){$(".sui-blocks-box .sui-blocks").sortable({helper:"clone",opacity:.8,revert:!0,tolerance:"pointer",axis:"y",update:function(){layers__blocksbox__saveRecordsSort()},stop:function(e,t){var i,n,o,t=$(t.item);window.frameElement&&(n=t.attr("data-openrecords-open-recordid"),i=t.prev().attr("data-openrecords-open-recordid"),t=t.next().attr("data-openrecords-open-recordid"),n=window.parent.document.getElementById("record"+n),o=window.parent.document.getElementById("record"+i),t=window.parent.document.getElementById("record"+t),void 0!==i?$(o).after($(n)):$(t).before($(n)))}})}function layers__blocksbox__addEvents(){var o=0,s=!1,l=$(".tn-artboard").attr("data-record-id");$(document).off("click",".sui-blocks__item"),$(document).on("click",".sui-blocks__item",function(i){var n=$(this);$(i.target).hasClass("sui-block-text-inp")&&(window.tn.flags.isSettingsFocused=!0),o=setTimeout(function(){var e,t;s||(e=n.attr("data-openrecords-open-recordid"),t=n.attr("data-openrecords-open-pageid"),l===e)||$(i.target).hasClass("sui-block-text-inp")||(window.tn.last_changes>window.tn.last_save_db?tn_openrecords__beforeGo:tn_openrecords__gorecord)(e,t),s=!1},200)}),$(document).off("dblclick",".sui-blocks__text"),$(document).on("dblclick",".sui-blocks__text",function(e){e.preventDefault(),clearTimeout(o),s=!0;var e=$(this),t=e.text(),i=e.parent().attr("data-openrecords-open-pageid"),n=e.parent().attr("data-openrecords-open-recordid");layers__changeName(e,"block",t,i,n,""),window.tn.flags.isSettingsFocused=!0}),$(document).off("click",".sui-blocks__add"),$(document).on("click",".sui-blocks__add",function(e){e.stopPropagation(),layers__blocksbox__addRecord("396",$(this).parents(".sui-blocks__item").attr("data-openrecords-open-recordid"))}),$(document).off("click",".sui-blocks__dubl"),$(document).on("click",".sui-blocks__dubl",function(e){e.stopPropagation(),layers__blocksbox__duplicateRecord($(this).parents(".sui-blocks__item").attr("data-openrecords-open-recordid"))}),$(document).off("click",".sui-blocks__del"),$(document).on("click",".sui-blocks__del",function(e){e.stopPropagation();var e=$(this).parents(".sui-blocks__item"),t=e.attr("data-openrecords-open-recordid");confirm("Are you sure you want to delete the block?")&&layers__blocksbox__delRecord(t,e)})}function layers__blocksbox__addRecord(i,n){var o=Date.now(),s=$(".tn-artboard").attr("data-page-id");$.ajax({type:"POST",url:"/page/submit/",data:{comm:"addnewrecord",pageid:s,afterid:n,tplid:i},dataType:"text",success:function(e){layers__blocksbox__checkLogout(e);e=$(e).attr("id").replace(/\D+/g,"");(window.tn.last_changes>window.tn.last_save_db?tn_openrecords__beforeGo:tn_openrecords__gorecord)(e,s)},error:function(e){var t=Date.now()-o;if(0==e.status&&t<300)alert("Request error (adding new block). Please check internet connection...");else{try{layers__blocksbox__errorLog({e:"addrecord",data:{comm:"addnewrecord",pageid:s,afterid:n,tplid:i},xhr:e.status,ts:t})}catch(e){console.log(e)}alert("Request timeout (adding new block)"),location.reload()}},timeout:6e4})}function layers__blocksbox__duplicateRecord(i){var n=Date.now(),o=$(".tn-artboard").attr("data-page-id");$.ajax({type:"POST",url:"/page/submit/",data:{comm:"dublicaterecord",pageid:o,recordid:i},dataType:"text",success:function(e){layers__blocksbox__checkLogout(e);e=$(e).attr("id").replace(/\D+/g,"");(window.tn.last_changes>window.tn.last_save_db?tn_openrecords__beforeGo:tn_openrecords__gorecord)(e,o)},error:function(e){var t=Date.now()-n;if(0==e.status&&t<300)alert("Request error (block duplicating). Please check internet connection...");else{try{layers__blocksbox__errorLog({e:"dublicaterecord",data:{comm:"dublicaterecord",pageid:o,recordid:i},xhr:e.status,ts:t})}catch(e){console.log(e)}alert("Request timeout (block duplicating)"),location.reload()}},timeout:6e4})}function layers__blocksbox__delRecord(i,t){var n=Date.now(),o=$(".tn-artboard").attr("data-page-id"),s=$(".tn-artboard").attr("data-record-id"),l=t.prev(),a=t.next();$.ajax({type:"POST",url:"/page/submit/",data:{comm:"deleterecord",pageid:o,recordid:i},dataType:"text",success:function(e){layers__blocksbox__checkLogout(e),s===i?0!==a.length?tn_openrecords__gorecord(a.attr("data-openrecords-open-recordid"),o):0!==l.length?tn_openrecords__gorecord(l.attr("data-openrecords-open-recordid"),o):tn_close():t.remove(),window.frameElement&&window.parent.document.getElementById("rec"+i).remove()},error:function(e){var t=Date.now()-n;if(0==e.status&&t<300)alert("Request error (block deletion). Please check internet connection...");else{try{layers__blocksbox__errorLog({e:"delrecord",data:{comm:"deleterecord",pageid:o,recordid:i},xhr:e.status,ts:t})}catch(e){console.log(e)}alert("Request timeout (block deletion)"),location.reload()}},timeout:6e4})}function layers__blocksbox__checkLogout(e){"string"==typeof e&&"\x3c!--tlp--\x3e"==e.substring(0,10)?(window.location="/login/",console.log("Sorry, you logout!")):"string"==typeof e&&"\x3c!--tpbaa--\x3e"==e.substring(0,12)&&(window.location="/projects/",console.log("Sorry, this page belongs to another account!"))}function layers__blocksbox__errorLog(e){console.log("Errorlog sending..."),$.ajax({type:"POST",url:"https://api.tildacdn.info/errorlog/",data:e,dataType:"text",success:function(){console.log("Errorlog sent ok")},error:function(){},timeout:15e3})}function layers__changeName(e,t,i,n,o,s){function l(){window.tn.flags.isSettingsFocused=!1;var e=d.val();0===(e=20<(e=(e=(e=(e=tn_stripTags(e)).replaceAll(/"/,"")).replaceAll(/'/,"")).replaceAll(/\\/,"")).length?e.substring(0,17)+"...":e).length&&(e=i),d.parent().text(e),"layer"===t?elem__setFieldValue($("#"+s),"layer",e,"","",window.tn.topResolution):i!==e&&$.ajax({type:"POST",url:"/zero/submit/",data:{comm:"savezeroblocktitle",pageid:n,recordid:o,ab_title:e},dataType:"text",success:function(e){tn_console(e)},error:function(){}}),a===o&&"block"===t&&ab__setFieldValue($(".tn-artboard"),"title",d.val())}var a=$(".tn-artboard").attr("data-record-id"),d=(e.html('<input type="text" value="20" autocomplete="off" class="sui-'+t+'-text-inp">'),e.find(".sui-"+t+"-text-inp"));d.val(i).focus(),d.select(),d.on("keyup",function(e){13===e.keyCode&&(e.preventDefault(),l())}),d.focusout(function(){l()}),$(".sui-blocks__item").off("click"),$(".sui-blocks__item").on("click",function(e){e=$(e.originalEvent.target);e.length&&!e.hasClass("sui-block-text-inp")&&l()})}function layers__blocksbox__saveRecordsSort(){var t=[],i=$(".tn-artboard").attr("data-page-id");$(".sui-blocks__item").each(function(){var e=$(this).attr("data-openrecords-open-recordid");t.push(e)}),$.ajax({type:"POST",url:"/page/submit/",data:{comm:"saverecordssort",pageid:i,sorts:t},dataType:"text",success:function(e){layers__blocksbox__checkLogout(e)},error:function(e){try{errorLog({e:"saverecordssort",data:{comm:"saverecordssort",pageid:i,sorts:t},xhr:e.status})}catch(e){}alert("Request timeout (saving blocks order)"),location.reload()},timeout:6e4})}function tn_toggleGuides(){var e=document.querySelector(".tn-guides-wrpr");"none"===e.style.display?(e.style.display="block",allguides__renderView()):e.style.display="none"}function tn_moveGuidesWrap(){var e=document.querySelector(".tn-guides-wrpr");e.remove(),document.body.append(e)}function guide__add(e,t,i){tn_console("func: addGuide"),(e="object"==typeof e&&"number"!=typeof e&&void 0!==e?e:guide__createInitialData(e,t,i)).hidden||(e.hidden=[]),window.tn.guides[e.id]=e;t=document.querySelector(".tn-guides-wrpr"),i=`
		<div
			id="${e.id}"
			class="tn-guide tn-guide_${e.type}"
		>
			<div class="tn-guide__line"></div>
			<div class="tn-guide__inner">
				<div class="tn-guide__del">
					<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12ZM8.97 8.97C9.11063 8.82955 9.30125 8.75066 9.5 8.75066C9.69875 8.75066 9.88937 8.82955 10.03 8.97L12 10.94L13.97 8.97C14.1122 8.83752 14.3002 8.7654 14.4945 8.76882C14.6888 8.77225 14.8742 8.85097 15.0116 8.98838C15.149 9.12579 15.2277 9.31118 15.2312 9.50548C15.2346 9.69978 15.1625 9.88782 15.03 10.03L13.06 12L15.03 13.97C15.1625 14.1122 15.2346 14.3002 15.2312 14.4945C15.2277 14.6888 15.149 14.8742 15.0116 15.0116C14.8742 15.149 14.6888 15.2277 14.4945 15.2312C14.3002 15.2346 14.1122 15.1625 13.97 15.03L12 13.06L10.03 15.03C9.88782 15.1625 9.69978 15.2346 9.50548 15.2312C9.31118 15.2277 9.12579 15.149 8.98838 15.0116C8.85097 14.8742 8.77225 14.6888 8.76882 14.4945C8.7654 14.3002 8.83752 14.1122 8.97 13.97L10.94 12L8.97 10.03C8.82955 9.88937 8.75066 9.69875 8.75066 9.5C8.75066 9.30125 8.82955 9.11063 8.97 8.97Z" fill="white"/>
					</svg>
				</div>
				<div class="th-guide__controls">
					<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M7.625 9.75C7.96972 9.75 8.31106 9.8179 8.62954 9.94982C8.94802 10.0817 9.2374 10.2751 9.48116 10.5188C9.72491 10.7626 9.91827 11.052 10.0502 11.3705C10.1821 11.6889 10.25 12.0303 10.25 12.375C10.25 12.7197 10.1821 13.0611 10.0502 13.3795C9.91827 13.698 9.72491 13.9874 9.48116 14.2312C9.2374 14.4749 8.94802 14.6683 8.62954 14.8002C8.31106 14.9321 7.96972 15 7.625 15C6.92881 15 6.26113 14.7234 5.76884 14.2312C5.27656 13.7389 5 13.0712 5 12.375C5 11.6788 5.27656 11.0111 5.76884 10.5188C6.26113 10.0266 6.92881 9.75 7.625 9.75ZM15.5 9.75C15.8447 9.75 16.1861 9.8179 16.5045 9.94982C16.823 10.0817 17.1124 10.2751 17.3562 10.5188C17.5999 10.7626 17.7933 11.052 17.9252 11.3705C18.0571 11.6889 18.125 12.0303 18.125 12.375C18.125 12.7197 18.0571 13.0611 17.9252 13.3795C17.7933 13.698 17.5999 13.9874 17.3562 14.2312C17.1124 14.4749 16.823 14.6683 16.5045 14.8002C16.1861 14.9321 15.8447 15 15.5 15C14.8038 15 14.1361 14.7234 13.6438 14.2312C13.1516 13.7389 12.875 13.0712 12.875 12.375C12.875 11.6788 13.1516 11.0111 13.6438 10.5188C14.1361 10.0266 14.8038 9.75 15.5 9.75Z" fill="white"/>
					</svg>
				</div>
				<input class="tn-guide__coords" maxlength="7">
			</div>
		</div>
	`,t.insertAdjacentHTML("beforeend",i),i=document.getElementById(e.id);return guide__addUiClickEvents(i,e),guide__renderView(i,e),guide__update__coordsHint(i),guide__drawBreakpointsPopup(t),guide__addHandlers(t),t.style.display="block",$(i)}function guide__createInitialData(e,t,i){return{id:i||Date.now()+"-"+Math.round(1e4*Math.random()),type:t||"h",position:e||0===e?e:80,hidden:[]}}function guide__drawBreakpointsPopup(e){var t;window.tn.flag_guide_isPopupGenerated||(t=`
		<div class="tn-guide__popup">
			${guide__breakpointsPopupDrawRows()}
		</div>
	`,document.addEventListener("click",e=>{guide__breakpointsPopupHandleClose(e,"click")}),document.addEventListener("keydown",e=>{guide__breakpointsPopupHandleClose(e,"esc")}),e.insertAdjacentHTML("beforebegin",t),document.querySelector(".tn-guide__popup").querySelectorAll(".popup__button").forEach(i=>{i.addEventListener("click",e=>{e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();var e=i.closest(".popup__row"),t=e.closest(".tn-guide__popup").getAttribute("data-guide"),t=window.tn.guides[t];guide__breakpointsPopupToggleRowState(e,i),guide__breakpointsPopupSaveRowState(e,t),guide__breakpointsPopupCheckAllRowsHidden(t)})}),window.tn.flag_guide_isPopupGenerated=!0,window.tn.flag_guide_isPopupOpen=!1)}function guide__breakpointsPopupToggleRowState(e,t){"true"===e.getAttribute("data-hidden")?(t.innerHTML=guide__breakpointsPopupGetButton("show"),e.setAttribute("data-hidden","false"),e.classList.remove("hidden")):(t.innerHTML=guide__breakpointsPopupGetButton("hide"),e.setAttribute("data-hidden","true"),e.classList.add("hidden"))}function guide__breakpointsPopupSaveRowState(e,t){var i,n=e.getAttribute("data-hidden"),e=parseInt(e.getAttribute("data-screen"),10);"true"===n?t.hidden.push(e):(i=t.hidden.indexOf(e),t.hidden.splice(i,1)),e===window.tn.curResolution&&"true"===n&&(guide__closePopup(),guide__renderView(document.getElementById(t.id),t))}function guide__breakpointsPopupCheckAllRowsHidden(e){var t=window.tn.screens,i=e.hidden;t.length===i.length&&guide__delete(document.getElementById(e.id))}function guide__updateBreakpointsPopup(e){var t=window.tn.guides[e.id].hidden,i=document.querySelector(".tn-guide__popup");const n=i.querySelectorAll(".popup__row"),o=window.tn.curResolution;n.forEach(e=>{e.classList.remove("current","hidden"),e.setAttribute("data-hidden","false"),e.querySelector(".popup__button").innerHTML=guide__breakpointsPopupGetButton("show")}),t.forEach(t=>{var e=Array.from(n).find(e=>e.getAttribute("data-screen")===t.toString());e&&(e.classList.add("hidden"),e.setAttribute("data-hidden","true"),e.querySelector(".popup__button").innerHTML=guide__breakpointsPopupGetButton("hide"))}),Array.from(n).find(e=>e.getAttribute("data-screen")===o.toString()).classList.add("current"),i.setAttribute("data-guide",e.id)}function guide__breakpointsPopupHandleClose(e,t){var i,n,o=e.target;"Escape"!==e.key&&"esc"===t||window.tn.flag_guide_isPopupOpen&&(e=o.closest(".tn-guide__popup"),i=o.classList.contains("tn-guide__popup"),n=o.closest(".tn-guide__inner"),o=o.classList.contains("tn-guide__inner"),(e||i)&&"click"===t||(n||o)&&"click"===t||guide__closePopup())}function guide__updateRowsBreakpointsPopup(){var e=document.querySelector(".tn-guide__popup"),e=(e&&e.remove(),window.tn.flag_guide_isPopupGenerated=!1,document.querySelector(".tn-guides-wrpr"));guide__drawBreakpointsPopup(e)}function guide__breakpointsPopupDrawRows(){let i="";return window.tn.screens.forEach(e=>{var t=e===window.tn.curResolution?"current":"";i+=`
		<div class="popup__row ${t}" data-screen="${e}">
			<div class="popup__icon ${guide__breakpointsPopupGetIcon(e)}"></div>
			<p class="popup__text">${e}</p>
			<button class="popup__button">
				${guide__breakpointsPopupGetButton("show")}
			</button>
		</div>
	`}),i}function guide__breakpointsPopupGetIcon(e){let t="";return"tn-res-icon_"+(t=e<480?"320":e<640?"480":e<960?"640":e<1200?"960":e<1600?"1200":"1600")}function guide__breakpointsPopupGetButton(e){return"show"===e?`
			<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M11.9998 5C4.3668 5 2.0728 11.617 2.0518 11.684L1.9458 12L2.0508 12.316C2.0728 12.383 4.3668 19 11.9998 19C19.6328 19 21.9268 12.383 21.9478 12.316L22.0538 12L21.9488 11.684C21.9268 11.617 19.6328 5 11.9998 5ZM11.9998 16C9.7938 16 7.9998 14.206 7.9998 12C7.9998 9.794 9.7938 8 11.9998 8C14.2058 8 15.9998 9.794 15.9998 12C15.9998 14.206 14.2058 16 11.9998 16Z" fill="white"/>
				<path d="M12 10C10.916 10 10 10.916 10 12C10 13.084 10.916 14 12 14C13.084 14 14 13.084 14 12C14 10.916 13.084 10 12 10Z" fill="white"/>
			</svg>
		`:`
			<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M16.0344 12.194L19.8954 8.33297C21.4154 9.98997 21.9914 11.65 22.0014 11.684L22.1074 12L22.0024 12.316C21.9804 12.383 19.6864 19 12.0534 19C11.1244 19 10.2784 18.898 9.50142 18.727L12.2474 15.981C13.2361 15.9325 14.1715 15.518 14.8714 14.818C15.5714 14.118 15.986 13.1827 16.0344 12.194ZM12.0534 4.99997C13.9084 4.99997 15.4284 5.40397 16.6954 5.99797L20.4004 2.29297L21.8144 3.70697L3.81442 21.707L2.40042 20.293L5.69842 16.995C3.06042 15.042 2.11942 12.358 2.10542 12.316L2.00042 12L2.10542 11.684C2.12742 11.617 4.42042 4.99997 12.0534 4.99997ZM10.1474 12.546C9.96042 11.869 10.1194 11.107 10.6394 10.586C11.1594 10.065 11.9224 9.90697 12.5994 10.094L14.1074 8.58597C13.4895 8.20595 12.7789 8.00322 12.0534 7.99997C9.84742 7.99997 8.05342 9.79397 8.05342 12C8.05639 12.7253 8.25951 13.4357 8.64042 14.053L10.1474 12.546Z" fill="white"/>
			</svg>
		`}function guide__cleanData(){const i=window.tn.screens;var e=window.tn.guides;for(const t in e){const n=e[t];n.hidden.forEach((e,t)=>{i.includes(e)||n.hidden.splice(t,1)})}}function guide__addHandlers(e){let r=(e=e||document.querySelector(".tn-guides-wrpr")).querySelectorAll(".tn-guide");const _={},c=document.querySelector(".tn-canvas-min"),u=document.querySelector(".tn-left-box"),p=document.querySelector(".tn-guide__popup");var t=()=>{(r=e.querySelectorAll(".tn-guide")).forEach(e=>{e=guide__getDimensions(e);_[e.guideID]=e})};t(),document.addEventListener("guides__dragStop",t),document.addEventListener("guide:save",t),window._guide__zoomHandler=n=>{r.forEach(e=>{var t=_[e.id],i=t.guideType;e.style.cssText+=`
				${"h"===i?"top":"left"}: ${t.guideOffset*n}px;
				${"h"===i?"width":"height"}: ${("h"===i?12e3:1e4)*n}px;
			`})},window._guide__scrollHandler=()=>{const n=window.tn.zoom;var e=window.tn.flags.isRulersShow?20:0,t=u.classList.contains("tn-left-box_show")?220:0,i=document.body.classList.contains("tn-theme-minimal")?47:60;const o=c.getBoundingClientRect(),s=c.offsetLeft,l=c.offsetTop,a=e+t+10,d=e+i+10;r.forEach(e=>{var t,i,e=_[e.id];null!==e.guideInner.offsetParent&&(t="h"===(i=e.guideType)?"X":"Y",i="h"===i?s*n-o.left+a:l*n-o.top+d,e.guideInner.style.transform=`translate${t}(${i}px)`)}),window.tn.flag_guide_isPopupOpen&&(e=(t=window.tn_guide__screensedits).querySelector(".tn-guide__inner"),i=window.tn.guides[t.id].type,e=parseInt(e.style.transform.split("(")[1],10),"h"===i?(p.style.top=t.offsetTop+20+"px",p.style.left=e+"px"):(p.style.top=e+"px",p.style.left=t.offsetLeft+20+"px"))},_guide__zoomHandler(window.tn.zoom),_guide__scrollHandler(),window._guide_throttledScrollHandler=t_throttle(_guide__scrollHandler,8),window.tn.flag_guide_isScrollHandlerInited||(document.addEventListener("scroll",()=>{window._guide_throttledScrollHandler&&window._guide_throttledScrollHandler()}),window.tn.flag_guide_isScrollHandlerInited=!0,document.addEventListener("zoom:gesture-changed",e=>{const t=e.detail.zoom;window.requestAnimationFrame(()=>{_guide__zoomHandler(t),_guide__scrollHandler()})}),document.addEventListener("zoom:zoom-in",e=>{e=e.detail.zoom;_guide__zoomHandler(e)}),document.addEventListener("zoom:zoom-out",e=>{e=e.detail.zoom;_guide__zoomHandler(e)}),document.addEventListener("zoom:zoom-reset",e=>{e=e.detail.zoom;_guide__zoomHandler(e),_guide__scrollHandler()}))}function guide__getDimensions(e){var t=e.id,i=window.tn.guides[t].type,n=document.querySelector(".tn-canvas-min"),o=e.querySelector(".tn-guide__inner"),s=document.querySelector(".tn-guide__popup");return{guideID:t,guideType:i,guideOffset:("h"===i?n.offsetTop:n.offsetLeft)+parseInt(guide__getPosition(e),10),guideInner:o,popup:s}}function guide__renderView(e,t){var i,n;e=tn__getElem(e),guide__isHidden(t=t||window.tn.guides[e.id])?e.style.display="none":(e.style.display="block",n=t.type,i=document.querySelector(".tn-canvas-min"),i="h"===n?i.offsetTop:i.offsetLeft,n="h"===n?"top":"left",t=guide__getPosition(e,t),t=parseInt(t,10)+parseInt(i,10),e.style[n]=t*window.tn.zoom+"px")}function guide__getPosition(e,t){return(t=t||window.tn.guides[e.id]).position}function guide__setPosition(e,t){window.tn.guides[e.id].position=t}function guide__isHidden(e){var t=window.tn.curResolution;return e.hidden.includes(t)}function guide__addUiClickEvents(o,e){tn_console("func: addUiClick__guide"),window.clicktimeoutId=!1;const s=e.type;e="h"==s?"y":"x";const l="h"===s?"top":"left",i=document.querySelector(".tn-left-box"),n=o.querySelector(".tn-guide__coords");var t=o.querySelector(".tn-guide__del"),a=o.querySelector(".th-guide__controls");let d=0,r=0,_=0;window._guide__updateCanvasDimensions=()=>{var e=document.querySelector(".tn-canvas-min");d=e.offsetTop,r=e.offsetLeft,_="h"===s?d:r},_guide__updateCanvasDimensions();const c=tn_emitEvent("guides:drag-stop");let u=!1,p=!1,g=(t.addEventListener("click",()=>{guide__delete(o)}),a.addEventListener("click",()=>{guide__openPopup(o,l)}),o.addEventListener("mouseover",()=>{o.classList.contains("tn-guide_edit")||(_guide__scrollHandler(),guide__update__coordsHint(o),guide__setCoordsSize(o))}),o.addEventListener("mouseleave",()=>{o.classList.contains("tn-guide_edit")||document.body.contains(o)&&(_guide__scrollHandler(),guide__update__coordsHint(o))}),n.addEventListener("focus",()=>{window.tn.flags.isSettingsFocused=!0,allelems__unselect(),n.value=parseInt(n.value,10),n.select(),o.classList.add("tn-guide_edit")}),n.addEventListener("input",()=>{guide__setCoordsSize(o)}),n.addEventListener("blur",()=>{window.tn.flags.isSettingsFocused=!1,o.classList.remove("tn-guide_edit")}),n.addEventListener("mouseleave",e=>e.preventDefault()),n.addEventListener("keydown",function(e){var t,i;13===e.keyCode&&(tn_undo__Add("guides_save",$(o)),t=window.tn.zoom,i=tn_calculateInputNumber(n.value),o.style[l]=(i+_)*t+"px",guide__save__currentPosition(o,l,_),guide__update__coordsHint(o),guide__addHandlers(),n.blur(),27===e.keyCode)&&n.blur()}),!1);const m=t_throttle(()=>{guide__setCoordsSize(o)},220);$(o).draggable({distance:3,axis:e,grid:[1,1],snap:".tn-elem, .tn-group",snapTolerance:5,scrollSensitivity:3,snapMode:"both",start:function(e,t){tn_undo__Add("guides_save",$(o)),tn_console("drag: start"),t.position[l]=0,o.classList.add("tn-guide_dragging"),u=i.classList.contains("tn-left-box_show"),p=document.body.classList.contains("tn-theme-minimal"),window.tn.flag_guide_isPopupOpen&&guide__closePopup()},drag:function(){if(!window.tn.flags.isUiHidden&&window.tn.flags.isRulersShow){let e=0;var n=o.getBoundingClientRect();let t=0,i="default";i="h"===s?(e=p?68:82,t=n.y-document.body.scrollTop,"ns-resize"):(e=u?244:22,t=n.x-document.body.scrollLeft,"ew-resize"),t<=e?(g=!0,document.body.style.setProperty("cursor","not-allowed")):(g=!1,document.body.style.setProperty("cursor",i))}var n=document.querySelector(".tn-canvas-min"),n=(d=n.offsetTop,r=n.offsetLeft,_="h"===s?d:r,window.tn.zoom||1),e=parseInt(o.style[l],10),e=Math.ceil(e/n-_);guide__update__coordsHint(o,e),m(o)},stop:function(e){tn_console("drag: stop"),o.classList.remove("tn-guide_dragging"),g?guide__delete(o):guide__save__currentPosition(o,l,_),document.body.style.setProperty("cursor","default"),th_dispatchEvent(c),_guide__zoomHandler(),e.stopImmediatePropagation()}})}function guide__openPopup(e,t){guide__closePopup(),guide__updateBreakpointsPopup(e),e.classList.add("screens-edit"),window.tn_guide__screensedits=e,window.tn_guide__openStateHiddenArr=window.tn.guides[e.id].hidden.slice();const i=document.querySelector(".tn-guide__popup");var n=e.querySelector(".tn-guide__inner"),e=(n.style.display="flex",guide__breakpointsPopupGetPositions(e,n)),n=("top"===t?e.horizonal:e.vertical).top,t=("top"===t?e.horizonal:e.vertical).left;i.style.cssText=`
		top: ${n}px;
		left: ${t}px;
		pointer-events: all;
	`,setTimeout(()=>{i.style.cssText+=`
			transform: scale(1);
			opacity: 1;
		`,window.tn.flag_guide_isPopupOpen=!0},110)}function guide__breakpointsPopupGetPositions(e,t){return{horizonal:{top:e.offsetTop+20,left:parseInt(t.style.transform.split("(")[1],10)},vertical:{top:parseInt(t.style.transform.split("(")[1],10),left:e.offsetLeft+20}}}function guide__closePopup(){var e=document.querySelector(".tn-guide__popup");e.style.cssText+=`
		transform: scale(0.99);
		pointer-events: none;
		opacity: 0;
	`,document.querySelectorAll(".tn-guide__inner").forEach(e=>e.style.display="");document.querySelectorAll(".tn-guide").forEach(e=>e.classList.remove("screens-edit"));var t=e.getAttribute("data-guide");t&&(t=document.getElementById(t))&&(window.tn_guide__closeStateHiddenArr=window.tn.guides[t.id].hidden.slice(),guide__hiddenHasChanges())&&tn_undo__Add("guides_hidden",$(t)),e.removeAttribute("data-guide"),window.tn.flag_guide_isPopupOpen=!1,window.tn_guide__screensedits=null}function guide__hiddenHasChanges(){var e=window.tn_guide__openStateHiddenArr,t=window.tn_guide__closeStateHiddenArr;return e.sort((e,t)=>e-t),t.sort((e,t)=>e-t),e.join(",")!==t.join(",")}function guide__save__currentPosition(e,t,i){e=tn__getElem(e),t&&i||(n=window.tn.guides[e.id].type,o=document.querySelector(".tn-canvas-min"),i="h"===n?(t="top",o.offsetTop):(t="left",o.offsetLeft));var n=window.tn.zoom||1,o=parseInt(e.style[t],10),t=Math.ceil(o/n-i),o=(guide__setPosition(e,t),guide__update__coordsHint(e,t),tn_emitEvent("guide:save"));th_dispatchEvent(o)}function guide__delete(e){tn_undo__Add("guides_delete",$(e)),delete window.tn.guides[e.id],e.remove(),window.tn.flag_guide_isPopupOpen&&document.querySelector(".tn-guide__popup").getAttribute("data-guide")===e.id&&guide__closePopup()}function guide__update__coordsHint(e,t){e.querySelector(".tn-guide__coords").value="number"==typeof t?t:guide__getPosition(e)}function guide__setCoordsSize(e){var t=window.tn.guides[e.id];t&&(t=t.type,(e=e.querySelector(".tn-guide__coords")).style.width=8*e.value.length+"px","v"===t)&&(e.style.height=8*e.value.length+"px")}function allguides__renderView(){tn_console("func: allguides__renderView"),document.querySelectorAll(".tn-guide").forEach(e=>guide__renderView(e))}function tn_showShortcuts(){$("body").append('<table class="tn-shortcuts"><tr><td style="width:100%;height:100%; vertical-align:top;"><div class="tn-close-icon tn-close-icon_light"></div><div class="tn-shortcuts__main"></div></td></tr></table>');var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),t=cmdSymbol(),e=(e&&(t+=' <span class="tn-shortcuts__plus">+</span> '+optionSymbol()),'<table class="tn-shortcuts__table"><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left" style="padding-top:30px;">Change Resolution Mode</td><td class="tn-shortcuts__right" style="padding-top:30px;">'+t+' <span class="tn-shortcuts__plus">+</span> 1 <span class="tn-shortcuts__plus">..</span> 5</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Hide Grid</td><td class="tn-shortcuts__right">G</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Hide Settings</td><td class="tn-shortcuts__right">TAB</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Hide UI</td><td class="tn-shortcuts__right">F</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Undo</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> Z</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Save</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> S</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Copy Element</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> C</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Paste Element</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> V</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Move Element</td><td class="tn-shortcuts__right"><span class="tn-shortcuts__plus">(</span>Shift <span class="tn-shortcuts__plus">+</span><span class="tn-shortcuts__plus">)</span> Arrows</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Delete Element</td><td class="tn-shortcuts__right">Backspace</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Change Opacity</td><td class="tn-shortcuts__right">0 <span class="tn-shortcuts__plus">..</span> 9</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Lock Element</td><td class="tn-shortcuts__right">L</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Change Font Size</td><td class="tn-shortcuts__right">+ <span class="tn-shortcuts__plus">or</span> -</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Change Line Spacing</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> Top/Down</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Change Letter Spacing</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> Left/Right</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Select All</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> A</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Layers: Hide/Show</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> L</td></tr><td class="tn-shortcuts__left">Rulers: Hide/Show</td><td class="tn-shortcuts__right">⇧ <span class="tn-shortcuts__plus">+</span> R</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Guides: Add Horizontal</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> H</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Guides: Add Vertical</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> ⇧ <span class="tn-shortcuts__plus">+</span> H</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Group</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> G</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Ungroup</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> ⇧ <span class="tn-shortcuts__plus">+</span> G</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Measure to selection</td><td class="tn-shortcuts__right">Click <span class="tn-shortcuts__plus">+</span> '+optionSymbol()+'</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Zoom In</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> +</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Zoom Out</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> −</td></tr><tr class="tn-shortcuts__tr"><td class="tn-shortcuts__left">Resize from center</td><td class="tn-shortcuts__right">'+cmdSymbol()+' <span class="tn-shortcuts__plus">+</span> Resize</td></tr><table>'),i=($(".tn-shortcuts__main").html(e),$(".tn-shortcuts"));i.click(function(){i.remove()}),$(".tn-close-icon").click(function(){i.remove()})}function tn_showHelloPopup(){$("body").append('<table class="tn-hello"><tr><td style="width:100%;height:100%; vertical-align:middle;"><div class="tn-hello__main"></div></td></tr></table>');var e="",t=((e+='<table class="tn-hello__table">')+'<tr class="tn-hello__tr">'+'<td class="tn-hello__td" style="padding-top:50px;padding-bottom:50px;">'+'<div style="padding-top:0px;"><div class="tn-hello__img"></div></div>'+'<div style="padding-top: 40px; padding-bottom:5px;font-size: 16px; letter-spacing:2px; opacity:0.5;">WELCOME TO:</div>'+'<div style="font-size: 50px; font-weight:bold;"><span style="color:#ed5d28;">ZERO</span>&nbsp;BLOCK</div>'+'<div style="padding-top:10px; padding-bottom:50px;font-size: 30px; font-weight:light;">Turn any idea into reality by designing unique blocks. Enjoy full control over each element, use advanced features, adapt and animate your content as you want it.</div>'+'<div class="tn-hello__btn"><div class="tn-hello__btn-label">DESIGN NOW</div></div>'+"</td>"+"</tr>"+"<table>",$(".tn-hello__main").html('<table class="tn-hello__table"><tr class="tn-hello__tr"><td class="tn-hello__td" style="padding-top:50px;padding-bottom:50px;"><div style="padding-top:0px;"><div class="tn-hello__img"></div></div><div style="padding-top: 40px; padding-bottom:5px;font-size: 16px; letter-spacing:2px; opacity:0.5;">WELCOME TO:</div><div style="font-size: 50px; font-weight:bold;"><span style="color:#ed5d28;">ZERO</span>&nbsp;BLOCK</div><div style="padding-top:10px; padding-bottom:50px;font-size: 30px; font-weight:light;">Turn any idea into reality by designing unique blocks. Enjoy full control over each element, use advanced features, adapt and animate your content as you want it.</div><div class="tn-hello__btn"><div class="tn-hello__btn-label">DESIGN NOW</div></div></td></tr><table>'),$(".tn-hello"));t.click(function(){t.remove()})}function tn_missedfonts__find(){var i,n;void 0!==window.fonts&&window.fonts.length&&($(".tn-elem").each(function(){i=$(this);for(var t,e=0;e<4;e++)0==e&&(n=i.attr("data-field-fontfamily-value")),1==e&&(n=i.attr("data-field-inputfontfamily-value")),2==e&&(n=i.attr("data-field-buttonfontfamily-value")),void 0!==(n=3==e?i.attr("data-field-fieldfontfamily-value"):n)&&""!=n&&(t="",window.fonts.forEach(function(e){""==e&&(t="y"),n==e&&(t="y")}),""==t)&&(console.log("font is missed: "+n),void 0===window.fonts_missed&&(window.fonts_missed={}),window.fonts_missed[n]=n)}),window.tn_role_dev||void 0===window.fonts_missed||tn_missedfonts__showpopup())}function tn_missedfonts__showpopup(){var t='<div id="missedfonts_popup" class="tn-missedfonts-popup"><div class="tn-missedfonts-popup__wrp"><div><b>Missing fonts: some fonts used in this block are not installed in the Site Settings.</b> Select a font to replace the missing one(s) in all elements:<br><br>';$.each(window.fonts_missed,function(e){t+="<div>Missing font: "+e+'<br> Replace with: <select name="sb_'+e+'">',window.fonts.forEach(function(e){t+='<option value="'+e+'">'+e+"</option>"}),t+="</select></div><br><br>"}),t+='<div class="sui-btn sui-btn-missedfonts-ignore">Ignore</div><div class="sui-btn sui-btn-missedfonts-replaceall">Replace all</div></div></div></div>',$("body").append(t),$(".sui-btn-missedfonts-ignore").click(function(){tn_missedfonts__closepopup()}),$(".sui-btn-missedfonts-replaceall").click(function(){tn_missedfonts__replaceall(),tn_missedfonts__closepopup()})}function tn_missedfonts__closepopup(){$("#missedfonts_popup").remove(),delete window.fonts_missed}function tn_missedfonts__replaceall(){$.each(window.fonts_missed,function(n){var o=$("#missedfonts_popup").find('[name="sb_'+n+'"]').val();console.log("font:"+n+"  ->> repl: "+o),$(".tn-elem").each(function(){for(var e=$(this),t=e.attr("data-field-fontfamily-value"),i=0;i<4;i++)0==i&&(t=e.attr("data-field-fontfamily-value")),1==i&&(t=e.attr("data-field-inputfontfamily-value")),2==i&&(t=e.attr("data-field-buttonfontfamily-value")),void 0!==(t=3==i?e.attr("data-field-fieldfontfamily-value"):t)&&""!=t&&t==n&&(e.attr("data-field-fontfamily-value",o),console.log("font replaced: "+o))})}),allelems__renderView(),tn_missedfonts__closepopup()}function tn_openrecords__showpopup(){$("body").append('<div id="openrecords_popup" style="width:100%;position:fixed;z-index:9999;top:0;left:0;height:100vh;background-color:rgba(255,255,255,0.5);"><div style="width:400px;margin:0 auto;margin-top:40px;background-color:#fff;padding:40px;box-shadow:0px 0px 26px 1px rgba(0,0,0,0.10);"><div>Open record on this page<br><br><div id="openrecords_popup_recordslist"></div><br><div class="sui-btn sui-btn_sm sui-btn-openrecords-close">Close</div></div></div></div>'),$(".sui-btn-openrecords-close").click(function(){tn_openrecords__closepopup()}),tn_openrecords__loadRecordsList()}function tn_openrecords__closepopup(){$("#openrecords_popup").remove(),delete window.fonts_missed}function tn_openrecords__loadRecordsList(){tn_console("func: tn_openrecords__loadRecordsList");var e=$(".tn-artboard").attr("data-page-id"),t=$(".tn-artboard").attr("data-record-id"),i={comm:"getrecordslist"};i.pageid=e,i.recordid=t,$.ajax({type:"POST",url:"/zero/get/",data:i,dataType:"text",success:function(e){var e=JSON.parse(e),t=(tn_console(e),$(".tn-artboard").attr("data-record-id")),i="";e.forEach(function(e){i+='<div class="sui-btn-openrecords-open" data-openrecords-open-recordid="'+e.id+'" data-openrecords-open-pageid="'+e.pageid+'">Block #'+e.id+(t==e.id?' <span style="opacity:0.3;">(current)</span>':"")+"</div>"}),$("#openrecords_popup_recordslist").html(i),$(".sui-btn-openrecords-open").click(function(){var e=$(this).attr("data-openrecords-open-recordid"),t=$(this).attr("data-openrecords-open-pageid");(window.tn.last_changes>window.tn.last_save_db?tn_openrecords__beforeGo:tn_openrecords__gorecord)(e,t),tn_openrecords__closepopup()})},error:function(){}})}function tn_openrecords__beforeGo(e,t){$("body").append('<table class="tn-dialog"><tr><td class="tn-dialog__td"><div class="tn-close-icon"></div><div class="tn-dialog__content"></div></td></tr></table>');$(".tn-dialog__content").html('<div style="text-align:center;"><div style="font-size:36px; padding: 40px 0px;">Last changes haven\'t been saved. Do you want to save it?</div><table width="100%"><tr><td style="padding-right:5px;"><div class="tn-dialog__btn tn-dialog__openrecords__btn-go"><div class="tn-dialog__btn-icon">Don\'t Save</div></div></td><td style="padding-right:5px;"><div class="tn-dialog__btn tn-dialog__btn_primary tn-dialog__openrecords__btn-save"><div class="tn-dialog__btn-icon">Save and Continue</div></div></td></tr></table></div>'),$(".tn-dialog__openrecords__btn-save").click(function(){artboard__Save__toDB("gorecord_after_save:"+e+":"+t)}),$(".tn-dialog__openrecords__btn-go").click(function(){tn_openrecords__gorecord(e,t)}),$(".tn-close-icon").click(function(){$(".tn-dialog").remove()})}function tn_openrecords__gorecord(e,t){var i=Math.random().toString(36).substring(7);!window.frameElement&&0<t?window.location.href="/zero/?recordid="+e+"&pageid="+t+"&nocash="+i:(parent.document.querySelector(".t396__iframe").src="/zero/?recordid="+e+"&pageid="+t+"&nocash="+i,window.top.location.href="/zero/?recordid="+e+"&pageid="+t+"&nocash="+i)}function dialogs__publish__show(e){e=`
		<div class="tn-publish-popup">
			<div class="tn-publish-popup__title">The page is published</div>

			<div class="tn-publish-popup__text">Link to page</div>
			<div class="tn-publish-popup__link-container">
				<a class="tn-publish-popup__link" target="_blank" type="button" rel="noopener noreferer" href="${e.link}">${e.linkstr}</a>
				<a href="${e.link}" target="_blank" type="button" rel="noopener noreferer" class="tn-publish-popup__btn">Open page</a>
			</div>
		</div>
	`;document.body.insertAdjacentHTML("beforeend",e);var e=document.querySelector(".tn-publish-btn").getBoundingClientRect(),t=document.querySelector(".tn-publish-popup");t.style.top=e.top+e.height+10+"px",t.style.left=e.left+"px",document.addEventListener("keydown",dialogs__publish__onEsc),document.addEventListener("click",dialogs__publish__onClose)}function dialogs__publish__onEsc(e){27!==e.keyCode&&13!==e.keyCode||dialogs__publish__onClose()}function dialogs__publish__onClose(){var e=document.querySelector(".tn-publish-popup");document.removeEventListener("keydown",dialogs__publish__onEsc),document.removeEventListener("click",dialogs__publish__onClose),e&&e.remove()}function ab__openZBSettings(){var e,t,i=$(".tn-right-box"),n="";i.removeClass("tn-right-box_hide"),i.html('<div class="tn-right-box__header"><span class="tn-right-box__caption">Zero Block settings</span><img src="img/modalClosebutton.png" class="tn-right-box__icon" width="15px"></div>'),$(".tn-right-box__header").click(function(){tn_console("click: Minify panel"),tn_toggleSettings(!0)}),i.append('<div class="tn-settings" data-for-artboard="grid"></div>'),e=$(".tn-settings"),t="RU"===window.tn.lang?"https://youtu.be/NVatCvA4OKU":"https://youtu.be/YnMqe8Iizpg",n+='<div class="sui-panel__section"><div class="sui-btn sui-btn-close">Back to artboard settings</div><table class="sui-panel__table sui-panel__table_toggle"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group_toggle" data-control-field="grid_show" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__table_toggle"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group_toggle" data-control-field="ui_show" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__table_toggle"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group_toggle" data-control-field="layers_show" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__table_toggle"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group_toggle" data-control-field="guides_show" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__table_toggle"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group_toggle" data-control-field="rulers_show" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__table_toggle"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group_toggle" data-control-field="publish_show" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__table_toggle"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group sui-form-group_toggle" data-control-field="snapping_disable" data-control-value=""></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-grid" data-section-name="grid"><label class="sui-label sui-label_title">Grid '+window.tn.curResolution+'<div class="sui-label-ask tooltip" data-tooltip="The modular grid defines the basic structure <br>of your design and speeds up your workflow. <br>It creates a unified layout of all website elements <br>and blocks and maintains visual order.<br><br><a href=\''+t+'\' target=\'_blank\'><svg style=\'position:relative;top:3px;\' width=\'21\' height=\'18\' viewBox=\'0 0 36 33\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'><circle cx=\'27.254\' cy=\'8.746\' r=\'7.996\' stroke=\'#ffffff\' stroke-width=\'1.5\'></circle><path d=\'M27.252 13.994V6.997M27.252 5.249v-1.75\' stroke=\'#ffffff\' stroke-width=\'2\'></path><path d=\'M13.025 24.026V16.82l5.024 3.602-5.024 3.603z\' fill=\'#ffffff\' stroke=\'#ffffff\'></path><path d=\'M13.91 8.348H4a3 3 0 00-3 3v17.32a3 3 0 003 3h22.318a3 3 0 003-3v-7.41\' stroke=\'#ffffff\' stroke-width=\'1.5\'></path></svg><span style=\'margin-left:7px;\'>Video tutorial</span></a>"></div></label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="columns" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="columnwidth" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="columngutter" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="columnmargins" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="rowbaseline" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="rowmoduleheight" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="rowmargins" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="gridcolor" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="gridopacity" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="gridlineopacity" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="gridglobal" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control="gridreset"></div></td></tr></table></div><div class="sui-panel__section sui-panel__section-theme" data-section-name="theme"><label class="sui-label sui-label_title">Theme</label><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="themesize" data-control-value=""></div></td></tr></table><table class="sui-panel__table sui-panel__padd_b-10"><tr class="sui-panel__tr"><td class="sui-panel__td"><div class="sui-form-group" data-control-field="themecolor" data-control-value=""></div></td></tr></table></div>',e.append(n),e.find(".sui-btn-close").click(floor__mousedown),ab__addSettingsControls(),ab__addGridControls(),control__drawui__gridReset(),tn_addSectionHandlers(),tn_tooltip_update(),i.animate({scrollTop:0},100)}function ab__addSettingsControls(){var e=$(".tn-guides-wrpr").css("display"),t=tn_getLocalField("isSnapDisabled");const i=["dark","light"],n=document.body,o="tzerothemecolor";window.tn.flags.isGridHidden=!1,[{name:"themesize",type:"select",onChange:function(e){"minimal"===e?(localStorage.setItem("tzerothemesize","minimal"),$("body").addClass("tn-theme-minimal")):(localStorage.removeItem("tzerothemesize"),$("body").removeClass("tn-theme-minimal")),window.tn.flags.isRulersShow&&rulers__updatePanels(!1,!0)}},{name:"themecolor",type:"select",onChange:function(t){i.includes(t)?(localStorage.setItem(o,t),n.classList.add("tn-theme-"+t),n.classList.remove("tn-theme-"+i.find(e=>e!==t))):(i.forEach(e=>n.classList.remove("tn-theme-"+e)),localStorage.removeItem(o)),window.tn.colorPickerList.forEach(e=>e.theme=t||"light")}},{name:"grid_show",type:"toggle",label:"Grid",isActive:function(){return!window.tn.flags.isGridHidden},checkedAttr:window.tn.flags.isGridHidden?"":' checked="checked"',activeClass:window.tn.flags.isGridHidden?"":" sui-toggle_on",onChange:function(){grid__toggle()}},{name:"publish_show",type:"toggle",label:"Publish",isActive:function(){return window.tn.flags.isPublishShow},checkedAttr:window.tn.flags.isPublishShow?' checked="checked"':"",activeClass:window.tn.flags.isPublishShow?" sui-toggle_on":"",onChange:function(){tn__togglePublishButton()}},{name:"ui_show",type:"toggle",label:"UI",isActive:function(){return!window.tn.flags.isUiHidden},checkedAttr:window.tn.flags.isUiHidden?"":' checked="checked"',activeClass:window.tn.flags.isUiHidden?"":" sui-toggle_on",onChange:function(){tn_toggleUI()}},{name:"layers_show",type:"toggle",label:"Layers",isActive:function(){return window.tn.flags.isLayersPanelOpen},checkedAttr:window.tn.flags.isLayersPanelOpen?' checked="checked"':"",activeClass:window.tn.flags.isLayersPanelOpen?" sui-toggle_on":"",onChange:function(){panelLayers__showhide()}},{name:"guides_show",type:"toggle",label:"Guides",isActive:function(){return"none"!==e},checkedAttr:"none"!==e?' checked="checked"':"",activeClass:"none"!==e?" sui-toggle_on":"",onChange:function(){tn_toggleGuides()}},{name:"rulers_show",type:"toggle",label:"Rulers",isActive:function(){return!window.tn.flags.isRulersShow},checkedAttr:window.tn.flags.isRulersShow?' checked="checked"':"",activeClass:window.tn.flags.isRulersShow?" sui-toggle_on":"",onChange:function(){rulers__toggleView()}},{name:"snapping_disable",type:"toggle",label:"Snapping",isActive:function(){return!t},checkedAttr:t?"":' checked="checked"',activeClass:t?"":" sui-toggle_on",onChange:function(){tn_toggleSnap()}}].forEach(function(e){"toggle"===e.type?ab__control__drawUi__toggle(e):"select"===e.type&&ab__control__drawUi__selectbox(e.name,e.onChange)})}function ab__addGridControls(){var t,i,n=$(".tn-settings"),o=$(".tn-artboard"),e=grid__getOptions(o);if(e){for(var s in e)t=e[s],(i=n.find('[data-control-field="'+s+'"]')).attr("data-control-value",t||""),("gridopacity"===s||"gridlineopacity"===s?ab__control__drawUi__selectbox:ab__control__drawUi__input)(s);var l=grid__getColors(o);["gridcolor","gridopacity","gridlineopacity","gridglobal"].forEach(function(e){i=n.find('[data-control-field="'+e+'"]'),t="gridglobal"===e?ab__getFieldValue(o,"gridglobal"):l[e],i.attr("data-control-value",t),("gridcolor"===e?ab__control__drawUi__input:ab__control__drawUi__selectbox)(e),window.tn.curResolution!=window.tn.topResolution&&void 0===ab__getFieldValue_for_Res(o,e,window.tn.curResolution)&&i.addClass("sui-form-group_undefined")}),window.tn.curResolution!=window.tn.topResolution&&($('[data-control-field="gridglobal"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="gridcolor"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="gridopacity"]').closest(".sui-panel__table").css("display","none"),$('[data-control-field="gridlineopacity"]').closest(".sui-panel__table").css("display","none"),$('[data-control="gridreset"]').closest(".sui-panel__table").css("display","none"))}}function tn_addZoomEvent(){var i,n,o=document.getElementsByClassName("tn-layout")[0],s=t_debounce(tn_getCursorCoords),l=t_throttle(tn_zoomHandler,20);document.addEventListener("gesturestart",function(e){e.preventDefault(),n=e.scale}),document.addEventListener("gesturechange",function(e){e.preventDefault();var t=s(e);l(e,o,i=null!==t?t:i,n),n=e.scale}),document.addEventListener("gestureend",function(e){e.preventDefault()}),document.addEventListener("wheel",function(e){var t;(e.ctrlKey||e.metaKey||e.altKey)&&(e.preventDefault(),t=s(e),l(e,o,i=null!==t?t:i))},{passive:!1}),document.addEventListener("zoom:gesture-changed",tn_drawZoomButtons)}function tn_zoomHandler(e,t,i,n){var o,s,l;window.tn.flags.isBgpositionEditorActive||(l=e.metaKey||e.altKey?5:10,l=(l=Math.min(Math.abs(e.deltaY),l))<1?1:Math.round(l),l/=100,n=e.scale?parseFloat((parseFloat(window.tn.zoom)+e.scale-n).toFixed(2)):e.deltaY<0?parseFloat((parseFloat(window.tn.zoom)+l).toFixed(2)):0<e.deltaY?parseFloat((parseFloat(window.tn.zoom)-l).toFixed(2)):window.tn.zoom,window.tn.zoom=Math.min(Math.max(.2,n),3),o=Math.max(i.pageX*window.tn.zoom-e.clientX),s=Math.max(i.pageY*window.tn.zoom-e.clientY),window.isSafari||(t.style.willChange="transform",document.body.style.willChange="contents"),window.requestAnimationFrame(function(){$(t).css("transform","scale("+window.tn.zoom+")"),window.shape_editor_setZoom&&window.shape_editor_setZoom(window.tn.zoom),$(".tn-vector-editor").css({width:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth),height:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}),void 0!==o&&void 0!==s&&window.scrollTo(o,s),window.isSafari||setTimeout(function(){t.style.willChange="",document.body.style.willChange=""})}),l=tn_emitEvent("zoom",{zoom:window.tn.zoom,action:"zoom-gesture"}),th_dispatchEvent(tn_emitEvent("zoom:gesture-changed",{zoom:window.tn.zoom})),th_dispatchEvent(l))}function tn_getCursorCoords(e){return{pageX:(window.scrollX+e.clientX)/window.tn.zoom,pageY:(window.scrollY+e.clientY)/window.tn.zoom,screenX:e.clientX,screenY:e.clientY}}function tn_zoomIn(){var e;3<=window.tn.zoom||(window.tn.zoom||(window.tn.zoom=1),e=window.tn.zoom,window.tn.zoom+=.1,tn_configureZoomPanel("in",e,"",!1,!0),e=tn_emitEvent("zoom",{zoom:window.tn.zoom,action:"zoom-in"}),th_dispatchEvent(tn_emitEvent("zoom:zoom-in",{zoom:window.tn.zoom})),th_dispatchEvent(e))}function tn_zoomOut(){if(window.tn.zoom<.3)return!1;window.tn.zoom||(window.tn.zoom=1),e=window.tn.zoom,window.tn.zoom=window.tn.zoom-.1,tn_configureZoomPanel("out",e,"",!1,!0);var e=tn_emitEvent("zoom",{zoom:window.tn.zoom,action:"zoom-out"});th_dispatchEvent(tn_emitEvent("zoom:zoom-out",{zoom:window.tn.zoom})),th_dispatchEvent(e)}function tn_zoomReset(e){var t,i=window.tn.zoom;1!==i&&(t=i,window.tn.zoom=1,tn_configureZoomPanel("reset",t,i,e),t=tn_emitEvent("zoom",{zoom:window.tn.zoom,action:"zoom-reset"}),th_dispatchEvent(tn_emitEvent("zoom:zoom-reset",{zoom:window.tn.zoom})),th_dispatchEvent(t))}function tn_configureZoomPanel(e,t,i,n,o){var t=tn_getCenterZoomOffset(t),s=document.getElementsByClassName("tn-layout")[0];window.scrollTo(t.x,t.y),s.style.transform="scale("+window.tn.zoom+")",bgposition__updateZoomScaling(),o||(document.body.style.overflowX="scroll",tn__setInitialScroll()),tn_drawZoomButtons()}function tn_getCenterZoomOffset(e){var t=window.scrollX+window.innerWidth/2,i=window.scrollY+window.innerHeight/2,t=t/e-window.innerWidth/2,i=i/e-window.innerHeight/2;return{x:t*window.tn.zoom+window.innerWidth/2*(window.tn.zoom-1),y:i*window.tn.zoom+window.innerHeight/2*(window.tn.zoom-1)}}function tn_drawZoomButtons(){var e;1===window.tn.zoom||$(".tn-zoom-wrapper").length?1==window.tn.zoom?(clearTimeout(window.tn.zoomTimeout),$(".tn-zoom-wrapper__scale").text(Math.round(100*window.tn.zoom)+"%"),window.tn.zoomTimeout=setTimeout(function(){1==window.tn.zoom&&$(".tn-zoom-wrapper").fadeOut(300,function(){$(this).remove()})},7e3)):$(".tn-zoom-wrapper__scale").text(Math.round(100*window.tn.zoom)+"%"):(e='<div class="tn-zoom-wrapper"><div class="tn-zoom-wrapper__container"><div class="tn-zoom-wrapper__btn tn-zoom-wrapper__btn_out">–</div><div class="tn-zoom-wrapper__scale">'+Math.round(100*window.tn.zoom)+'%</div><div class="tn-zoom-wrapper__btn tn-zoom-wrapper__btn_in">+</div><div class="tn-zoom-wrapper__btn tn-zoom-wrapper__btn_reset">RESET</div></div></div>',$(".tn-mainmenu__leftside").append(e),$(".tn-zoom-wrapper .tn-zoom-wrapper__btn_out").click(tn_zoomOut),$(".tn-zoom-wrapper .tn-zoom-wrapper__btn_in").click(tn_zoomIn),$(".tn-zoom-wrapper .tn-zoom-wrapper__btn_reset").click(tn_zoomReset))}function tn_toggleSettings(e){$(".tn-right-box").hasClass("tn-display-none")?(tn_showSettings(),e&&sessionStorage.setItem("tzerosettingspanel","on")):(tn_hideSettings(),e&&sessionStorage.removeItem("tzerosettingspanel"))}function tn_showSettings(){$(".tn-right-box").removeClass("tn-display-none"),$(".tn-sett-btn").removeClass("tn-sett-btn_active"),$(".tn-more-sett").html("Hide Settings"),window.tn.flags.isRulersShow&&rulers__updatePanels()}function tn_hideSettings(){$(".tn-right-box").addClass("tn-display-none"),$(".tn-sett-btn").addClass("tn-sett-btn_active"),$(".tn-more-sett").html("Show Settings"),window.tn.flags.isRulersShow&&rulers__updatePanels()}function tn_close(){tn_console("func: close");var e=$(".tn-artboard").attr("data-record-id"),t=$(".tn-artboard").attr("data-page-id");artboard__Empty__toLS(),!window.frameElement&&0<t?window.location.href="/page/?pageid="+t:parent.tn_close(e,t)}function tn_toggleUI(){(window.tn.flags.isUiHidden?tn_showUI:tn_hideUI)()}function tn_showUI(){$(".tn-mainmenu").removeClass("tn-fullmin-display-none"),$(".tn-sett-wrapper").removeClass("tn-fullmin-display-none"),$(".tn-right-box").removeClass("tn-fullmin-display-none"),$(".tn-rulers-box").removeClass("tn-fullmin-display-none"),$(".tn-canvas-min").removeClass("tn-canvas-min_noborder"),$(".tn-guides-wrpr").removeClass("tn-canvas-min_noborder"),$(".tn-left-box").removeClass("tn-canvas-min_noborder"),grid__show(),window.tn.flags.isRulersShow&&rulers__updatePanels(),window.tn.flags.isUiHidden=!1}function tn_hideUI(){$(".tn-mainmenu").addClass("tn-fullmin-display-none"),$(".tn-sett-wrapper").addClass("tn-fullmin-display-none"),$(".tn-right-box").addClass("tn-fullmin-display-none"),$(".tn-rulers-box").addClass("tn-fullmin-display-none"),$(".tn-canvas-min").addClass("tn-canvas-min_noborder"),$(".tn-guides-wrpr").addClass("tn-canvas-min_noborder"),$(".tn-left-box").addClass("tn-canvas-min_noborder"),grid__hide(),panelLayers__close(),window.tn.flags.isUiHidden=!0}function tn_tooltip_update(){$(".tooltip").each(function(){var e=$(this);e.tooltipster({interactive:!0,theme:"tn-tooltip__tooltipster-noir",contentAsHTML:!0,content:e.attr("data-tooltip"),position:"bottom",functionReady:()=>{$("body").css("overflow-x","scroll")}})})}function floor__mousedown(e){tn_console("func: floor__mousedown"),addmenu__close(),moremenu__close();var t="yes",t=0<$(".tn-elem__selected").length?"yes":"";"object"==typeof e&&e.shiftKey&&"yes"==t||(1==$(document.activeElement).hasClass("sui-input")?setTimeout(function(){allelems__unselect()},10):allelems__unselect()),window.tn.flags.isSettingsFocused=!1,$("body").css("overflow-x","scroll"),$(".tn-elem__highlight").length&&$(".tn-elem__highlight").removeClass("tn-elem__highlight"),window.tn.flags.isRulersShow&&!t&&rulers__destroyHighlight(),tn_console_runtime()}function tn_tab(){0==$(".tn-right-box .tn-settings").length&&floor__mousedown(),tn_toggleSettings(!0)}function tn_set_lastChanges(){window.tn.last_changes=Date.now(),$(".tn-changes").html(window.tn.last_changes)}function tn_console(e){var t=arguments.callee.caller.name.toString();1==window.tn_comments&&(void 0===e&&(e="func: "+t),console.log(e)),1==window.tn_comments_deltatime&&(window["tn_microtime_"+t]=performance.now())}function tn_console_runtime(e){var t;1==window.tn_comments_deltatime&&(t=arguments.callee.caller.name.toString(),void 0===e&&(e="func: "+t+" runtime"),console.log(e+": "+(performance.now()-window["tn_microtime_"+t])))}function tn_anim__playAll(){var e=1200<=window.tn.curResolution?$('.tn-elem[data-field-animstyle-value!=""]'):$('.tn-elem[data-field-animstyle-value!=""][data-field-animmobile-value="y"]');e.hasClass("t-animate_started")&&(e.css({"transition-duration":"0s","transition-delay":"0s"}),e.removeClass("t-animate, t-animate_started")),e.addClass("t-animate"),e.each(function(){var e=$(this);tn_anim__setElemAnimStyle(e),tn_anim__setElemDelay(e),tn_anim__removeClassesAndAttrs(e)}),setTimeout(function(){e.addClass("t-animate_started"),$("body").addClass("t-body_anim-test")},300)}function tn_anim__playElem(e){window.tn.flags.isMultiEdit&&1<e.length?e.each(function(e,t){tn_anim__updateAnimState($(t))}):tn_anim__updateAnimState(e)}function tn_anim__updateAnimState(e){e.hasClass("t-animate_started")&&(e.css("transition-duration","0s"),e.removeClass("t-animate t-animate_started")),e.addClass("t-animate"),tn_anim__setElemAnimStyle(e),setTimeout(function(){e.addClass("t-animate_started"),$("body").addClass("t-body_anim-test")},300),tn_anim__removeClassesAndAttrs(e)}function tn_anim__removeClassesAndAttrs(e){e.on("TransitionEnd webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){var t=$(this);"box-shadow"==e.originalEvent.propertyName?console.log("box-shadow return"):(t.css({"transition-duration":"0s","transition-delay":"0s"}),t[0].offsetHeight,t.removeClass("t-animate t-animate_started"),t.removeAttr("data-animate-style data-animate-scale data-animate-distance"),t.css({"transition-duration":"","transition-delay":"",transform:""}),0!=$(".t-animate").length&&!window.tn.flags.isMultiEdit||$("body").removeClass("t-body_anim-test"),t.off(e))})}function tn_anim__setElemAnimStyle(e){var t=elem__getFieldValue(e,"animstyle"),i=elem__getFieldValue(e,"animduration"),n=(e.css({"transition-duration":"0s","transition-delay":"0s"}),e.attr("data-animate-style",t),elem__getFieldValue(e,"animdistance")),t=(void 0!==n&&""!=n&&(n=n.replace("px",""),e.attr("data-animate-distance",n),"fadeinup"==t&&e.css("transform","translate3d(0,"+n+"px,0)"),"fadeindown"==t&&e.css("transform","translate3d(0,-"+n+"px,0)"),"fadeinleft"==t&&e.css("transform","translate3d("+n+"px,0,0)"),"fadeinright"==t)&&e.css("transform","translate3d(-"+n+"px,0,0)"),elem__getFieldValue(e,"animscale"));void 0!==t&&""!=t&&(e.css("transform","scale("+t+")"),e.attr("data-animate-scale",t)),e[0].offsetHeight,void 0!==i&&""!=i?e.css("transition-duration",i+"s"):e.css("transition-duration","")}function tn_anim__setElemDelay(e){var t=elem__getFieldValue(e,"animdelay");void 0!==t&&""!=t&&e.css("transition-delay",t+"s")}function tn_receivers__openEditor(n){window.tn.flags.isSettingsFocused=!0;var o=$("body"),e=(o.append('<div class="tn-wincode" data-code-elem-id="'+n+'" style="position:fixed; z-index:10000; top:0; left:0; display:block; overflow-y: auto; overflow-x:hidden; width:100%; height:100vh; background-color:#fff;"><div style="display:table;width:100%; position:fixed; z-index:1000; width:100%;"><div style="display:table-cell; width:100%; height:60px; background-color:#000; text-align:right; vertical-align:middle;"><table width="150px" style="float:right;"><tr><td style="width:160px; padding-right:20px;"><div class="tn-code-save-btn" style="width:160px;"><div class="tn-code-save-btn__icon">Close & Update</div></div></td></tr></table></div></div><div style="display:table;width:100%;"><div style="display:table-cell; width:100%; height:100%; background-color:#fff;"><div style="display:block;width:720px;margin:auto;padding:20px;padding-top:100px;"><div class="receiverslist__wrapper"></div></div></div></div></div>'),window.lang="EN",window.lireplaces="",o.addClass("tn-body_lockscroll"),$(".tn-code-save-btn").click(function(){var e="",t="",i=($(".receiverslist__wrapper").find(":checkbox:checked").each(function(){e+=$(this).attr("value")+",",t+=$(this).parent().find("span").text()+", "}),""!=e&&(e=e.replace(/(^,)|(,$)/g,"")),""!=t&&(t=(t=tn_escapeHtml(t=tn_stripTags(t))).replaceAll('"',"")),$(".tn-wincode").attr("data-code-elem-id")),i=$("#"+i);elem__setFieldValue(i,"receivers",e),elem__setFieldValue(i,"receivers_names",t),control__drawUi__receivers(n),$(".tn-wincode").remove(),window.tn.flags.isSettingsFocused=!1,o.removeClass("tn-body_lockscroll"),""!=e&&tn_set_lastChanges()}),$(".tn-code-close-btn").click(function(){$(".tn-wincode").remove(),o.removeClass("tn-body_lockscroll"),window.tn.flags.isSettingsFocused=!1}),$(".tn-artboard").attr("data-page-id")),t=$(".tn-artboard").attr("data-record-id");$.ajax({type:"POST",url:"/zero/get/",data:{comm:"getzeroreceivers",pageid:e,recordid:t},dataType:"text",success:function(e){tn_receivers__drawReceiversList($("#"+n),e)},error:function(){alert("Some error loading and get receivers. Check an internet connection or try again later.")}})}function tn_receivers__drawReceiversList(e,t){if("{"===(t=void 0!==t&&""!=t?t:"{}")[0]){var i=JSON.parse(t),n="object"==typeof i?"object"==typeof i.formintegrations?i.formintegrations:{}:{},i=elem__getFieldValue(e,"receivers"),o=void 0!==i&&""!=i?i.split(","):[],s='<div style="font-weight:300;margin-bottom: 20px;">Form submissions are automatically stored in the <a href="https://tilda.cc/projects/leads/?projectid='+window.tildaprojectid+'" target="_blank" style="color:#f06847;text-decoration:none;">Leads section</a> of the website. You can always connect data capture services integrated with Tilda.</div><label class="pe-label" style="font-weight: bold; margin-bottom: 20px;">Connected services:</label>';if("object"!=typeof n||0==n.length)s+='<div class="pe-hint" style="padding-top: 0px;">You have not connected any service yet</div><br><a href="/projects/settings/?projectid='+projectid+'#tab=ss_menu_forms" class="pe-btn-black" style="color: #ffffff !important; font-weight: 500;">Connect</a>';else for(var l in n){for(var a=n[l],d="",r=0;r<o.length;r++)o[r]==a.hash&&(d='checked=""');s+='<label class="pe-label" style="font-size:18px;margin-bottom:12px;"><input type="checkbox" name="integs[]" value="'+a.hash+'" '+d+' data-form-type="'+a.type+'"><span>'+a.type+": "+a.name+"</span></label>"}s+='<div style="font-weight:300;margin-top: 20px;">You can receive form submissions to your email, Google Sheets, or any other integrated service such as MailChimp, SendGrid, Trello, Slack, etc. Assign services in the Site Settings → <a href="/projects/settings/?projectid='+window.tildaprojectid+'#tab=ss_menu_forms" target="_blank" style="color:#f06847;text-decoration:none;">Forms</a>. Learn more about connecting data capture services in our <a href="http://help.tilda.ws/forms" target="_blank" style="color:#f06847;text-decoration:none;">Help Center</a>.</div>',$(".receiverslist__wrapper").html(s)}else $(".receiverslist__wrapper").html(t)}function tn_alert(e){e='<div id="alert_popup" style="width:100%;position:fixed;z-index:9999;top:0;left:0;height:100vh;background-color:rgba(255,255,255,0.5);"><div style="width:400px;margin:0 auto;margin-top:40px;background-color:#ccc;padding:40px;box-shadow:0px 0px 26px 1px rgba(0,0,0,0.10);"><div>'+e+'<br><br><div class="sui-btn sui-btn_sm sui-btn-alert-ok">OK</div></div></div></div>';$("body").append(e),$(".sui-btn-alert-ok").click(function(){$("#alert_popup").remove()})}function tn_toggleSnap(){var e=tn_getLocalField("isSnapDisabled")?(tn_enableSnap(),!1):(tn_disableSnap(),!0);tn_setLocalField("isSnapDisabled",e),document.querySelector(".tn-more-snap").innerHTML=localStorage.getItem("isSnapDisabled")?"Enable Snapping":"Disable Snapping"}function tn_enableSnap(){$(".tn-elem, .tn-group").each(function(){var e=$(this);e.hasClass("tn-elem__fake")||e.draggable("option","snap",".tn-elem, .tn-guide, .tn-canvas-min, .tn-canvas-max")}),$(".tn-outline_selected").resizable("option","snap",".tn-elem, .tn-group, .tn-guide, .tn-canvas-min, .tn-canvas-max")}function tn_disableSnap(){$(".tn-elem, .tn-group").each(function(){var e=$(this);e.hasClass("tn-elem__fake")||e.draggable("option","snap",!1)}),$(".tn-outline_selected").resizable("option","snap",!1)}function tn_setSnapButtonText(e){e=e?"Enable Snapping":"Disable Snapping";$(".tn-more-snap").text(e)}function tn_getLocalField(e){var e=e.toString(),t=localStorage?localStorage.getItem(e):null;return t="isSnapDisabled"===e&&null!==t?"true"===t:t}function tn_setLocalField(e,t){localStorage&&localStorage.setItem(e.toString(),t)}function tn_calculateInputNumber(e){var t,i,n=(e="string"!=typeof e?e.toString():e).replace(/(\s)/gi,""),o=tn_validateCalcStr(n),s=n.lastIndexOf("("),l=!(s<0);if(o)return parseInt(e,10);for(;l;)t=n.indexOf(")",s),i=tn_calculateAdd(tn_calculateMultiple(n.slice(s+1,t))),(s=(n=n.substring(0,s)+i.toString()+n.substring(t+1)).lastIndexOf("("))<0&&(l=!1);return l||(n=tn_calculateAdd(tn_calculateMultiple(n))),parseFloat(parseFloat(n).toFixed(2))}function tn_calculateAdd(e){e=e.replace(/(-)/gi,"+-");return(e="+"===e[0]?e.slice(1):e).split("+").reduce(function(e,t){return e+parseFloat(t)},0).toString(10)}function tn_calculateMultiple(e){var t,i=e;for(/\//gi.test(i)&&(i=i.replace(/\/(\d+)/gi,function(e,t){return"*"+(1/parseFloat(t)).toString(10)})),t=/\*/gi.test(i);t;)i=i.replace(/(\d+\.?\d*)\*(\d+\.?\d*)/gi,function(e,t,i){return(parseFloat(t)*parseFloat(i)).toString(10)}),t=/\*/gi.test(i);return i}function tn_validateCalcStr(e){var t=/[^\d\+\-\*\/\(\)\.]|(\/0)|[\+\-\*\/]{2,}/gi.test(e),e=tn_hasIncorrectBrackets(e);return t||e}function tn_hasIncorrectBrackets(e){for(var t=0,i=0;0<=t&&i<e.length;)"("===e[i]?t++:")"===e[i]&&t--,i++;return 0!==t}function tn_isUploadedImage(e){var t,i=e;return"string"!=typeof e&&(t="image"===e.attr("data-elem-type")?"img":"bgimg",i=elem__getFieldValue(e,t)),void 0===i||0<=i.indexOf("static.tildacdn.com")}function tn_uploadImageToTilda(e,i){$.ajax({type:"POST",dataType:"json",url:"https://upload.tildacdn.com/api/upload/",data:{url:e,publickey:Tildaupload_PUBLICKEY,uploadkey:Tildaupload_UPLOADKEY||""},success:function(e){var t;e&&0<e.result.length?(t=e.result[0],i(t)):alert("Error. "+e.error)}})}function tn_createAbMoveEvent(){const t=document.querySelector(".tn-move-shape");let i=!1,n=!1,o,s;document.addEventListener("mousedown",function(e){e.target.closest(".tn-layout, .tn-vector-editor, .tn-move-shape")&&(1===e.button&&(e.preventDefault(),window.tn.flags.isPanMode=!0,n=!0,tn_showMoveShape()),window.tn.flags.isPanMode)&&(i=!0,t.style.cursor="grabbing",o={x:e.clientX,y:e.clientY},s={x:window.scrollX,y:window.scrollY})}),document.addEventListener("mousemove",function(e){var t;window.tn.flags.isPanMode&&i&&(t=e.clientX-o.x,e=e.clientY-o.y,t=s.x-t,e=s.y-e,window.scrollTo(t,e))}),document.addEventListener("mouseup",function(){n&&(tn_hideMoveShape(),window.tn.flags.isPanMode=!1),t.style.cursor="",i=!1,n=!1}),document.addEventListener("zoom:gesture-changed",tn_handleMoveShape),document.addEventListener("zoom:zoom-in",tn_handleMoveShape),document.addEventListener("zoom:zoom-out",tn_handleMoveShape),document.addEventListener("zoom:zoom-reset",tn_handleMoveShape)}function tn_handleMoveShape(e){var t=document.querySelector(".tn-move-shape");"block"===t.style.display&&(e=e?.detail.zoom||window.tn.zoom,t.style.cssText+=`
		height: ${1e4*e}px;
		width: ${12e3*e}px;
	`)}function tn_addMoveShape(){var e=document.createElement("div");e.classList.add("tn-move-shape"),document.body.appendChild(e)}function tn_showMoveShape(){var e=document.querySelector(".tn-move-shape");tn_handleMoveShape(),e.style.display="block"}function tn_hideMoveShape(){document.querySelector(".tn-move-shape").style.display=""}function tn_isGradientJSON(e){var t,i;try{t="linear"===(i=JSON.parse(e)).type||"radial"===i.type}catch(e){t=!1}return t}function tn_isGradientStyle(e){return/(-gradient\()/gim.test(e)}function tn_parseGradientFromJSON(e){var t,i;return tn_isGradientStyle(e)?t=e:(e="string"==typeof e?JSON.parse(e):e,i=t="",e.colors.forEach(function(e){i+=", "+e.color+" "+e.stop+"%"}),"linear"===e.type&&(t="linear-gradient("+e.angle+"deg"+i+")"),"radial"===e.type&&(t="radial-gradient("+(i=i.slice(2))+")")),t}function tn_updateInputValueOnKeyUp(e){window.tn.flags.isSettingsFocused=!0;var t=e.target,i=parseFloat(t.value),n=Number(t.getAttribute("data-input-step"))||1;if(!isNaN(i)){t=e.key;switch(t){case"ArrowUp":e.target.value=i+n||0;break;case"ArrowDown":e.target.value=i-n||0;break;case"Enter":e.target.blur(),window.tn.flags.isSettingsFocused=!1}["ArrowUp","ArrowDown","Enter"].includes(t)&&$(e.target).trigger("change")}}function tn_selectAllTextInsideField(e){e&&(e.addEventListener("focus",function(){e.focused||setTimeout(function(){e.select(),e.focused=!0},100)}),e.addEventListener("blur",()=>e.focused=!1))}function tn_addSectionHandlers(){var e;if("object"==typeof window.tn_sections_min){for(var t=0;t<window.tn_sections_min.length;t++)"position"!==(e=window.tn_sections_min[t])&&$("[data-section-name="+e+"]").addClass("sui-panel__section_closed");window.tn.flags.isMultiEdit&&["link","border","shadow"].forEach(function(e){$('[data-section-name="'+e+'"]').addClass("sui-panel__section_closed"),-1===window.tn_sections_min.indexOf(e)&&window.tn_sections_min.push(e)}),$(".sui-panel__section").find(".sui-label_title").click(function(){var e=$(this).parents(".sui-panel__section"),t=e.attr("data-section-name"),i=0<=window.tn_sections_min.indexOf(t);e.toggleClass("sui-panel__section_closed"),i?(e=$.grep(window.tn_sections_min,function(e){return e!==t}),window.tn_sections_min=e):window.tn_sections_min.push(t),window.sessionStorage&&sessionStorage.setItem("tn_sections_min",JSON.stringify(window.tn_sections_min))})}}function tn_replaceSingleQuotes(e){return e=e&&e.replaceAll("'",'"')}function tn_replaceDoubleQuotes(e){return e=e&&e.replaceAll('"',"'")}function tn_showFullscreenLoader(){$("body").append('<div class="tn-loader"><img src="https://tilda.cc/tpl/img/ajax-loader.gif"></div>'),$("body").addClass("tn-body_lockscroll")}function tn_hideFullscreenLoader(){$(".tn-loader").remove(),$("body").removeClass("tn-body_lockscroll")}function tn_getFiltersInfo(e){var t={};switch(e){case"blur":case"bd_blur":t.type="blur",t.default=0,t.units="px",t.slider={min:0,max:50,step:1},t.isBackdrop="bd_blur"===e;break;case"brightness":case"bd_brightness":t.type="brightness",t.default=100,t.units="%",t.slider={min:0,max:1e3,step:50},t.isBackdrop="bd_brightness"===e;break;case"contrast":case"bd_contrast":t.type="contrast",t.default=100,t.units="%",t.slider={min:0,max:1e3,step:50},t.isBackdrop="bd_contrast"===e;break;case"grayscale":case"bd_grayscale":t.type="grayscale",t.default=0,t.units="%",t.slider={min:0,max:100,step:5},t.isBackdrop="bd_grayscale"===e;break;case"hue-rotate":case"bd_hue-rotate":t.type="hue-rotate",t.default=0,t.units="deg",t.slider={min:-360,max:360,step:5},t.isBackdrop="bd_hue-rotate"===e;break;case"invert":case"bd_invert":t.type="invert",t.default=0,t.units="%",t.slider={min:0,max:100,step:5},t.isBackdrop="bd_invert"===e;break;case"saturate":case"bd_saturate":t.type="saturate",t.default=100,t.units="%",t.slider={min:0,max:1e3,step:50},t.isBackdrop="bd_saturate"===e;break;case"sepia":case"bd_sepia":t.type="sepia",t.default=0,t.units="%",t.slider={min:0,max:100,step:5},t.isBackdrop="bd_sepia"===e}return t}function tn_parseCSSFilter(e){var t,i;return!(!e||(t={isBackdrop:!1,type:"",value:0},!(e=e.split(" ")))||!e[1])&&(i=e[1].split("("),t.isBackdrop=0<=e[0].indexOf("backdrop"),t.type=i[0],t.value=parseInt(i[1],10),t)}function tn_generateFilter(e,t){var e=tn_getFiltersInfo(e),i=e.default,n=e.isBackdrop?"backdrop-filter":"filter";return(n+=": "+e.type+"(")+((i=void 0!==t?t:i)+e.units+");")}function tn_checkIsEffectsMixed(e){var t={isTypeMixed:!1,isValueMixed:!1},i=null;return e.each(function(){var e=tn_parseCSSFilter(elem__getFieldValue($(this),"effects"));if(null!==i)return i.type===e.type&&i.isBackdrop===e.isBackdrop||(t.isTypeMixed=!0),i.value!==e.value&&(t.isValueMixed=!0),(!t.isTypeMixed||!t.isValueMixed)&&void 0;i=e}),t}function getRandomInt(e,t){t=Math.floor(Math.random()*(t-e+1))+e;return 10*parseInt(t/10,10)}function tn_hex2rgb(e){e=parseInt(e.substring(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}function tn_hex2rgba(e,t){var i=e.replace(/#/,""),i=(3===i.length&&(e="#"+i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),parseInt(e.substring(1),16));return[(16711680&i)>>16,(65280&i)>>8,255&i,parseFloat(t)]}function tn_rgb2hex(e){var t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(null===t){if(null===(t=e.match(/^rgb\((([0-9]*[.])?[0-9]+),\s*(([0-9]*[.])?[0-9]+),\s*(([0-9]*[.])?[0-9]+)\)$/)))return;t[1]=255*parseFloat(t[1]),t[2]=255*parseFloat(t[3]),t[3]=255*parseFloat(t[5])}function i(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}return"#"+i(t[1])+i(t[2])+i(t[3])}function getRandomizer(e,t){return Math.floor(Math.random()*(1+t-e))+e}function tn_stripTags(e){return e=e&&e.replace(/(<([^>]+)>)/gi,"")}function tn_parseYoutubelink(e){return!e||-1===e.indexOf(".")&&e.length<13?e:tn_parseYoutubeLink__getID(e)}function tn_parseYoutubeLink__getID(t){return["https://youtube.com/","https://www.youtube.com/","https://youtu.be/"].forEach(function(e){t=t.replace(e,"")}),(t=t.replace("shorts/","").replace("watch?v=","").replace("embed/","").replace("live/",""))&&t.split("&")[0].split("?")[0]}function tn_parseVimeolink(e){var t=e.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/);return!e||0<e?e:!!t&&t[3]}function tn_escapeHtml(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(e){return t[e]})}function t_throttle(o,s,l){var a,d;return s=s||250,function(){var e,t=l||this,i=+new Date,n=arguments;return a&&i<a+s?(clearTimeout(d),d=setTimeout(function(){a=i,e=o.apply(t,n)},s)):(a=i,e=o.apply(t,n)),e}}function t_debounce(i,n,o){var s;return n=n||250,function(){var e=o||this,t=+new Date,e=!s||s+n<=t?i.apply(e,arguments):null;return s=t,e}}function calcMedian(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}function percentage(e,t){return e/100*t}function sortElemsByZindex(e){return e.sort(function(e,t){e=$(e),t=$(t),e=e.hasClass("tn-group")?group__getLowestZIndexInGroup(e.attr("id")):elem__getFieldValue(e,"zindex"),t=t.hasClass("tn-group")?group__getLowestZIndexInGroup(t.attr("id")):elem__getFieldValue(t,"zindex");return parseInt(e)<parseInt(t)})}function cmdSymbol(){return-1<navigator.platform.indexOf("Mac")?"⌘":"Ctrl"}function optionSymbol(){return-1<navigator.platform.indexOf("Mac")?"⌥":"Alt"}function isDefaultTildaFont(e){return-1<["Open Sans","PT Sans","PT Serif","Roboto","Roboto Condensed","Ubuntu","Playfair Display","Source Code Pro","Noto Sans","Noto Serif","IBM Plex Sans","IBM Plex Serif","Montserrat","Arial","Georgia","Times New Roman","FuturaPT","Circe","CirceRounded","Mediator","MediatorSerif","ReformaGrotesk","GraphikTT","DrukTextWideTT","KazimirText","OpinionPro","OrchideaPro","IskraCYR"].indexOf(e)}function changeFontWeightToNearest(e){return(e=parseInt(e,10))<=200?100:e<=300?300:e<=400?400:e<=500?500:e<=600?600:700}function tn_copyToClipboard(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function tn_onVariableLoad(t,i,n){void 0!==window[t]?i():setTimeout(function e(){if(void 0!==window[t])i();else{if((!n&&"complete"===document.readyState||1e4<Date.now()-n)&&void 0!==window[t])throw new Error(t+" is undefined");setTimeout(e,100)}})}function tn_onFuncLoad(t,i,n){"function"==typeof window[t]?i():setTimeout(function e(){if("function"==typeof window[t])i();else{if((!n&&"complete"===document.readyState||1e4<Date.now()-n)&&"function"!=typeof window[t])throw new Error(t+" is undefined");setTimeout(e,100)}})}function tn_emitEvent(e,t){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t})}function th_dispatchEvent(e){document.dispatchEvent(e)}function tn__getElem(e){return e instanceof jQuery?e.get(0):e}function tn__togglePublishButton(){var e=document.querySelector(".tn-publish-btn"),t=document.querySelector(".tn-more-publish").closest(".tn-more-popup__item");window.tn.flags.isPublishShow?(e.style.display="none",t.style.display="none",window.tn.flags.isPublishShow=!1):(e.style.display="",window.tn.flags.isPublishShow=!0,t.style.display="flex")}function tn__publishPage(){const i=document.querySelector(".tn-publish-btn"),t=(i.classList.add("tn-publish-btn_processed"),i.disabled="true",new URLSearchParams(window.location.search));artboard__Save__toDB("no-save-btn-state").done(e=>{""===e&&$.ajax({url:"/page/publish/",type:"POST",dataType:"text",data:{pageid:t.get("pageid"),returnjson:"yes",comm:"pagepublish"},success:t=>{try{dialogs__publish__show(JSON.parse(t))}catch(e){console.log(e),alert("Saving error. Please try again latter. Comments: "+t)}i.classList.remove("tn-publish-btn_processed"),i.disabled=""}})}).fail(()=>{i.classList.remove("tn-publish-btn_processed"),i.disabled=""})}function tn__getElems(e){return e instanceof jQuery?e.get():Array.isArray(e)?e:e instanceof NodeList?Array.from(e):e?[e]:[]}function tn__getjQueryElem(e){return e instanceof jQuery?e:$(e)}function tn__triggerConsoleMessage(e,t="log"){console[t](e)}function tn__documentOnReady(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}async function tn__postData(e,t={},i=null){const n=new FormData;Object.keys(t).forEach(e=>n.append(e,t[e]));var o=await fetch(e,{method:"POST",body:n}).catch(e=>{throw"function"==typeof i&&i(),new Error(e)});if(o.ok)return o.json();throw"function"==typeof i&&i(),new Error(`данные с ${e} не были получены`)}function tn_loadResource(e,t,i,n){var o=document.createElement("style"===e?"link":"script");return"script"===e&&(o.src=t),"style"===e&&(o.href=t,o.rel="stylesheet"),document.body.append(o),i&&"function"==typeof i&&o.addEventListener("load",i),n&&"function"==typeof n&&o.addEventListener("error",n),o}function tn_loadResourceAsync(n,o){return new Promise((e,t)=>{const i=tn_loadResource(n,o,()=>e(i),()=>t(i))})}function tn_html__openEditor(e){window.tn.flags.isSettingsFocused=!0;var t=$("#"+e).find(".tn-atom__html-textarea").val(),i=$("body"),n="",o=(i.append(n+('<div class="tn-wincode" data-code-elem-id="'+e+'" style="position:fixed; z-index:10000; top:0; left:0; display:table; width:100%; height:100vh; background-color:#aaa;">')+'<div style="display:table-row;">'+'<div style="display:table-cell; width:100%; height:60px; background-color:#000; text-align:right; vertical-align:middle;">'+'<table width="150px" style="float:right;">'+"<tr>"+'<td style="width:160px; padding-right:20px;"><div class="tn-code-save-btn" style="width:160px;"><div class="tn-code-save-btn__icon">Close & Update</div></div></td>'+"</tr>"+"</table>"+"</div>"+"</div>"+'<div style="display:table-row;">'+'<div style="display:table-cell; width:100%; height:100%; background-color:#eee;">'+'<pre id="aceeditor" style="width:100%;height:100vh;"></pre>'+"</div>"+"</div>"+"</div>"),$(".tn-wincode pre").text(t),ace.edit("aceeditor"));o.setTheme("ace/theme/github"),o.session.setMode("ace/mode/html"),o.setAutoScrollEditorIntoView(!0),o.setOption("minLines",10),o.setOption("maxLines",30),i.addClass("tn-body_lockscroll"),$(".tn-code-save-btn").click(function(){var e,t=o.getValue();null==(new DOMParser).parseFromString(t+'<div id="tilda"></div>',"text/html").body.querySelector("#tilda")?alert("Can't save, end tag is missing. Invalid HTML may cause problems with markup. Please fix it."):(e=$(".tn-wincode").attr("data-code-elem-id"),$("#"+e).find(".tn-atom__html-textarea").val(t),$(".tn-wincode").remove(),window.tn.flags.isSettingsFocused=!1,i.removeClass("tn-body_lockscroll"))}),$(".tn-code-close-btn").click(function(){$(".tn-wincode").remove(),i.removeClass("tn-body_lockscroll"),window.tn.flags.isSettingsFocused=!1})}function tn_form__openEditor(i){window.tn.flags.isSettingsFocused=!0;var n=$("#"+i).find(".tn-atom__inputs-textarea").val(),o=$("body");o.append('<div class="tn-wincode" data-code-elem-id="'+i+'" style="position:fixed; z-index:2000; top:0; left:0; display:block; overflow-y: auto; overflow-x:hidden; width:100%; height:100vh; background-color:#fff;"><div style="display:table;width:100%; position:fixed; z-index:1000; width:100%;"><div style="display:table-cell; width:100%; height:60px; background-color:#000; text-align:right; vertical-align:middle;"><table width="150px" style="float:right;"><tr><td style="width:160px; padding-right:20px;"><div class="tn-code-save-btn" style="width:160px;"><div class="tn-code-save-btn__icon">Close & Update</div></div></td></tr></table></div></div><div style="display:table;width:100%;"><div style="display:table-cell; width:100%; height:100%; background-color:#fff;"><div style="display:block;width:720px;margin:auto;padding:20px;padding-top:80px;"><textarea class="editlist__data" name="forminputs" rows="2" id="noredactor" style="height:100px; width:90%; display:none;">'+n+'</textarea><div class="editlist__wrapper" data-ui-type="edfo" data-foparams=""></div><a href="javascript:edfo__add()" style="font-size:14px; width:720px; font-weight:600; text-align:center; text-transform:uppercase; background-color:#000; color:#fff !important; display:block; padding:20px 0px; text-decoration:none;">Add input field</a><br></div></div></div></div>'),window.lang="EN",window.lireplaces="",edfo__init(),o.addClass("tn-body_lockscroll").removeClass("userselect_none"),$(".tn-code-save-btn").click(function(){edfo__allitems__getData__inJson();var e=$(".editlist__data").val(),t=$(".tn-wincode").attr("data-code-elem-id");$("#"+t).find(".tn-atom__inputs-textarea").val(e),control__drawUi__inputs(i),$(".tn-wincode").remove(),window.tn.flags.isSettingsFocused=!1,o.removeClass("tn-body_lockscroll").addClass("userselect_none"),elem__renderForm($("#"+t),e),e!==n&&tn_set_lastChanges(),window.tn.flags.isRulersShow&&_rulers__highlightObserverHander()}),$(".tn-code-close-btn").click(function(){$(".tn-wincode").remove(),o.removeClass("tn-body_lockscroll").addClass("userselect_none"),window.tn.flags.isSettingsFocused=!1})}function tn_form__preOpenEditor(i){$.getScript("/front/js/t-edrec-form.min.js",function(e,t){"success"==t?setTimeout(function(){tn_form__openEditor(i),window.tn.flags.isFormEditorLoading=!1},500):(window.tn.flags.isFormEditorLoading=!1,alert("Error open edit form inputs in zeroblock"))})}function editElementField_redactor(e){tn_console("func: editElementField");var t=$("body"),i=$("#mainmenu"),n=$("#for_redactor_toolbar"),o=e.attr("data-elem-type"),s=(allelems__closeEditMode(),allelems__unselect(),e.closest(".tn-group")),s=(s.length&&(s.addClass("tn-group__open"),s.draggable("disable")),window.tn.flags.isZeroHasPendingChanges=!1,window.tn.flags.isSettingsFocused=!0,t.removeClass("userselect_none"),e.addClass("redactor_open"),n.stop(),i.stop(),n.html(""),n.css("opacity","0"),i.animate({opacity:"0",top:"-60px"},400,"easeInCirc",function(){n.animate({opacity:"1",top:"0px"},300,"easeOutCirc")}),e.attr("data-edit-mode","yes"),e.draggable("disable"),e.resizable("disable"),tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:e),$(window).keydown(function(e){(e.metaKey||e.ctrlKey)&&86==e.keyCode&&(0!=t.scrollLeft()&&(window.bdy_left=t.scrollLeft()),window.bdy_top=t.scrollTop(),setTimeout(function(){t.scrollLeft(window.bdy_left),t.scrollTop(window.bdy_top)},5),setTimeout(function(){t.scrollLeft(window.bdy_left),t.scrollTop(window.bdy_top)},10),setTimeout(function(){t.scrollLeft(window.bdy_left),t.scrollTop(window.bdy_top)},50))}),".tn-atom");e.find(s="tooltip"==o?".tn-atom__tip-text":s).redactor({buttons:["bold","italic","deleted","link",""],focus:!0,linebreaks:!0,allowedTags:["p","a","i","b","br","div","del","u","ul","ol","li","sup","sub","em","table","tr","td","th","tbody","thead","strike","span","inline","strong"],replaceDivs:!1,cleanOnPaste:!0,toolbarExternal:"#for_redactor_toolbar",plugins:["underline","fontcolorex","fontweight","clearstyle"],dragUpload:!1,initCallback:function(){},changeCallback:function(){window.tn.flags.isZeroHasPendingChanges=!0},dropdownShownCallback:function(){},blurCallback:function(){saveElementEditedField(e)},pasteBeforeCallback:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=$.htmlClean(e,{format:!0,allowedTags:["div","span","p","h1","h2","h3","a","i","b","br","del","u","ul","ol","li","sup","sub","em","strike","strong"],allowedClasses:[""],allowedAttributes:[["href"],["style"],["rel"],["data-verified"],["data-redactor-tag"],["data-redactor-style"]]})).replace(/<h1\s(.*?)>/gi,"<h1>")).replace(/<h1><br\s?\/?><\/h1>/gi,"<br /><br />")).replace(/<h1>([\w\W]*?)<\/h1>/gi,"$1<br /><br />")).replace(/<h2\s(.*?)>/gi,"<h2>")).replace(/<h2><br\s?\/?><\/h2>/gi,"<br /><br />")).replace(/<h2>([\w\W]*?)<\/h2>/gi,"$1<br /><br />")).replace(/<h3\s(.*?)>/gi,"<h3>")).replace(/<h3><br\s?\/?><\/h3>/gi,"<br /><br />")).replace(/<h3>([\w\W]*?)<\/h3>/gi,"$1<br /><br />")).replace(/<div\s(.*?)>/gi,"<div>")).replace(/<div><br\s?\/?><\/div>/gi,"<br />")).replace(/<div>([\w\W]*?)<\/div>/gi,"$1<br />")}})}function editElementField(n,e){tn_console("func: editElementField");var t=n.attr("data-elem-type"),i=(allelems__closeEditMode(),allelems__unselect(),n.closest(".tn-group")),o=(i.length&&(i.addClass("tn-group__open"),i.draggable("disable")),window.tn.flags.isZeroHasPendingChanges=!1,window.tn.flags.isSettingsFocused=!0,$("body")),s=$("#for_redactor_toolbar"),i=$("#mainmenu");o.removeClass("userselect_none"),s.addClass("for_redactor_toolbar_zero"),n.addClass("redactor_open"),s.stop(),i.stop(),s.html(""),s.css("opacity","0"),i.animate({opacity:"0",top:"-60px"},400,"easeInCirc",function(){s.animate({opacity:"1",top:"0px"},300,"easeOutCirc")});let l=n.css("z-index");n.css("z-index","9999"),n.attr("data-edit-mode","yes"),n.draggable("disable"),n.resizable("disable"),tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:n),$(window).keydown(function(e){(e.metaKey||e.ctrlKey)&&86==e.keyCode&&(0!=o.scrollLeft()&&(window.bdy_left=o.scrollLeft()),window.bdy_top=o.scrollTop(),setTimeout(function(){o.scrollLeft(window.bdy_left),o.scrollTop(window.bdy_top)},5),setTimeout(function(){o.scrollLeft(window.bdy_left),o.scrollTop(window.bdy_top)},10),setTimeout(function(){o.scrollLeft(window.bdy_left),o.scrollTop(window.bdy_top)},50))});function a(e){var t=n,i=$("#for_redactor_toolbar");$(e.target).closest(t).length||$(e.target).closest(i).length||!n.find(".ql-editor").length||(n.css("z-index",l),c.setSelection(0),saveElementEditedField(n))}var d,r,_,i=".tn-atom",t=n.find(i="tooltip"==t?".tn-atom__tip-text":i),c=(e&&(i="caretRangeFromPoint"in document,d="caretPositionFromPoint"in document,i?(_=document.caretRangeFromPoint(e.clientX,e.clientY),r=tn_getCursorPositionFromRange(t[0],_)):d&&(r={start:(_=document.caretPositionFromPoint(e.clientX,e.clientY)).offset,end:_.offset,offset:0})),new Quill(t[0],{formats:["bold","color","italic","link","strike","underline","list","weight","subscript","superscript","background"],debug:!1,modules:{toolbar_content:{selector:"#for_redactor_toolbar",hint:!0,callback:function(){var e=$("#for_redactor_toolbar");e.find(".ql-font_custom").css("display","none"),e.find(".ql-size_custom").css("display","none"),e.find(".ql-lineheight_custom").css("display","none"),e.find(".ql-align_custom").css("display","none")}},popup:!0,tooltip:!0,clipboard:!0,dropdown:!0,tilda_link:".ql-link_custom",textcolor:".ql-color_custom",weightDropdown:".ql-weight_custom",cleanstyle:".ql-clean_custom",typograph:".ql-typograph_custom",more:".ql-more_custom",tilda_hotkeys:!0,toolbar:{container:"#for_redactor_toolbar",toolbarOptions:["bold","italic","underline",{list:"ordered"},{list:"bullet"},"link"]}}}));c.on("text-change",function(){window.tn.flags.isZeroHasPendingChanges=!0,Quill.addMarkersOnTextChange(c)}),r&&r.start?c.setSelection(r.start,r.offset):c.focus();$(document).off("mousedown",a),$(document).on("mousedown",a)}function saveElementEditedField(e){tn_console("^^^^^^^^^^ func: saveElementEditedField");var t,i=e.find(".tn-atom"),n=i.css("color"),o=(void 0!==n&&""!=n&&void 0!==i.attr("style")&&""!=i.attr("style")&&-1!==i.attr("style").indexOf("color:")&&"undefined"!=(o=elem__getFieldValue(e,"color"))&&""!=o&&o!=(o=tn_rgb2hex(n))&&elem__setFieldValue(e,"color",o,"render","updateui"),1===i.find("a").length&&void 0!==(n=i.html())&&"<a href="===n.substring(0,8)&&"</a>"==n.slice(-4)&&alert("To put a link to the entire text, we recommend using the special 'link' field in the panel setting."),window.tn.flags.isSettingsFocused=!1,e.attr("data-elem-type")),i=($("body").addClass("userselect_none"),e.removeClass("redactor_open"),".tn-atom"),n=("tooltip"===o&&(i=".tn-atom__tip-text"),"q"===window.ver_redactor?(t=(t=(t=(t=e.find(i).find(".ql-editor").html()).replace(/&nbsp;/g," ")).replace(/<br>/gi,"")).replace(/<p>([\w\W]*?)<\/p>/gi,"$1<br />"),"<br />"===(t=Quill.addNbspMarkers(t)).slice(-6)&&"<br /><br />"!==t.slice(-12)&&(t=t.substring(0,t.length-6))):t=(t=e.find(i).redactor("code.get")).replace(/&nbsp;/g," "),e.find(i).attr("style"));("q"===window.ver_redactor?e.find(".ql-editor"):e.find(".redactor-box")).remove(),"text"===o&&("q"===window.ver_redactor?e.find(".ql-container").removeClass("ql-container"):e.prepend('<div class="tn-atom" field="text"></div>'),e.find(".tn-atom").html(t),e.find(".tn-atom").attr("style",n)),"tooltip"===o&&(e.find(".tn-atom__tip").html('<div class="tn-atom__tip-text" field="tipcaption"></div>'),e.find(".tn-atom__tip-text").html(t),e.find(".tn-atom__tip-text").attr("style",n)),e.attr("data-edit-mode",""),$("#for_redactor_toolbar").finish(),$("#mainmenu").finish(),$("#for_redactor_toolbar").animate({opacity:"0",top:"-60px"},400,"easeInCirc",function(){$("#for_redactor_toolbar").html(""),$("#mainmenu").animate({opacity:"1",top:"0px"},300,"easeOutCirc")}),window.tn.flags.isZeroHasPendingChanges=!1,tn_set_lastChanges(),elem__renderView(e),layers__update()}function tn_input__openRedactor(e,n){window.tn.flags.isSettingsFocused=!0;var t=e.attr("data-elem-id"),e=elem__getFieldValue(e,n),o=$("body"),t=(o.append('<div class="tn-wincode" data-code-elem-id="'+t+'" data-code-field="'+n+'" style="position:fixed; z-index:2000; top:0; left:0; display:table; width:100%; height:100vh; background-color:#aaa;"><div style="display:table-row;"><div style="display:table-cell; width:100%; height:60px; background-color:#000; text-align:right; vertical-align:middle;"><table width="150px" style="float:right;"><tr><td style="width:160px; padding-right:20px;"><div class="tn-code-save-btn" style="width:160px;"><div class="tn-code-save-btn__icon">Close & Update</div></div></td></tr></table></div></div><div style="display:table-row;"><div style="display:table-cell; width:100%; height:100%; background-color:#eee;"><div style="display:block;width:720px;margin:auto;margin-top:20px;background-color:#fff;border:1px solid rgba(0,0,0,0.2);"><div style="width:100%;position:relative;"><textarea id="redtext" rows="4" redaktormin="yes" style="width:720px;min-height:200px;"></textarea></div></div></div></div><style>.tn-wincode .redactor-editor{background-color:#fff;min-height:200px;padding:10px;}</style></div>'),$(".tn-wincode #redtext"));t.val(e),("q"===window.ver_redactor?tn_input__openEditor__addEditor:tn_input__openRedactor__addRedactor)(t),setTimeout(function(){window.tn.flags.isSettingsFocused=!0},500),o.addClass("tn-body_lockscroll").removeClass("userselect_none"),$(".tn-code-save-btn").click(function(){"q"===window.ver_redactor?(e=(e=(e=(e=$(".tn-wincode .ql-editor").html()).replace(/&nbsp;/g," ")).replace(/<br>/gi,"")).replace(/<p>([\w\W]*?)<\/p>/gi,"$1<br />"),"<br />"===(e="formbottomtext"!==n&&"formmsgsuccess"!==n?Quill.addNbspMarkers(e):e).slice(-6)&&"<br /><br />"!==e.slice(-12)&&(e=e.substring(0,e.length-6))):e=$(".tn-wincode #redtext").val();var e,t=$(".tn-wincode").attr("data-code-elem-id"),i=$(".tn-wincode").attr("data-code-field"),t=$("#"+t);elem__setFieldValue(t,i,e,"render","updateui"),elem__renderForm(t),$(".tn-wincode").remove(),window.tn.flags.isSettingsFocused=!1,o.removeClass("tn-body_lockscroll").addClass("userselect_none")}),$(".tn-code-close-btn").click(function(){$(".tn-wincode").remove(),o.removeClass("tn-body_lockscroll").addClass("userselect_none"),window.tn.flags.isSettingsFocused=!1})}function tn_input__openEditor__addEditor(e){var t=e.val(),i=e.parent(),e=(e.replaceWith('<div class="tn-form-editor__wrapper"></div>'),new Quill(i.find(".tn-form-editor__wrapper")[0],{formats:["bold","color","font","italic","link","size","strike","underline","list","align","weight","lineheight","align","subscript","superscript","background"],debug:!1,modules:{toolbar_content:{toolbarClass:"tn-form-editor__toolbar",editorWrapper:i,hint:!0},popup:!0,tooltip:!0,clipboard:!0,dropdown:!0,tilda_link:".ql-link_custom",textcolor:".ql-color_custom",weightDropdown:".ql-weight_custom",fontDropdown:".ql-font_custom",sizeDropdown:".ql-size_custom",lineheightDropdown:".ql-lineheight_custom",alignDropdown:".ql-align_custom",typograph:".ql-typograph_custom",cleanstyle:".ql-clean_custom",more:".ql-more_custom",tilda_hotkeys:!0,toolbar:{container:".tn-form-editor__toolbar",toolbarOptions:["bold","italic","underline",{list:"ordered"},{list:"bullet"},"link"]}}}));e.setContents(e.clipboard.convert(t)),e.on("text-change",function(){window.tn.flags.isZeroHasPendingChanges=!0}),e.on("selection-change",function(){window.tn.flags.isSettingsFocused=!0}),e.focus()}function tn_input__openRedactor__addRedactor(e){e.redactor({lang:"en",focus:!0,linebreaks:!0,boldTag:"b",italicTag:"i",replaceDivs:!1,allowedTags:["p","a","i","b","br","div","del","u","ul","ol","li","hr","sup","sub","em","table","tr","td","th","tbody","thead","strike","span","inline","strong","h1","h2","h3","h4","h5","h6"],buttons:["bold","italic","deleted","link","unorderedlist","orderedlist",""],dragUpload:!1,plugins:["underline","fontcolorex","fontweight","setfontfamily","setfontsize","setlineheight","setalign","clearstyle"],initCallback:function(){},changeCallback:function(){window.tn.flags.isZeroHasPendingChanges=!0},focusCallback:function(){var e;1==this.$editor.has("div").is("div")&&(void 0!==(e=getAttrStrintoArr(this.$editor.find("div").attr("style")))["font-size"]&&""!=e["font-size"]&&this.setfontsize.enter(e["font-size"]),void 0!==e["line-height"]&&""!=e["line-height"]&&this.setlineheight.enter(e["line-height"]),void 0!==e["text-align"]&&""!=e["text-align"]&&this.setalign.enter(e["text-align"]),void 0!==e["font-family"]&&""!=e["font-family"]&&this.setfontfamily.enter(e["font-family"]),void 0!==e.color&&""!=e.color&&this.fontcolorex.enter(e.color),this.$editor.find("div").contents().unwrap())},blurCallback:function(){var e,t,i;window.tn.flags.isZeroHasPendingChanges&&(e=(e=this.$editor.html()).replace(/&nbsp;/g," "),t="",null!=(i=this.$box.parent()).attr("data-redactor-font-size")&&(t=t+"font-size:"+i.attr("data-redactor-font-size")+";"),null!=i.attr("data-redactor-line-height")&&(t=t+"line-height:"+i.attr("data-redactor-line-height")+";"),null!=i.attr("data-redactor-text-align")&&(t=t+"text-align:"+i.attr("data-redactor-text-align")+";"),null!=i.attr("data-redactor-font-family")&&(t=t+"font-family:"+i.attr("data-redactor-font-family")+";"),""!=(t=null!=i.attr("data-redactor-color")?t+"color:"+i.attr("data-redactor-color")+";":t)&&(this.$editor.html(e='<div style="'+t+'" data-customstyle="yes">'+e+"</div>"),this.code.sync()),setTimeout(function(){i.find("textarea").trigger("change")},100))},pasteBeforeCallback:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=$.htmlClean(e,{format:!0,allowedTags:["div","span","p","h1","h2","h3","a","i","b","br","del","u","ul","ol","li","sup","sub","em","strike","strong"],allowedClasses:[""],allowedAttributes:[["href"],["style"],["rel"],["data-verified"],["data-redactor-tag"],["data-redactor-style"]]})).replace(/<h1\s(.*?)>/gi,"<h1>")).replace(/<h1><br\s?\/?><\/h1>/gi,"<br /><br />")).replace(/<h1>([\w\W]*?)<\/h1>/gi,"$1<br /><br />")).replace(/<h2\s(.*?)>/gi,"<h2>")).replace(/<h2><br\s?\/?><\/h2>/gi,"<br /><br />")).replace(/<h2>([\w\W]*?)<\/h2>/gi,"$1<br /><br />")).replace(/<h3\s(.*?)>/gi,"<h3>")).replace(/<h3><br\s?\/?><\/h3>/gi,"<br /><br />")).replace(/<h3>([\w\W]*?)<\/h3>/gi,"$1<br /><br />")).replace(/<div\s(.*?)>/gi,"<div>")).replace(/<div><br\s?\/?><\/div>/gi,"<br />")).replace(/<div>([\w\W]*?)<\/div>/gi,"$1<br />")}})}function tn_getCursorPositionFromRange(e,t){function s(e,t,i){var n=0;if("#text"===t.nodeName)n+=i;else for(var o=0;o<i;o++)n+=function e(t){var i=0;if("BR"===t.nodeName)i=1;else if("#text"===t.nodeName)i=t.nodeValue.length;else if(null!=t.childNodes)for(var n=0;n<t.childNodes.length;n++)i+=e(t.childNodes[n]);return i}(t.childNodes[o]);return t!=e&&null!=t.parentNode&&(n+=s(e,t.parentNode,function e(t){return null==t?-1:e(t.previousSibling)+1}(t))),n}var i=0,n=0,o=0;return t&&(i=s(e,t.startContainer,t.startOffset),n=s(e,t.endContainer,t.endOffset),o=Math.max(n-i,0)),{start:i,end:n,offset:o}}function tn_tui_editimage(e,i){var t,e=tn__tui__getImageURL(document.getElementById(e));e&&(tn_tui__processTnObj(),window.upload_saveAs=(e,t)=>{i(e,t),window.tuiEditor.destroy();e=document.getElementById(window.tn.imageEditor.widgetID);e&&e.remove(),window.tuiEditor=!1,window.tn.flags.isWidgetFocused=!1},window.tuiEditor&&(t=document.querySelector("."+window.tn.imageEditor.widgetClass))&&(t.style.display="block"),tn_tui_processDataForEditor(e))}function tn_tui__processTnObj(){window.tn||(window.tn={}),window.tn.imageEditor||(window.tn.imageEditor={}),window.tn.imageEditor.widgetID||(window.tn.imageEditor.widgetID="tuiEditorTildaWidget"),window.tn.imageEditor.widgetClass||(window.tn.imageEditor.widgetClass="tui__editor-container"),window.tn.imageEditor.closeBtnClass||(window.tn.imageEditor.closeBtnClass="tui__editor-header-close")}function tn_tui_processDataForEditor(e){var t;window.tn.flags.isWidgetFocused=!0,window.tuiEditor?(t=(t=e.split("/"))[t.length-1],window.tuiEditor.loadImageFromURL(e,t)):tn__tui__processEditorOnLoad(e)}function tn__tui__processEditorOnLoad(e){if(window.tuiEditorLoad)tn_tui_addTuiContainer(),tn_tui_initImageEditor(e);else if(!document.getElementById("tuiEditorTildaScriptVersion")){var t=document.createElement("link");t.rel="stylesheet",t.href="/front/css/tui.min.css",document.documentElement.appendChild(t);const i=document.createElement("script");i.src="/front/js/tui-im-edit.min.js",i.id="tuiEditorTildaScriptVersion",document.documentElement.appendChild(i),i.onload=()=>{window.tuiEditorLoad=!0,i.executed||(i.executed=!0,tn_tui_processDataForEditor(e))},i.onerror=e=>{tn__triggerConsoleMessage("error onload script "+e.target.src,"warn"),window.tuiEditorLoad=!1},i.onreadystatechange=()=>{"complete"!==i.readyState&&"loaded"!==i.readyState||i.load()}}}function tn__tui__getImageURL(e){return e&&(elem__getFieldValue(e,"img")||elem__getFieldValue(e,"bgimg")||elem__getFieldValue(e,"tipimg"))||""}function tn_tui_initImageEditor(e){window.tuiEditor=new tui.ImageEditor("#tui-image-editor-container",{includeUI:{menu:["crop","flip","rotate","text","draw","filter"],loadImage:{path:tn_tui_processImageURLBeforeInit(e),name:"SampleImage"},theme:{"common.bi.image":"","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","downloadButton.backgroundColor":"#fa876b","downloadButton.border":"1px solid #fa876b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.path":"/tpl/tuieditor/dist/svg/icon-d.svg","menu.normalIcon.name":"icon-d","menu.activeIcon.path":"/tpl/tuieditor/dist/svg/icon-b.svg","menu.activeIcon.name":"icon-b","menu.disabledIcon.path":"/tpl/tuieditor/dist/svg/icon-a.svg","menu.disabledIcon.name":"icon-a","menu.hoverIcon.path":"/tpl/tuieditor/dist/svg/icon-c.svg","menu.hoverIcon.name":"icon-c","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalIcon.path":"/tpl/tuieditor/dist/svg/icon-d.svg","submenu.normalIcon.name":"icon-d","submenu.activeIcon.path":"/tpl/tuieditor/dist/svg/icon-c.svg","submenu.activeIcon.name":"icon-c","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},menuBarPosition:"top",usageStatistics:!1},cssMaxWidth:800,cssMaxHeight:600,usageStatistics:!1})}function tn_tui_processImageURLBeforeInit(e){if(e.includes("tildacdn.info")){var t=e.lastIndexOf("/");if(t!==e.length-1)return e.substring(0,t+1)}return"/"===e.substring(0,1)?"https://tilda.cc"+e:e}function tn_tui_addTuiContainer(){tn_tui__closeImageEditor();var e=document.createElement("div"),e=(e.id=window.tn.imageEditor.widgetID,e.className=window.tn.imageEditor.widgetClass,e.innerHTML=`
		<div class="tui__editor-fullscreen_bg"></div>
		<div class="tui__editor-wrap">
			<div class="tui__editor-header">
				<span>Photo Editor</span>
				<span class="${window.tn.imageEditor.closeBtnClass}"></span>
			</div>
			<div id="tui-image-editor-container"></div>
		</div>`,document.documentElement.appendChild(e),document.querySelector("."+window.tn.imageEditor.closeBtnClass));e&&e.addEventListener("click",tn_tui__closeImageEditor)}function tn_tui__closeImageEditor(){var e=document.getElementById(window.tn.imageEditor.widgetID);e&&e.remove(),window.tn.flags.isWidgetFocused=!1,window.tuiEditor=!1}function tn_openImageSearchPopup(i,t){const n=window.tn?.artboard_id||"",o=(tn__appendImageSearchScriptsAndStyles(),document.querySelector(".pe-imagesearch-btn"));o&&(o.style.cssText+="opacity: 0.4; pointer-events: none;"),tn__documentOnReady(()=>{var e=document.getElementById(i)?.closest(".js-image-box")?.querySelector("a[data-imagesearch-type]"),e=e&&e.getAttribute("data-imagesearch-type")||"";tn__postData("/projects/get/getimagesearch/",{imgid:i,imgcallback:"tn_insertImageFromSearch",imgtype:e,recid:n,tn_field:t,tn_elem_id:i,v:2},()=>{o&&(o.style.cssText+="opacity: 1; pointer-events: auto;")}).then(t=>{window.tn.flags.isSettingsFocused=!0,o&&(o.style.cssText+="opacity: 1; pointer-events: auto;"),(t||t.userid)&&tn_onFuncLoad("tis__showImageSearch",()=>{var e=t.imgcallback||"tn_insertImageFromSearch";tis__showImageSearch(i,t.userid,t.userhash,e)},Date.now())})})}function tn__appendImageSearchScriptsAndStyles(){var e,t="js-tis-imagesearch";"function"==typeof tis__showImageSearch||document.getElementById(t)||((e=document.createElement("script")).id=t,e.src="https://front.tildacdn.com/ccimagesearch/js/t__imagesearch.min.js",document.documentElement.appendChild(e),(t=document.createElement("link")).rel="stylesheet",t.href="https://front.tildacdn.com/ccimagesearch/css/t_imagesearch.min.css",document.documentElement.appendChild(t))}function tn_insertImageFromSearch(e,t){var e=document.getElementById(e);e&&(e=e.getAttribute("data-elem-type"),e=document.querySelector(`.tn-settings [name="${"shape"===e||"video"===e?"bgimg":"img"}"]`))&&$(e).data("tildaupload").uploadFileFromURL(t)}function smartAlignElements(){tn_console("func: smartAlignElements"),window.smartAlign__rowsObj=smartAlign__getRowsObj(),smartAlign__setRowParams(),smartAlign__setHorizontalAlignBasedOnMinLeft(),smartAlign__calcAveragePaddingForRows(),smartAlign__setHorizontalAveragePaddingInRow(),smartAlign__setTopForElemsInRow(),smartAlign__calcRowsVerticalAveragePadding(),smartAlign__setRowsVerticalAveragePadding(),smartAlign__elems__Save__currentPosition(),smartAlign__setElemsFieldValues(),tn_setOutlinePosition("selected"),tn_destroyTidyControls(),tn_createSpacingControls(),tn_multiEdit__updateUi()}function setAverageHorizontalPadding(e){tn_console("func: setAverageHorizontalPadding"),window.smartAlign__rowsObj=smartAlign__getRowsObj(),smartAlign__setRowParams(),smartAlign__setHorizontalAlignBasedOnMinLeft(),smartAlign__setHorizontalAveragePaddingInRow(e),smartAlign__elems__Save__currentPosition(),smartAlign__setElemsFieldValues(e,"horizontal"),tn_setOutlinePosition("selected"),tn_destroyTidyControls(),tn_createSpacingControls()}function setAverageVerticalPadding(e){window.smartAlign__rowsObj=smartAlign__getRowsObj(),smartAlign__setRowParams(),smartAlign__setRowsVerticalAveragePadding(e),smartAlign__elems__Save__currentPosition(),smartAlign__setElemsFieldValues(e,"vertical"),tn_setOutlinePosition("selected"),tn_destroyTidyControls(),tn_createSpacingControls()}function smartAlign__elems__setSpacingFieldValues(){tn_console("func: smartAlign__elems__setSpacingFieldValues"),smartAlign__calcAverageSpacing();var e=smartAlign__checkEqualCurrentAndCalcSpacings();!0===e.vertical&&!0===e.horizontal?smartAlign__setElemsFieldValues():!0===e.vertical?smartAlign__setElemsFieldValues(null,"vertical"):!0===e.horizontal&&smartAlign__setElemsFieldValues(null,"horizontal")}function smartAlign__calcAverageSpacing(){tn_console("func: smartAlign__calcAverageSpacing"),window.smartAlign__rowsObj=smartAlign__getRowsObj(),smartAlign__setRowParams(),smartAlign__calcAveragePaddingForRows(),smartAlign__calcRowsVerticalAveragePadding()}function smartAlign__getElemsDOMArray(){tn_console("func: smartAlign__getElemsDOMArray");for(var e=document.querySelectorAll(".tn-group__selected, .tn-elem__selected:not([data-field-groupid-value]), .tn-group__open .tn-elem__selected"),t=[],i=0;i<e.length;i++)t.push(e[i]);return t=1===t.length&&t[0].classList.contains("tn-group")?Array.from(t[0].children):t}function smartAlign__sortElemsBasedOnPosition(){tn_console("func: smartAlign__sortElemsBasedOnPosition");for(var e=smartAlign__sortBy("top",smartAlign__getElemsDOMArray()),t={elems:[]},i={elems:[]},n=0;n<e.length;n++){var o=e[n],s=0===i.elems.length?o:i.elems[0];smartAlign_getElemAbsRect(o).top+1>smartAlign_getElemAbsRect(s).bottom&&(i.elems=smartAlign__sortBy("left",i.elems),t.elems.push(i),i={elems:[]}),i.elems.push(o),e.length-1===n&&(i.elems=smartAlign__sortBy("left",i.elems),t.elems.push(i))}var l=[];return t.elems.forEach(function(e){e.elems.forEach(function(e){l.push(e)})}),l}function smartAlign__getRowsObj(){tn_console("func: smartAlign__getRowsObj");for(var e=smartAlign__sortElemsBasedOnPosition(),t={elems:[]},i={elems:[]},n=0;n<e.length;n++){var o=e[n],s=0===i.elems.length?o:i.elems[0];smartAlign_getElemAbsRect(o).top+1>smartAlign_getElemAbsRect(s).bottom&&(t.elems.push(i),i={elems:[]}),i.elems.push(o),e.length-1===n&&t.elems.push(i)}return t}function smartAlign__setRowParams(){tn_console("func: smartAlign__setRowParams");for(var e=window.smartAlign__rowsObj.elems,t=1e5,i=0;i<e.length;i++){for(var n=e[i],o=(0===i||e[i-1].maxBottom,1e5),s=0,l=0;l<n.elems.length;l++){var a=n.elems[l];smartAlign_getElemAbsRect(a).top<o&&(o=smartAlign_getElemAbsRect(a).top),smartAlign_getElemAbsRect(a).bottom>s&&(s=smartAlign_getElemAbsRect(a).bottom),smartAlign_getElemAbsRect(a).left<t&&(t=smartAlign_getElemAbsRect(a).left)}n.minTop=o,n.maxBottom=s}return window.smartAlign__rowsObj.minLeft=t,e}function smartAlign__setHorizontalAlignBasedOnMinLeft(){tn_console("func: smartAlign__setHorizontalAlignBasedOnMinLeft");for(var e=window.smartAlign__rowsObj.minLeft,t=window.smartAlign__rowsObj.elems,i=0;i<t.length;i++){var n=t[i],o=0;if(smartAlign_getElemAbsRect(n.elems[0]).left>e)for(var s=0;s<n.elems.length;s++){var l=n.elems[s];0===s?(o=smartAlign_getElemAbsRect(l).left-e,l.style.left=e+"px"):l.style.left=smartAlign_getElemAbsRect(l).left-o+"px"}}return t}function smartAlign__calcAveragePaddingForRows(){tn_console("func: smartAlign__calcAveragePaddingForRows");for(var e=window.smartAlign__rowsObj.elems,t=0;t<e.length;t++){for(var i=e[t],n=[],o=[],s=0;s<i.elems.length;s++){var l,a,d=i.elems[s];0!==s&&(l=i.elems[s-1],smartAlign_getElemAbsRect(d).top>smartAlign_getElemAbsRect(l).bottom?(a=smartAlign_getElemAbsRect(d).top-smartAlign_getElemAbsRect(l).bottom,o.push(a)):(a=smartAlign_getElemAbsRect(d).left-smartAlign_getElemAbsRect(l).right,n.push(a)))}e[t].averageHorizontalPadding=Math.round(calcMedian(n))||"",e[t].averageVerticalColumnPadding=Math.round(calcMedian(o))||""}for(var r=[],_=0;_<e.length;_++)0!==(i=e[_]).averageHorizontalPadding&&""!==i.averageHorizontalPadding&&r.push(i.averageHorizontalPadding);return e.averageHorizontalPadding=Math.round(calcMedian(r))||"",e}function smartAlign__setHorizontalAveragePaddingInRow(e){tn_console("func: smartAlign__setHorizontalAveragePaddingInRow");for(var t=window.smartAlign__rowsObj.elems,i=0;i<t.length;i++)for(var n=t[i],o=0<arguments.length?e:t.averageHorizontalPadding,s=0;s<n.elems.length;s++){var l,a=n.elems[s];0!==s&&(l=n.elems[s-1],smartAlign_getElemAbsRect(a).top>smartAlign_getElemAbsRect(l).bottom?a.style.left=smartAlign_getElemAbsRect(l).left+"px":a.style.left=smartAlign_getElemAbsRect(l).right+o+"px")}}function smartAlign__setTopForElemsInRow(){tn_console("func: smartAlign__setTopForElemsInRow");for(var e=window.smartAlign__rowsObj.elems,t=0;t<e.length;t++)for(var i=e[t],n=e[t].minTop,o=0;o<i.elems.length;o++){var s=i.elems[o],l=i.elems[o-1];0!==o&&smartAlign_getElemAbsRect(s).top>smartAlign_getElemAbsRect(l).bottom||(s.style.top=n+"px")}}function smartAlign__calcRowsVerticalAveragePadding(){tn_console("func: smartAlign__calcRowsVerticalAveragePadding");for(var e,t,i=window.smartAlign__rowsObj.elems,n=0,o=[],s=0;s<i.length;s++)0!==s&&(t=i[s],e=i[s-1],t=t.minTop-e.maxBottom,o.push(t));for(var l=0;l<o.length;l++)n+=o[l];var a=Math.round(n/o.length||"");return""===a&&0===a||(i.averageVerticalPadding=a),i}function smartAlign__setRowsVerticalAveragePadding(e){tn_console("func: smartAlign__setRowsVerticalAveragePadding");for(var t=window.smartAlign__rowsObj.elems,i=0<arguments.length?e:t.averageVerticalPadding,n=0;n<t.length;n++){for(var o=t[n],s=0===n?t[n]:t[n-1],l=0;l<o.elems.length;l++){var a,d=1===t.length?o.averageHorizontalColumnPadding:s.maxBottom+i,r=o.elems[l],_=o.elems[l-1],c=i||o.averageVerticalColumnPadding;0!==l&&(1!==t.length&&smartAlign_getElemAbsRect(r).top>a.bottom&&smartAlign_getElemAbsRect(r).top<smartAlign_getElemAbsRect(_).bottom&&(r.style.top=smartAlign_getElemAbsRect(_).bottom+c+"px"),smartAlign_getElemAbsRect(r).top>smartAlign_getElemAbsRect(_).bottom&&a&&smartAlign_getElemAbsRect(r).top===a.top&&(r.style.top=smartAlign_getElemAbsRect(_).top+"px"),smartAlign_getElemAbsRect(r).top>smartAlign_getElemAbsRect(_).bottom)&&(r.style.top=smartAlign_getElemAbsRect(_).bottom+c+"px"),a={top:smartAlign_getElemAbsRect(r).top,bottom:smartAlign_getElemAbsRect(r).bottom},1!==t.length&&(a={top:smartAlign_getElemAbsRect(r).top,bottom:smartAlign_getElemAbsRect(r).bottom},0!==n)&&(r.style.top=d+"px")}smartAlign__setRowParams()}}function smartAlign__setElemsFieldValues(e,t){tn_console("func: smartAlign__setElemsFieldValues");var i=window.smartAlign__rowsObj.elems,n=i.averageHorizontalPadding,o=i.averageVerticalPadding,s=$(".tn-settings"),l=s.find('[data-control-field="horizontalpadding"] .sui-slider'),a=s.find('[data-control-field="verticalpadding"] .sui-slider');"horizontal"===t?n=e||i.averageHorizontalPadding:"vertical"===t&&(o=e||i.averageVerticalPadding);for(var o=0===o?"":o,n=0===n?"":n,d=0;d<i.length;d++)for(var r=i[d],_=0;_<r.elems.length;_++)"horizontal"===t?(s.find("[name=horizontalpadding]").val(n),l.is(":ui-slider")&&l.slider("value",n)):("vertical"===t?s.find("[name=verticalpadding]").val(o):(s.find("[name=horizontalpadding]").val(n),s.find("[name=verticalpadding]").val(o),l.is(":ui-slider")&&l.slider("value",n)),a.is(":ui-slider")&&l.slider("value",o))}function smartAlign__elems__Save__currentPosition(){tn_console("func: smartAlign__elems__Save__currentPosition");for(var e=window.smartAlign__rowsObj.elems,t=0;t<e.length;t++)for(var i=e[t],n=0;n<i.elems.length;n++){var o=$(i.elems[n]),s=o.parent();s.hasClass("tn-group")?(group__saveCurrentPosition(s.attr("id")),group__setPositionByElemsAttrs(s.attr("id")),tn_setOutlinePosition("selected")):o.hasClass("tn-group")?(group__saveCurrentPosition(o.attr("id")),tn_setOutlinePosition("selected")):elem__Save__currentPosition(o)}}function smartAlign__sortBy(i,e){return tn_console("func: smartAlign__sortBy"),e.sort(function(e,t){return smartAlign_getElemAbsRect(e)[i]<smartAlign_getElemAbsRect(t)[i]?-1:smartAlign_getElemAbsRect(e)[i]>smartAlign_getElemAbsRect(t)[i]?1:0})}function smartAlign_getElemAbsRect(e){var t=e.style.top,i=e.style.left,t=parseInt(t.slice(0,-2)),i=parseInt(i.slice(0,-2)),n=Math.round(e.getBoundingClientRect().width),e=Math.round(e.getBoundingClientRect().height),o=(1!==window.tn.zoom&&(n=Math.round(n/window.tn.zoom),e=Math.round(e/window.tn.zoom)),i+n),s=n/2,l=e/2;return{left:i,top:t,width:n,height:e,right:o,bottom:t+e,centerHorizontal:s,centerVertical:l,coordCenterHorizontal:i+s,coordCenterVertical:t+l}}function smartAlign__checkEqualCurrentAndCalcSpacings(){tn_console("func: smartAlign__checkEqualCurrentAndCalcSpacings");for(var e=window.smartAlign__rowsObj.elems,t={horizontal:!0,vertical:!0},i=0;i<e.length;i++){var n=e[i],o=e[i+1];o&&o.minTop-n.maxBottom!==window.smartAlign__rowsObj.elems.averageVerticalPadding&&(t.vertical=!1);for(var s=0;s<n.elems.length;s++){var l=n.elems[s],a=n.elems[s+1];a&&smartAlign_getElemAbsRect(a).left-smartAlign_getElemAbsRect(l).right!==window.smartAlign__rowsObj.elems.averageHorizontalPadding&&(t.horizontal=!1)}}return t}function smartAlign__distributeSpacing(e){window.smartAlign__rowsObj=smartAlign__getRowsObj();var o="vertical"===e?"top":"left",s="vertical"===e?"bottom":"right",l=smartAlign__sortBy(o,smartAlign__getElemsDOMArray()),a=smartAlign__calculateSpacing(l,o,s);smartAlign__setElemsFieldValues(a,e),l.forEach(function(e,t){var i,n;0!==t&&t!==l.length-1&&(i=l[t],t=l[t-1],n=smartAlign_getElemAbsRect(i)[o],t=smartAlign_getElemAbsRect(t)[s],i.style[o]=n+(a-(n-t))+"px")}),smartAlign__distributeLastElement(l,o,s,a),smartAlign__elems__Save__currentPosition(),tn_destroyTidyControls(),tn_createSpacingControls()}function smartAlign__calculateSpacing(n,o,s){var l=[];n.forEach(function(e,t){var i;0!==t&&(i=n[t],t=n[t-1],i=smartAlign_getElemAbsRect(i)[o],t=smartAlign_getElemAbsRect(t)[s],l.push(i-t))});var e=l.reduce(function(e,t){return e+t})/(n.length-1);return Math.round(e)}function smartAlign__distributeLastElement(n,o,s,t){var e=n[n.length-1],l=[];n.forEach(function(e,t){var i;0!==t&&(i=n[t],t=n[t-1],i=smartAlign_getElemAbsRect(i)[o],t=smartAlign_getElemAbsRect(t)[s],l.push(i-t))}),l.every(function(e){return e===t})||(e.style[o]=smartAlign_getElemAbsRect(e)[o]+(t-l[l.length-1])+"px")}function smartAlign__distributeEdges(e,s){window.smartAlign__rowsObj=smartAlign__getRowsObj();var l="vertical"===e?"top":"left",a=smartAlign__sortBy(s,smartAlign__getElemsDOMArray()),d=smartAlign__calculateEdges(a,s);a.forEach(function(e,t){if(0!==t&&t!==a.length-1){var i=a[t],t=a[t-1],n=smartAlign_getElemAbsRect(i)[s],t=smartAlign_getElemAbsRect(t)[s],o=n+(d-(n-t));switch(s){case"coordCenterHorizontal":o-=smartAlign_getElemAbsRect(i).centerHorizontal;break;case"right":o-=smartAlign_getElemAbsRect(i).width;break;case"coordCenterVertical":o-=smartAlign_getElemAbsRect(i).centerVertical;break;case"bottom":o-=smartAlign_getElemAbsRect(i).height}i.style[l]=o+"px"}}),smartAlign__elems__Save__currentPosition()}function smartAlign__calculateEdges(n,o){var s=[];n.forEach(function(e,t){var i;0!==t&&(i=n[t],t=n[t-1],i=smartAlign_getElemAbsRect(i)[o],t=smartAlign_getElemAbsRect(t)[o],s.push(i-t))});var e=s.reduce(function(e,t){return e+t})/(n.length-1);return e=parseFloat(e.toFixed(1))}function rulers__drawPanels(){document.body.insertAdjacentHTML("beforeend",`
		<div class="tn-rulers-box">
			<div class="tn-rulers-inner">
				<div class="tn-rulers-top">
				<div class="tn-rulers__highlight--top">
					<div class="tn-rulers__coords tn-rulers__coords--start"></div>
					<div class="tn-rulers__coords tn-rulers__coords--end"></div>
				</div>
				<!-- place to insert divisions (top panel) -->
				</div>
				<div class="tn-rulers-left">
				<div class="tn-rulers__highlight--left">
					<div class="tn-rulers__coords tn-rulers__coords--start"></div>
					<div class="tn-rulers__coords tn-rulers__coords--end"></div>
				</div>
				<!-- place to insert divisions (left panel) -->
				</div>
				<div class="tn-rulers-plug"></div>
			</div>
		</div>
	`);var e=document.querySelector(".tn-rulers-box"),t=e.querySelector(".tn-rulers-top"),i=e.querySelector(".tn-rulers-left"),n=(rulers__updatePanels(e,!1),document.querySelector(".tn-canvas-min")),e=(rulers__drawDivisions(t,i,n.getBoundingClientRect()),rulers__alignDivisionsNumber(t,i),rulers__setHandlersPanels(e,t,i,n),rulers__setHandlersGuides(t,i,n),document.querySelectorAll(".tn-elem__selected"));e.length?1===e.length?rulers__highlightElem(e[0].getAttribute("data-elem-id"),"single"):rulers__highlightElem(null,"multi"):rulers__destroyHighlight(),document.addEventListener("init:resolution-changed",rulers__reRenderDivisions),document.addEventListener("scroll",rulers__trottledScrollHandlers),document.addEventListener("zoom:zoom-in",e=>{e=e.detail.zoom;_rulers__divisionsPriceHandler(e)}),document.addEventListener("zoom:zoom-out",e=>{e=e.detail.zoom;_rulers__divisionsPriceHandler(e)}),document.addEventListener("zoom:zoom-reset",e=>{e=e.detail.zoom;_rulers__scrollTopHandler(),_rulers__scrollLeftHandler(),_rulers__divisionsPriceHandler(e)}),document.addEventListener("zoom:gesture-changed",e=>{const t=e.detail.zoom;window.requestAnimationFrame(()=>{_rulers__scrollTopHandler(),_rulers__scrollLeftHandler(),_rulers__divisionsPriceHandler(t),window.tn_rulers__setHighlight&&(_rulers__scrollTopHighlight(),_rulers__scrollLeftHighlight())})})}function rulers__toggleView(){var e=document.querySelector(".tn-rulers-box"),t=document.querySelector(".tn-more-rulers");ab__control__toggle__update("rulers_show"),e?(e.remove(),window.tn.flags.isRulersShow=!1,document.body.classList.remove("tn-theme-rulers"),t.innerHTML="Show Rulers"):(rulers__drawPanels(),_rulers__scrollTopHandler(),_rulers__scrollLeftHandler(),window.tn.flags.isRulersShow=!0,document.body.classList.add("tn-theme-rulers"),t.innerHTML="Hide Rulers")}function rulers__drawDivisions(t,i,e){var n=e.left-32,o=e.top-62,s=e.height/window.tn.zoom,l=e.width/window.tn.zoom,a=document.querySelector(".tn-left-box").classList.contains("tn-left-box_show");let d=0,r=0,_=0,c=0;for(let e=0;e<=l;e+=10){c=0===e?(d=a?n-230:n,_=0,100):(d+=10,rulers__computedDivisionPrice(_+=10));var u=`<div class="tn-rulers-division-number">${_}</div>`,u=`
			<div class="tn-rulers-division" data-rulers-price="${c}" style="transform: translateX(${d}px)">
				${10!==c?u:""}
				<div class="tn-rulers-division-line"></div>
			</div>
	  	`;t.insertAdjacentHTML("beforeend",u)}for(let e=0;e<=s;e+=10){c=0===e?(r=o,_=0,100):(r+=10,rulers__computedDivisionPrice(_+=10));var p=`<div class="tn-rulers-division-number">${_}</div>`,p=`
			<div class="tn-rulers-division left" data-rulers-price="${c}" style="transform: translateY(${r}px)">
				${10!==c?p:""}
				<div class="tn-rulers-division-line"></div>
			</div>
	  	`;i.insertAdjacentHTML("beforeend",p)}}function rulers__computedDivisionPrice(e){let t=Math.abs(e)%100;return 0===t?t=100:0!==t&&50!==t&&(t=10),t}function rulers__updatePanels(e,t=!1){var i,n,o,s;(e=e||document.querySelector(".tn-rulers-box"))&&(i=document.querySelector(".tn-right-box"),n=(o=document.querySelector(".tn-left-box")).classList.contains("tn-left-box_show"),s=i.classList.contains("tn-display-none"),n=n?o.getBoundingClientRect().width:0,o=(s?0:i.getBoundingClientRect().width)+20,s=document.documentElement.clientWidth-n-o,e.style.width=s+"px",e.style.left=n+"px",e.style.right=o+"px",t&&(_rulers__scrollTopHandler(),_rulers__scrollLeftHandler()),rulers__reRenderHighlight())}function rulers__setHandlersPanels(e,t,i,n){const o=n.offsetTop,s=n.offsetLeft,l=t.querySelectorAll(".tn-rulers-division"),a=i.querySelectorAll(".tn-rulers-division"),d=e.querySelectorAll(".tn-rulers-division"),r=Array.from(d).filter(e=>{var t=e.getAttribute("data-rulers-price"),e=parseInt(e.innerText,10);if(!Number.isNaN(e)&&"100"===t)return e/100%2==0}),_=document.querySelector(".tn-left-box");const c=window.tn.curResolution%2!=0?1:0,u=(window._rulers__scrollTopHandler=function(){if(!window.tn.flags.isUiHidden){var e=_.classList.contains("tn-left-box_show")?220:-1;const i=window.tn.zoom;var t=window.scrollX;const n=(s-t/i)*i-21-e-c;l.forEach((e,t)=>{"none"!==e.style.display&&(t=n+10*t*i,e.style.transform="translateX("+t+"px)")})}},window._rulers__scrollLeftHandler=function(){if(!window.tn.flags.isUiHidden){var e=document.body.classList.contains("tn-theme-minimal")?66:80;const i=window.tn.zoom;var t=window.scrollY;const n=(o-t/i)*i-e;a.forEach((e,t)=>{"none"!==e.style.display&&(t=n+10*t*i,e.style.transform="translateY("+t+"px)")})}},window._rulers__divisionsPriceHandler=function(e){let t="100";const i="100 - odd",n="100 + small",o="50";switch(e<=.3&&(t=i),.7<=e&&(t=n),t=1.5<=e?o:t){case"100":u("not","100","none","body"),u("equal","50","flex","body"),u("equal","50","none","number"),u("equal","100","flex","number");break;case"100 + small":u("equal","10","flex","body"),u("equal","50","none","number");break;case"50":u("equal","50","flex","number");break;case"100 - odd":u("equal","100","none","number",r),u("equal","50","none","number"),u("equal","10","none","body")}},function(n,o,s,l,e=d){e.forEach(e=>{var t,i=e.getAttribute("data-rulers-price");"not"===n&&i!==o?(t=e.querySelector(".tn-rulers-division-number"),"body"===l&&(e.style.display=s),"number"===l&&(t.style.display=s)):"equal"===n&&i===o&&(t=e.querySelector(".tn-rulers-division-number"),"body"===l&&(e.style.display=s),"number"===l)&&(t.style.display=s)})});_rulers__divisionsPriceHandler(window.tn.zoom||1)}function rulers__trottledScrollHandlers(){t_throttle(function(){_rulers__scrollTopHandler(),_rulers__scrollLeftHandler()},2)()}function rulers__setHandlersGuides(e,t,i){const n=$(e),o=$(t);let s=0,l=0;var a=!tn_getLocalField("isSnapDisabled")&&".tn-elem, .tn-group";let d=window.scrollY,r=window.scrollX;const _=document.querySelector(".tn-left-box");let c=!1,u=!1,p={};n.draggable({axis:"y",snap:a,snapTolerance:5,snapMode:"both",helper:function(){n.draggable("option","cursorAt",{top:0,left:0});var e=document.createElement("div");e.classList.add("tn-rulers-fakeguide__top"),document.body.appendChild(e);return e.insertAdjacentHTML("afterbegin",'<div class="tn-rulers__coords--top"></div>'),e},start:function(e,t){s=i.offsetTop,d=window.scrollY,document.body.style.setProperty("cursor","ns-resize"),u=document.body.classList.contains("tn-theme-minimal"),p=t.helper[0].querySelector('[class*="tn-rulers__coords"]'),c=_.classList.contains("tn-left-box_show")},drag:function(e,t){t.position.left=0;var i=window.scrollY-d,n=(t.position.top-=i,u?68:82),o=t.helper[0],n=(o&&o.offsetTop-document.body.scrollTop<n?(o.setAttribute("data-fakeguide-delete","yes"),document.body.style.setProperty("cursor","not-allowed")):(o.removeAttribute("data-fakeguide-delete"),document.body.style.setProperty("cursor","ns-resize")),window.tn.zoom),o=parseInt(o.style.top,10),t=parseInt(t.offset.top/n-i/n-s,10),i=c?250:30;p.innerText=t,p.style.top=o-10+"px",p.style.left=i+"px"},stop:function(e,t){var i,n=t.helper[0];n&&n.getAttribute("data-fakeguide-delete")||(document.body.style.setProperty("cursor","default"),n=window.tn.zoom,i=d-window.scrollY,t=guide__add(parseInt(t.offset.top/n-i/n-s,10),"h"),tn_undo__Add("guides_add",$(t)))}}),o.draggable({axis:"x",snap:a,snapTolerance:5,scrollSensitivity:3,snapMode:"both",helper:function(){o.draggable("option","cursorAt",{top:0,left:0});var e=document.createElement("div");e.classList.add("tn-rulers-fakeguide__left"),document.body.appendChild(e);return e.insertAdjacentHTML("afterbegin",'<div class="tn-rulers__coords--left"></div>'),e},start:function(e,t){l=i.offsetLeft,r=window.scrollX,document.body.style.setProperty("cursor","ew-resize"),c=_.classList.contains("tn-left-box_show"),p=t.helper[0].querySelector('[class*="tn-rulers__coords"]'),u=document.body.classList.contains("tn-theme-minimal")},drag:function(e,t){t.position.top=0;var i=window.scrollX-r,n=(t.position.left-=i,t.helper[0]),o=c?244:22,o=(n&&n.offsetLeft-document.body.scrollLeft<o?(n.setAttribute("data-fakeguide-delete","yes"),document.body.style.setProperty("cursor","not-allowed")):(n.removeAttribute("data-fakeguide-delete"),document.body.style.setProperty("cursor","ew-resize")),window.tn.zoom),n=parseInt(n.style.left,10),t=parseInt(t.offset.left/o-i/o-l,10),i=u?92:105;p.innerText=t,p.style.left=n-25+"px",p.style.top=i+"px"},stop:function(e,t){var i,n=t.helper[0];n&&n.getAttribute("data-fakeguide-delete")||(document.body.style.setProperty("cursor","default"),n=window.tn.zoom,i=r-window.scrollX,t=guide__add(parseInt(t.offset.left/n-i/n-l,10),"v"),tn_undo__Add("guides_add",$(t)))}}),e.addEventListener("mouseover",()=>{document.body.style.setProperty("cursor","ns-resize")}),e.addEventListener("mouseleave",()=>{document.body.style.setProperty("cursor","default")}),t.addEventListener("mouseover",()=>{document.body.style.setProperty("cursor","ew-resize")}),t.addEventListener("mouseleave",()=>{document.body.style.setProperty("cursor","default")})}function rulers__reRenderDivisions(){var e,t,i,n,o=document.querySelector(".tn-rulers-box");o&&(o.querySelectorAll(".tn-rulers-division").forEach(e=>e.remove()),e=o.querySelector(".tn-rulers-top"),t=o.querySelector(".tn-rulers-left"),n=(i=document.querySelector(".tn-canvas-min")).getBoundingClientRect(),rulers__updatePanels(o),rulers__drawDivisions(e,t,n),rulers__alignDivisionsNumber(e,t),rulers__setHandlersPanels(o,e,t,i),_rulers__scrollTopHandler(),_rulers__scrollLeftHandler(),rulers__reRenderHighlight())}function rulers__reRenderHighlight(){var e=window.tn_rulers__currentHighlight;"multi"===e?rulers__highlightElem(null,"multi"):e&&rulers__highlightElem(e)}function rulers__highlightElem(o,s="single"){window.tn_rulers__setHighlight&&rulers__destroyHighlight();var l="multi"===s?rulers__getElemsForHighlight():null,l="multi"===s?rulers__detectLargestDemensions(l):null,a=document.querySelector(".tn-outline.tn-outline_selected"),a="multi"===s?a:document.getElementById(o),d=document.querySelector(".tn-canvas-min");if(a){var r=document.querySelector(".tn-rulers__highlight--top"),_=document.querySelector(".tn-rulers__highlight--left");let e=0,t=0,i=0,n=0;n="multi"===s?(e=l.smallest.left,t=l.smallest.top,i=l.largest.left-l.smallest.left,l.largest.top-l.smallest.top):(e=parseInt(elem__getFieldValue($(a),"left"),10),t=parseInt(elem__getFieldValue($(a),"top"),10),i=a.offsetWidth,a.offsetHeight),r.style.display="flex",_.style.display="flex",rulers__setHandlersHighLight(a,d,i,n,e,t),window.tn_rulers__setHighlight=!0,window.tn_rulers__currentHighlight="multi"===s?"multi":o}}function rulers__setHandlersHighLight(_,e={},s=0,l=0,a=0,d=0){if(!_)return;var t=_.getAttribute("data-elem-type");const c=_.parentElement.classList.contains("tn-group"),r=document.querySelector(".tn-left-box"),u=document.querySelector(".tn-rulers__highlight--top"),p=document.querySelector(".tn-rulers__highlight--left"),g=Array.from(document.querySelectorAll('.tn-rulers-top .tn-rulers-division[data-rulers-price="100"], .tn-rulers-top .tn-rulers-division[data-rulers-price="50"]')),m=Array.from(document.querySelectorAll('.tn-rulers-left .tn-rulers-division[data-rulers-price="100"], .tn-rulers-left .tn-rulers-division[data-rulers-price="50"]')),o=u.querySelector(".tn-rulers__coords--start"),f=u.querySelector(".tn-rulers__coords--end"),h=p.querySelector(".tn-rulers__coords--start"),b=p.querySelector(".tn-rulers__coords--end"),v={top:{start:0,end:0},left:{start:0,end:0}},w=e.offsetLeft,y=e.offsetTop,x=(window._rulers__scrollTopHighlight=function(e,t){var i,n,o;window.tn.flags.isUiHidden||"none"!==u.style.display&&(i=window.tn.zoom,n=window.scrollX,o=r.classList.contains("tn-left-box_show")?-241:-20,a=t?t-w:a,s=e||s,t=(w-n/i)*i+a*i+o,u.style.transform="translateX("+t+"px)",u.style.width=s*i+"px",v.top.start=a,v.top.end=a+s,x(v),S(v))},window._rulers__scrollLeftHighlight=function(e,t){var i,n,o;window.tn.flags.isUiHidden||"none"!==p.style.display&&(i=document.body.classList.contains("tn-theme-minimal")?66:80,n=window.tn.zoom,o=window.scrollY,d=t?t-y:d,l=e||l,t=(y-o/n)*n+d*n-i,p.style.transform="translateY("+t+"px)",p.style.height=l*n+"px",v.left.start=d,v.left.end=d+l,x(v),S(v))},window._rulers__highlightObserver=new MutationObserver(e=>{e.forEach(t=>{var i=3===t.addedNodes[0]?.nodeType||3===t.removedNodes[0]?.nodeType;if("style"===t.attributeName||i){var n=window.tn_rulers__currentHighlight;let e=i?t.target.parentElement:t.target;i=document.getElementById(n)?.classList.contains("tn-group");e?.classList.contains("tn-elem")&&i||("multi"!==n&&e.classList.contains("tn-group")&&(e=document.getElementById(n)),_rulers__highlightObserverHander(e))}})}),window._rulers__highlightObserverHander=function(e,t){e=e||_;let i=null;"tidy"===t&&(r=rulers__getElemsForHighlight(),i=rulers__detectLargestDemensions(r));let n=0,o=0,s=(c&&(r=e.parentElement,n=r.offsetLeft,o=r.offsetTop),i?i.largest.left-i.smallest.left:e.offsetWidth),l=i?i.largest.top-i.smallest.top:e.offsetHeight,a=c?e.offsetLeft+n:e.offsetLeft,d=c?e.offsetTop+o:e.offsetTop;var r=window.tn["zoom"];e.classList.contains("tn-outline_selected")&&(s="tidy"===t?s:Math.round(s/r),l="tidy"===t?l:Math.round(l/r),a=Math.round(a/r),d=Math.round(d/r)),_rulers__scrollTopHighlight(s,a),_rulers__scrollLeftHighlight(l,d)},function(e){var t=e.top?.start,i=e.top?.end,n=e.left?.start,e=e.left?.end;!t&&0!==t||(o.innerHTML=t),!i&&0!==i||(f.innerHTML=i),!n&&0!==n||(h.innerHTML=n),!e&&0!==e||(b.innerHTML=e)});"image"===t&&(e=_.querySelector(".tn-atom__img"))&&(e.onload=function(){_rulers__highlightObserverHander()});const S=t_throttle(function(s){const e=["start","end"],l=window.tn.zoom;g.forEach(e=>e.classList.remove("hide-number")),m.forEach(e=>e.classList.remove("hide-number")),["top","left"].forEach(o=>{e.forEach(e=>{e=s[o][e];const t=1.5<=l?50*Math.round(e/50):100*Math.round(e/100);var i=Math.abs(t-e),e=8*e.toString().length/l,n=("top"===o?g:m).find(e=>parseInt(e.innerText)===t);n&&i<e&&n.classList.add("hide-number")})})},100);_rulers__highlightObserver.observe(_,{attributes:!0,characterData:!0,childList:!0,subtree:"text"===t}),c&&(e=_.parentElement,_rulers__highlightObserver.observe(e,{attributes:!0,characterData:!0})),_rulers__highlightObserverHander(),window.tn_rulers__trottledScrollHighlight=t_throttle(function(){_rulers__scrollTopHighlight(),_rulers__scrollLeftHighlight()},2),document.addEventListener("scroll",tn_rulers__trottledScrollHighlight)}function rulers__destroyHighlight(){var e=document.querySelector(".tn-rulers__highlight--top"),t=document.querySelector(".tn-rulers__highlight--left");e&&t&&(e.style.display="none",t.style.display="none","undefined"!=typeof tn_rulers__trottledScrollHighlight&&document.removeEventListener("scroll",tn_rulers__trottledScrollHighlight),"undefined"!=typeof _rulers__highlightObserver&&_rulers__highlightObserver.disconnect(),delete window.tn_rulers__setHighlight,delete window.tn_rulers__currentHighlight,rulers__showAllNumbers())}function rulers__showAllNumbers(){var e=document.querySelectorAll(`.tn-rulers-division[data-rulers-price="100"],
		.tn-rulers-division[data-rulers-price="50"]`);e.length&&e.forEach(e=>e.classList.remove("hide-number"))}function rulers__getElemsForHighlight(){var e=document.querySelectorAll(".tn-elem__selected"),e=Array.from(e).map(e=>{let t="";var i=e.parentElement;return t=(i.classList.contains("tn-group")?i:e).getAttribute("id")});return[...new Set(e)]}function rulers__detectLargestDemensions(e){var t=document.querySelector(".tn-canvas-min");const o=t.offsetLeft,s=t.offsetTop,l={top:0,left:0},i=(e.forEach(e=>{var e=document.getElementById(e),t=e.offsetTop-s,i=e.offsetLeft-o,n=e.offsetWidth,e=e.offsetHeight;t+e>l.top&&(l.top=t+e),i+n>l.left&&(l.left=i+n)}),Object.assign({},l));return e.forEach(e=>{var e=document.getElementById(e),t=e.offsetTop-s,e=e.offsetLeft-o;t<i.top&&(i.top=t),e<i.left&&(i.left=e)}),{largest:l,smallest:i}}function rulers__getScrollbarWidth(){var e=document.createElement("div"),t=(e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e),document.createElement("div")),t=(e.appendChild(t),e.offsetWidth-t.offsetWidth);return e.parentNode.removeChild(e),t||0}function rulers__alignDivisionsNumber(e,t){e=e.querySelectorAll(".tn-rulers-division"),t=t.querySelectorAll(".tn-rulers-division");e.forEach(e=>{e=e.querySelector(".tn-rulers-division-number");e&&(e.style.marginLeft="-"+e.offsetWidth/2+"px")}),t.forEach(i=>{var n=i.querySelector(".tn-rulers-division-number");if(n){n.style.marginTop="-"+n.offsetHeight/2+"px";var o=n.innerText.length;let e=0,t=0;1===o&&(e=4,t=5),2===o&&(e=1,t=2),(e=4===o?-4:e)&&(n.style.marginLeft=e+"px"),t&&(n.style.marginRight=t+"px"),4===o&&(i.querySelector(".tn-rulers-division-line").style.marginLeft="-4px")}})}function tn_checkAlignment(){var e=document.querySelectorAll(".tn-elem__selected:not([data-field-groupid-value]), .tn-group__open .tn-elem__selected, .tn-group__selected"),t=Array.prototype.slice.call(e),i={vertical:!0,horizontal:!0};if(1<e.length){for(var n=smartAlign__sortBy("top",t).slice(0),o=Math.round(n[1].getBoundingClientRect().top-n[0].getBoundingClientRect().bottom),s=1;s<n.length;s++)(Math.round(n[s].getBoundingClientRect().top-n[s-1].getBoundingClientRect().bottom)!==o||n[s].getBoundingClientRect().left>=n[s-1].getBoundingClientRect().right||n[s].getBoundingClientRect().right<=n[s-1].getBoundingClientRect().left)&&(i.vertical=!1);for(var l=smartAlign__sortBy("left",t).slice(0),a=Math.round(l[1].getBoundingClientRect().left-l[0].getBoundingClientRect().right),d=1;d<l.length;d++)(Math.round(l[d].getBoundingClientRect().left-l[d-1].getBoundingClientRect().right)!==a||l[d].getBoundingClientRect().top>=l[d-1].getBoundingClientRect().bottom||l[d].getBoundingClientRect().bottom<=l[d-1].getBoundingClientRect().top)&&(i.horizontal=!1)}else i.vertical=!1,i.horizontal=!1;return i}function tn_createSpacingControls(){var e=tn_checkAlignment();tn_destroyTidyControls(),e.horizontal?tn_createHorizontalSpacingControls():e.vertical&&tn_createVerticalSpacingControls(),(e.vertical||e.horizontal)&&spacingControls__addShowOnHoverEvent()}function tn_createVerticalSpacingControls(){var e=tn_getTidyVerticalControlsCoords(),t=document.querySelector(".tn-outline_selected").getBoundingClientRect();tn_renderTidyVerticalControls(e,(t.left+window.scrollX+(t.width-20*window.tn.zoom)/2)/window.tn.zoom,20)}function tn_createVerticalRangeRects(e){return tn_renderTidyVerticalRangeRects(e,tn_getTidyVerticalRangesCoords(e),tn_getTidyVerticalRectsHeights(e))}function tn_renderTidyVerticalRangeRects(e,t,i){for(var n,o,s,l,a=window.tn.tidyControlsState.rangesWrapper,d=t.length,r=[],_=0;_<d;_++)(n=document.createElement("div")).classList.add("tn-tidy-range","tn-tidy-range_vertical"),l=e[_].getBoundingClientRect().left,l=(s=e[_+1].getBoundingClientRect().left)<l?(l+window.scrollX)/window.tn.zoom:(s+window.scrollX)/window.tn.zoom,s=(s=e[_].getBoundingClientRect().right)<(o=e[_+1].getBoundingClientRect().right)?(s+window.scrollX)/window.tn.zoom:(o+window.scrollX)/window.tn.zoom,n.style.width=s-l+"px",n.style.height=i[_]+"px",n.style.top=t[_]+"px",n.style.left=l+"px",n.index=_+1,a.appendChild(n),r.push(n);return r}function tn_getTidyVerticalRangesCoords(e){for(var t=[],i=0;i<e.length-1;i++)t.push((e[i].getBoundingClientRect().bottom+window.scrollY)/window.tn.zoom);return t}function tn_getTidyVerticalRectsHeights(e){for(var t=[],i=0;i<e.length-1;i++)t.push(e[i+1].getBoundingClientRect().top-e[i].getBoundingClientRect().bottom);return t}function tn_getTidyVerticalControlsCoords(){for(var e,t=document.querySelectorAll(".tn-elem__selected:not([data-field-groupid-value]), .tn-group__open .tn-elem__selected, .tn-group__selected"),i=smartAlign__sortBy("top",Array.prototype.slice.call(t)),n=[],o=0;o<i.length-1;o++)e=(Math.round((i[o+1].getBoundingClientRect().top+i[o].getBoundingClientRect().bottom)/2)+window.scrollY)/window.tn.zoom,n.push(e);return n}function tn_renderTidyVerticalControls(e,t,i){for(var n,o=window.tn.tidyControlsState.controlsWrapper,s=e.length,l=0;l<s;l++)(n=document.createElement("div")).classList.add("tn-tidy-control","tn-tidy-control_vertical"),n.style.width=i+"px",n.style.top=e[l]+"px",n.style.left=t+"px",n.index=l+1,tn_addTidyVerticalEvents(n),window.tn.tidyControlsState.setVertical(n,l+1),o.appendChild(n)}function tn_addTidyVerticalEvents(e){var c,u,p;$(e).draggable({axis:"y",start:function(){var e=document.querySelectorAll(".tn-elem__selected:not([data-field-groupid-value]), .tn-group__open .tn-elem__selected, .tn-group__selected"),e=Array.prototype.slice.call(e);c=smartAlign__sortBy("top",e),tn_undo__Add("elem_save",$(".tn-elem__selected")),u=document.querySelector(".tn-spacing-hint"),p=tn_createVerticalRangeRects(c),tn_hideOutline("selected"),tn_hideTidyControls(),tn_showSpacingHint()},drag:function(e){var t,i,n=window.tn.tidyControlsState.verticals.length,o=e.originalEvent.originalEvent.movementY,s=!1,l=t_throttle(tn_setSpacingHintPosition,20),a=c[0].getBoundingClientRect().bottom,d=c[1].getBoundingClientRect().top;tn_setSpacingHintValue(u,a,d),l(u,e.pageX,e.pageY);for(var r=1;r<n+1;r++)t=o*r,i=o*(r-1),c[r].getBoundingClientRect().top+t<=c[r-1].getBoundingClientRect().top+i&&(s=!0);if(!s){for(var _=1;_<n+1;_++)t=o*_,c[_].style.top=parseInt(c[_].style.top,10)+t+"px";tn_setVerticalRectsCoords(c,p)}window.tn.flags.isRulersShow&&_rulers__highlightObserverHander(null,"tidy")},stop:function(){smartAlign__elems__Save__currentPosition();var e=c[0].getBoundingClientRect().bottom,t=c[1].getBoundingClientRect().top;setTimeout(function(){smartAlign__setElemsFieldValues(tn_setSpacingHintValue(u,e,t),"vertical")},1),tn_destroyTidyRangeRects(),window.tn.tidyControlsState.verticals.length&&tn_setTidyVerticalsPosition(),window.tn.tidyControlsState.horizontals.length&&tn_setTidyHorizontalsPosition(),tn_hideSpacingHint(),tn_showTidyControls(),tn_setOutlinePosition("selected"),tn_showOutline("selected")}})}function tn_setVerticalRectsCoords(e,t){for(var i,n,o,s=0;s<t.length;s++)o=t[s],(i=e[s].getBoundingClientRect().bottom)<=(n=e[s+1].getBoundingClientRect().top)&&(o.style.top=(i+window.scrollY)/window.tn.zoom+"px",o.style.height=(n-i)/window.tn.zoom+"px"),n<i&&(o.style.top=(n+window.scrollY)/window.tn.zoom+"px",o.style.height=(i-n)/window.tn.zoom+"px")}function tn_setTidyVerticalsPosition(){for(var e=window.tn.tidyControlsState.verticals,t=tn_getTidyVerticalControlsCoords(),i=document.querySelector(".tn-outline_selected").getBoundingClientRect(),n=0;n<e.length;n++)e[n].control.style.top=t[n]+"px",e[n].control.style.left=(i.left+window.scrollX)/window.tn.zoom+(i.width/window.tn.zoom-20)/2+"px",e[n].control.style.width="20px"}function tn_createHorizontalSpacingControls(){var e=tn_getTidyHorizontalControlsCoords(),t=document.querySelector(".tn-outline_selected").getBoundingClientRect();tn_renderTidyHorizontalControls(e,(t.top+window.scrollY+(t.height-20*window.tn.zoom)/2)/window.tn.zoom,20)}function tn_createHorizontalRangeRects(e){return tn_renderHorizontalRangeRects(e,tn_getTidyHorizontalRangesCoords(e),tn_getTidyHorizontalRectsHeights(e))}function tn_renderHorizontalRangeRects(e,t,i){for(var n,o,s,l,a=window.tn.tidyControlsState.rangesWrapper,d=t.length,r=[],_=0;_<d;_++)(n=document.createElement("div")).classList.add("tn-tidy-range","tn-tidy-range_vertical"),l=e[_].getBoundingClientRect().top,l=(s=e[_+1].getBoundingClientRect().top)<l?(l+window.scrollY)/window.tn.zoom:(s+window.scrollY)/window.tn.zoom,s=(s=e[_].getBoundingClientRect().bottom)<(o=e[_+1].getBoundingClientRect().bottom)?(s+window.scrollY)/window.tn.zoom:(o+window.scrollY)/window.tn.zoom,n.style.height=s-l+"px",n.style.width=i[_]+"px",n.style.left=t[_]+"px",n.style.top=l+"px",n.index=_+1,a.appendChild(n),r.push(n);return r}function tn_getTidyHorizontalRangesCoords(e){for(var t=[],i=0;i<e.length-1;i++)t.push((e[i].getBoundingClientRect().right+window.scrollX)/window.tn.zoom);return t}function tn_getTidyHorizontalRectsHeights(e){for(var t=[],i=0;i<e.length-1;i++)t.push((e[i+1].getBoundingClientRect().right-e[i].getBoundingClientRect().left)/window.tn.zoom);return t}function tn_getTidyHorizontalControlsCoords(){for(var e,t=document.querySelectorAll(".tn-elem__selected:not([data-field-groupid-value]), .tn-group__open .tn-elem__selected, .tn-group__selected"),i=smartAlign__sortBy("left",Array.prototype.slice.call(t)),n=[],o=0;o<i.length-1;o++)e=(Math.round((i[o+1].getBoundingClientRect().left+i[o].getBoundingClientRect().right)/2)+window.scrollX)/window.tn.zoom,n.push(e);return n}function tn_renderTidyHorizontalControls(e,t,i){for(var n,o=window.tn.tidyControlsState.controlsWrapper,s=e.length,l=0;l<s;l++)(n=document.createElement("div")).classList.add("tn-tidy-control","tn-tidy-control_horizontal"),n.style.height=i+"px",n.style.left=e[l]+"px",n.style.top=t+"px",n.index=l+1,tn_addTidyHorizontalEvents(n),window.tn.tidyControlsState.setHorizontal(n,l+1),o.appendChild(n)}function tn_addTidyHorizontalEvents(e){var c,u,p;$(e).draggable({axis:"x",start:function(){var e=document.querySelectorAll(".tn-elem__selected:not([data-field-groupid-value]), .tn-group__open .tn-elem__selected, .tn-group__selected"),e=Array.prototype.slice.call(e);c=smartAlign__sortBy("left",e),p=tn_createHorizontalRangeRects(c),u=document.querySelector(".tn-spacing-hint"),tn_undo__Add("elem_save",$(".tn-elem__selected")),tn_showSpacingHint(),tn_hideOutline("selected"),tn_hideTidyControls()},drag:function(e){var t,i,n=window.tn.tidyControlsState.horizontals.length,o=e.originalEvent.originalEvent.movementX,s=!1,l=t_throttle(tn_setSpacingHintPosition,20),a=c[0].getBoundingClientRect().right,d=c[1].getBoundingClientRect().left;tn_setSpacingHintValue(u,a,d),l(u,e.pageX,e.pageY);for(var r=1;r<n+1;r++)t=o*r,i=o*(r-1),c[r].getBoundingClientRect().left+t<=c[r-1].getBoundingClientRect().left+i&&(s=!0);if(!s){for(var _=1;_<n+1;_++)t=o*_,c[_].style.left=parseInt(c[_].style.left,10)+t+"px";tn_setHorizontalRectsCoords(c,p)}window.tn.flags.isRulersShow&&_rulers__highlightObserverHander(null,"tidy")},stop:function(){tn_setOutlinePosition("selected"),tn_showOutline("selected");var e=c[0].getBoundingClientRect().right,t=c[1].getBoundingClientRect().left;smartAlign__elems__Save__currentPosition(),setTimeout(function(){smartAlign__setElemsFieldValues(tn_setSpacingHintValue(u,e,t),"horizontal")},1),tn_destroyTidyRangeRects(),window.tn.tidyControlsState.verticals.length&&tn_setTidyVerticalsPosition(),window.tn.tidyControlsState.horizontals.length&&tn_setTidyHorizontalsPosition(),tn_hideSpacingHint(),tn_showTidyControls()}})}function tn_setHorizontalRectsCoords(e,t){for(var i,n,o,s=0;s<t.length;s++)o=t[s],(i=e[s].getBoundingClientRect().right)<=(n=e[s+1].getBoundingClientRect().left)&&(o.style.left=(i+window.scrollX)/window.tn.zoom+"px",o.style.width=(n-i)/window.tn.zoom+"px"),n<i&&(o.style.left=(n+window.scrollX)/window.tn.zoom+"px",o.style.width=(i-n)/window.tn.zoom+"px")}function tn_setTidyHorizontalsPosition(){for(var e,t=window.tn.tidyControlsState.horizontals,i=tn_getTidyHorizontalControlsCoords(),n=document.querySelector(".tn-outline_selected").getBoundingClientRect(),o=0;o<t.length;o++)e=(n.top+window.scrollY)/window.tn.zoom+(n.height/window.tn.zoom-20)/2,t[o].control.style.left=i[o]+"px",t[o].control.style.top=e+"px",t[o].control.style.height="20px"}function tn_destroyTidyControls(){window.tn.tidyControlsState&&(window.tn.tidyControlsState.controlsWrapper.innerHTML="",spacingControls__removeShowOnHoverEvent(),window.tn.tidyControlsState.clearState())}function tn_destroyTidyRangeRects(){window.tn.tidyControlsState.rangesWrapper.innerHTML=""}function tn_hideTidyControls(){window.tn.tidyControlsState.verticals.concat(window.tn.tidyControlsState.horizontals).forEach(function(e){e.control.style.opacity=0})}function tn_showTidyControls(){window.tn.tidyControlsState.verticals.concat(window.tn.tidyControlsState.horizontals).forEach(function(e){e.control.style.opacity=1})}function tn_createTidyControlsWrapper(){var e=document.createElement("div"),t=document.querySelector(".tn-layout");e.classList.add("tn-tidy-controls-wrpr"),window.tn.tidyControlsState.setControlsWrapper(e),t.appendChild(e)}function tn_createTidyRangesWrapper(){var e=document.createElement("div"),t=document.querySelector(".tn-layout");e.classList.add("tn-tidy-range-wrpr"),window.tn.tidyControlsState.setRangesWrapper(e),t.appendChild(e)}function tn_createTidyControlsStorage(){window.tn.tidyControlsState={controlsWrapper:null,rangesWrapper:null,verticals:[],horizontals:[],setControlsWrapper:function(e){this.controlsWrapper=e},setRangesWrapper:function(e){this.rangesWrapper=e},setVertical:function(e,t){this.verticals.push({control:e,index:t})},setHorizontal:function(e,t){this.horizontals.push({control:e,index:t})},clearState:function(){this.verticals.splice(0,this.verticals.length),this.horizontals.splice(0,this.horizontals.length)}}}function spacingControls__addShowOnHoverEvent(){document.addEventListener("mousemove",spacingControls__showOnHoverHandler)}function spacingControls__removeShowOnHoverEvent(){document.removeEventListener("mousemove",spacingControls__showOnHoverHandler)}function spacingControls__showOnHoverHandler(e){var t=document.querySelector(".tn-outline_selected").getBoundingClientRect();(e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom?tn_showTidyControls:tn_hideTidyControls)()}function tn_createSpacingHint(){var e=document.querySelector(".tn-layout"),t=document.createElement("div");t.classList.add("tn-spacing-hint"),e.appendChild(t)}function tn_showSpacingHint(){document.querySelector(".tn-spacing-hint").style.display="block"}function tn_hideSpacingHint(){document.querySelector(".tn-spacing-hint").style.display="none"}function tn_setSpacingHintPosition(e,t,i){t=(t+20)/window.tn.zoom,i=(i-20)/window.tn.zoom;e.style.transform="translate("+t+"px, "+i+"px)"}function tn_setSpacingHintValue(e,t,i){i=Math.round((i-t)/window.tn.zoom);return e.innerHTML=i}function tn_figma__popupOpenHandler(){"function"!=typeof jQuery.cachedScript&&(jQuery.cachedScript=function(e){return jQuery.ajax({dataType:"script",cache:!0,url:e})}),$("head").append('<link href="https://tilda.cc/front/css/t-popups.min.css" rel="stylesheet">'),$.cachedScript("https://tilda.cc/front/js/t-popups.min.js").done(function(e,t){"success"==t?($("body").append('<div class="td-popup" id="popup_figmaimport"><div class="td-popup__wrap"><div class="td-popup-window"></div></div></div>'),setTimeout(function(){tn_figma__openPopup()},100)):console.log("Error init figma import in zeroblock. Err:"+t)})}function tn_figma__getPersistedData(){var e=window.localStorage.getItem("tn-figma-api-key"),t=window.sessionStorage.getItem("tn-figma-api-url-data");return t?{key:e,url:(t=JSON.parse(t)).url,fileKey:t.fileKey,nodeId:t.nodeId}:{key:e}}function tn_figma__setPersistedData(e,t){window.localStorage.setItem("tn-figma-api-key",e),window.sessionStorage.setItem("tn-figma-api-url-data",t)}function tn_figma_showLoader(){var e='<div id="formfigmaimport"><div class="td-popup-window__head" style="height:95px;"><div class="td-popup-window__close" style="margin-right: 38px;" onclick="tn_figma__stopImport(true);"></div><div class="td-popup-window__title">Import Figma Layout</div></div><div class="td-popup-window__middle" style="position: relative;"><div style="opacity:0.75; padding-top:15px; font-weight: 300; font-size: 16px; width: 580px;">Import any layout from Figma into Zero Block. To do that, create a personal API token in Figma Account Settings (Personal access tokens), select the frame you want to import in the Layers panel, and copy the link. Learn more in our <a <a style="color: #f06847;text-decoration: none;" target="_blank" href="https://help.tilda.cc/zero-figma-import">Help Center</a>.</div><div style="opacity:0.75; padding-top:15px; font-weight: 300; font-size: 16px; width: 580px;">While importing from Figma, all the necessary objects are created, but image files remain on the Figma server and are connected directly from there. This is convenient to speed up the prototyping process. Files on Figma (not transferred to Tilda) are usually available within 30 days and may stop loading. To finish importing, click on the element with an image, then click "Upload to Tilda".</div><div class="td-popup-window__middle-wrapper td-tab-content"><div class="td-popup-error" style="padding:20px 10px;margin-top:10px;display:none;"></div><div id="tab_general" class="td-tab-pane td-tab-pane_active"><img style="display: block; margin: 40px auto 0;" src="https://tilda.cc/tpl/img/ajax-loader.gif" style=""><div style="font-size: 22px;text-align: center;padding-top: 15px;">Importing layout</div><div class="td-popup-window__bottom"><div class="td-popup-window__bottom-right"><input type="button" onclick="tn_figma__stopImport(true);" value="Cancel" class="td-popup-btn-white" style="margin-right:5px;"><input style="opacity: 0.6;" disabled type="button" value="Import" class="td-popup-btn" id="importsubmitbutton"></div><br></div></div></div>';"RU"===window.tn.lang&&(e+='<a href="https://youtu.be/YzKmXR5vtIg" target="_blank"><div class="tooltip" style="position: absolute; top: 18px; right: 32px;" data-tooltip="Video tutorial"><svg width="36" height="33" viewBox="0 0 36 33" fill="none" xmlns="http://www.w3.org/2000/svg"><circle class="pe-content__videolink-icon-stroke" cx="27.254" cy="8.746" r="7.996" stroke="#5dcae2" stroke-width="1.5"></circle><path class="pe-content__videolink-icon-stroke" d="M27.252 13.994V6.997M27.252 5.249v-1.75" stroke="#5dcae2" stroke-width="2"></path><path class="pe-content__videolink-icon-play" d="M13.025 24.026V16.82l5.024 3.602-5.024 3.603z" fill="#5dcae2" stroke="#5dcae2"></path><path class="pe-content__videolink-icon-stroke" d="M13.91 8.348H4a3 3 0 00-3 3v17.32a3 3 0 003 3h22.318a3 3 0 003-3v-7.41" stroke="#5dcae2" stroke-width="1.5"></path></svg></div></a>'),e+="</div></div>",window.tn.flags.isSettingsFocused=!0,showpopup("#popup_figmaimport",e)}function tn_figma__stopImport(e){confirm("Are you sure?")&&(window.tn.flag_figma_isImportStopped=!0,e)&&tn_figma__closePopup()}function tn_figma__openErrorPopup(e){var t="",e=(400===e?t="Figma API error code 400: Check that the data you entered is correct and try again.":403===e?t="Figma API error code 403: Check that the API key you entered is correct and try again.":404===e?t="Figma API error code 404: Check that the data you entered is correct and try again.":503===e||504===e?t="Figma API error code "+e+": Please try again later.":429===e?t="Figma API error code 429: Too many requests. Please wait a while before attempting the import again (typically a minute).":500===e?t="Figma API error code 500: The images in the layout may be too large or the number of objects is exceeded. Please reduce it and try again.":1e3===e&&(t='Error when importing layout. Please ensure that your link pointing to one frame. <br> Learn more in our <a style="color: #f06847;text-decoration: none;" target="_blank" href="https://help.tilda.cc/zero-figma-import">Help Center</a>.'),'<div id="formfigmaimport"><div class="td-popup-window__head" style="height:95px;"><div class="td-popup-window__close" onclick="tn_figma__closePopup();"></div><div class="td-popup-window__title">Import Figma Layout</div></div><div class="td-popup-window__middle" style="position: relative;"><div style="opacity:0.75; padding-top:25px; font-weight: 300; font-size: 18px; text-align: center">'+t+'</div><div class="td-popup-window__middle-wrapper td-tab-content"><div class="td-popup-error" style="padding:20px 10px;margin-top:10px;display:none;"></div><div id="tab_general" class="td-tab-pane td-tab-pane_active"><div class="td-popup-window__bottom"><div class="td-popup-window__bottom-right"><input type="button" onclick="tn_figma__closePopup();" value="Cancel" class="td-popup-btn-white" style="margin-right:5px;"></div><br></div></div></div></div></div>');window.tn.flags.isSettingsFocused=!0,showpopup("#popup_figmaimport",e)}function tn_figma__openPopup(){tn_console("func: tn_figma__openPopup");var e='<div id="formfigmaimport"><div class="td-popup-window__head" style="height:95px;"><div class="td-popup-window__close" style="margin-right: 38px;" onclick="tn_figma__closePopup();"></div><div class="td-popup-window__title">Import Figma Layout</div></div><div class="td-popup-window__middle" style="position: relative;"><div style="opacity:0.75; padding-top:15px; font-weight: 300; font-size: 16px; width: 580px;">Import any layout from Figma into Zero Block. To do that, create a personal API token in Figma Account Settings (Personal access tokens), select the frame you want to import in the Layers panel, and copy the link. Learn more in our <a style="color: #f06847;text-decoration: none;" target="_blank" href="https://help.tilda.cc/zero-figma-import">Help Center</a>.</div><div style="opacity:0.75; padding-top:15px; font-weight: 300; font-size: 16px; width: 580px;">While importing from Figma, all the necessary objects are created, but image files remain on the Figma server and are connected directly from there. This is convenient to speed up the prototyping process. Files on Figma (not transferred to Tilda) are usually available within 30 days and may stop loading. To finish importing, click on the element with an image, then click "Upload to Tilda".</div><div class="td-popup-window__error" style="display: none;color: red;opacity:0.75; padding-top:15px; font-weight: 300; font-size: 16px;">Select the frame you want to import in the Layers panel.</div><div class="td-popup-window__middle-wrapper td-tab-content"><div class="td-popup-error" style="padding:20px 10px;margin-top:10px;display:none;"></div><div id="tab_general" class="td-tab-pane td-tab-pane_active"><div class="td-item-group"><div class="td-item-group__title">Layout url</div><input id="modalinputfigmaurl" type="text" name="url" class="td-input" value="" placeholder="https://www.figma.com/file/..."></div><div class="td-item-group"><div class="td-item-group__title">API token</div><input id="modalinputfigmakey" type="text" name="key" class="td-input" value="" placeholder="749673-51gs0615-0e2e-****-****-************"></div><div class="td-popup-window__bottom"><div class="td-popup-window__bottom-right"><input type="button" onclick="tn_figma__closePopup();" value="Cancel" class="td-popup-btn-white" style="margin-right:5px;"><input type="button" value="Import" class="td-popup-btn" id="importsubmitbutton"></div><br></div></div></div>',i=("RU"===window.tn.lang&&(e+='<a href="https://youtu.be/YzKmXR5vtIg" target="_blank"><div class="tooltip" style="position: absolute; top: 18px; right: 32px;" data-tooltip="Video tutorial"><svg width="36" height="33" viewBox="0 0 36 33" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="27.254" cy="8.746" r="7.996" stroke="#5dcae2" stroke-width="1.5"></circle><path d="M27.252 13.994V6.997M27.252 5.249v-1.75" stroke="#5dcae2" stroke-width="2"></path><path d="M13.025 24.026V16.82l5.024 3.602-5.024 3.603z" fill="#5dcae2" stroke="#5dcae2"></path><path d="M13.91 8.348H4a3 3 0 00-3 3v17.32a3 3 0 003 3h22.318a3 3 0 003-3v-7.41" stroke="#5dcae2" stroke-width="1.5"></path></svg></div></a>'),e+="</div></div>",window.tn.flags.isSettingsFocused=!0,showpopup("#popup_figmaimport",e),init_popup(),tn_tooltip_update(),tn_figma__getPersistedData()),e=$("#formfigmaimport"),n=e.find("#modalinputfigmaurl"),o=e.find("#modalinputfigmakey");n.val(i.url),o.val(i.key),e.find("#importsubmitbutton").click(function(){var e=n.val(),t=o.val();i={url:e,fileKey:tn_figma__getApiUrlData(e).fileKey,nodeId:tn_figma__getApiUrlData(e).nodeId},e&&t&&(tn_figma__setPersistedData(t,JSON.stringify(i)),tn_figma__getNodes(),tn_figma_showLoader(),tn_tooltip_update())})}function tn_figma__closePopup(){window.tn.flags.isSettingsFocused=!1,closepopup()}function tn_figma__convertFigmaSvgElement(e,t,i){var l=/(-?\d+(\.\d+)?)/gi,a=/[mlhvcsqtaz]/gi,d={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,z:0},r=["x","y","rx","ry","cx","cy","width","height","points","r","x1","y1","x2","y2"],n=e.querySelectorAll("path, circle, rect, ellipse, polygon, line, filter"),o=e.getAttribute("viewBox").match(/\d+/gm),_=(e.setAttribute("viewBox","0 0 "+t+" "+i),e.setAttribute("width",t),e.setAttribute("height",i),t/o[2]);Array.prototype.forEach.call(n,function(i){var n,e,o,s;"path"===i.tagName&&(e=i.getAttribute("d"),n=e.match(l),e=e.match(a),o=0,s="",e.forEach(function(e){var t=d[e.toLowerCase()],i=n.slice(o,o+t).map(function(e){return e*_});o+=t,s+=e+i.join(" ")}),i.setAttribute("d",s)),r.forEach(function(e){var t=i.getAttribute(e);t&&(t=t.match(l).map(function(e){return e*_}).join(" "),i.setAttribute(e,t))})})}function tn_figma__getNodes(){window.tn.figmImportData={isFigmaTopFrameRendered:!1,newElemsIds:{},vectorIds:[],imgIds:[],stopImport:!1};var e=tn_figma__getPersistedData(),t=e.key,i=e.fileKey,e=e.nodeId.replace("-",":");$.ajax({url:"https://api.figma.com/v1/files/"+i+"/nodes?ids="+e+"&geometry=paths",headers:{"X-FIGMA-TOKEN":t},method:"GET",dataType:"json",success:function(e){try{for(var t in e.nodes)Object.prototype.hasOwnProperty.call(e.nodes,t)&&tn_figma__drawAllNodes([e.nodes[t].document]);window.tn.figmImportData.imgIds.length?tn_figma__getAllAmazonImages(window.tn.figmImportData.imgIds,function(o){window.tn.figmImportData.imgIds.forEach(function(e){var t,i=$("#"+e.id),n=o[e.nodeId+"_svg"];e.isSVG&&n?((t=i.find(".tn-atom")).html(n),tn_figma__convertFigmaSvgElement((n=t.find("svg"))[0],e.size.width,e.size.height),n[0].removeAttribute("width"),n[0].removeAttribute("height")):(elem__setFieldValue(i,e.field,o[e.nodeId]),elem__setFieldValue(i,"amazonsrc","y"),elem__renderViewOneField(i,e.field)),e.isArrow&&(t=elem__getFieldValue(i,"left"),elem__setFieldValue(i,"width",8),elem__setFieldValue(i,"left",t-4),elem__renderViewOneField(i,"width"),elem__renderViewOneField(i,"left")),tn_figma__checkAmazonImages(),tn_figma__closePopup(),layers__update()})}):(tn_figma__closePopup(),layers__update(),floor__mousedown()),tn_undo__Add("elems_figma_import",window.tn.figmImportData.newElemsIds)}catch(e){console.error("Figma Import Error",e),tn_figma__openErrorPopup(1e3)}},statusCode:{400:function(){tn_figma__openErrorPopup(400)},403:function(){tn_figma__openErrorPopup(403)},404:function(){tn_figma__openErrorPopup(404)},503:function(){tn_figma__openErrorPopup(503)},504:function(){tn_figma__openErrorPopup(504)},429:function(){tn_figma__openErrorPopup(429)},500:function(){tn_figma__openErrorPopup(500)}}})}function tn_figma__getAllAmazonImages(e,t){var i="",n="",o={};e.forEach(function(e){e.isSVG?i+=e.nodeId+",":n+=e.nodeId+","}),i=i.slice(0,-1),(n=n.slice(0,-1))&&i?tn_figma__getImage(n,!1,function(e){o=Object.assign(o,e.images),tn_figma__getImage(i,!0,function(e){o=Object.assign(o,e.images),t(o)})}):n?tn_figma__getImage(n,!1,function(e){o=Object.assign(o,e.images),t(o)}):i&&tn_figma__getImage(i,!0,function(e){o=Object.assign(o,e.images),t(o)})}function tn_figma__getImage(e,i,s){var t=tn_figma__getPersistedData(),n=t.key,t=t.fileKey;$.ajax({url:"https://api.figma.com/v1/images/"+t+"?ids="+e+(i?"&format=svg":"")+"&scale=4",headers:{"X-FIGMA-TOKEN":n},method:"GET",dataType:"json",success:function(n){i||s(n);var o=Object.keys(n.images),t=o.map(function(e){return!!n.images[e]&&tn_figma__getSvgElement(n.images[e])}).filter(function(e){return!!e});$.when.apply($,t).done(function(){var e=[];e=(e=1<t.length?Array.prototype.map.call(arguments,function(e){return e[0]}):[arguments[0]]).reduce(function(e,t,i){i=o[i];return e[i]=n.images[i],e[i+"_svg"]=t,e},{}),s({images:e})})}})}function tn_figma__getSvgElement(e){return $.ajax({url:e,method:"GET",dataType:"text"})}function tn_figma__drawAllNodes(e,t,i,n){if(!e||!e.length)return null;if(window.tn.flag_figma_isImportStopped)return null;for(var o=0;o<e.length;o++){var s,l,a=e[o],d=!(t&&i||"FRAME"!==a.type),r=d?a.absoluteBoundingBox:{x:t,y:i};d&&(window.tn.figmImportData.isFigmaTopFrameRendered||(s="",a.fills&&a.fills[0]&&a.fills[0].color&&(s=tn_figma__getColor(a.fills[0].color)),ab__setFieldValue(l=$(".tn-artboard"),"height",a.absoluteBoundingBox.height,window.tn.topResolution),s&&ab__setFieldValue(l,"bgcolor",s,window.tn.topResolution),ab__renderViewOneField("bgcolor"),ab__renderViewOneField("height")),window.tn.figmImportData.isFigmaTopFrameRendered=!0),t_figma__renderNode(a,r.x,r.y,n?n.id:null,d)&&a.children.length&&(l=!1,(s=n)||(l=!0,s={id:group__createGroupId(),name:a.name}),tn_figma__drawAllNodes(a.children,r.x,r.y,s=d?null:s),l)&&s&&(group__create(s.id,void 0,!0),group__setFieldValue(s.id,"name",s.name))}}function t_figma__renderNode(e,t,i,n,o){if(!1===e.visible)return!1;var s=null,l=e.name.toLowerCase(),t=e.absoluteBoundingBox.x-t,i=e.absoluteBoundingBox.y-i,a=e.size.x,d=e.size.y,r={};if(r.top=Math.floor(i),r.left=Math.floor(t),r.width=Math.floor(a),r.height=Math.floor(d),r.elem_id=Date.now(),r.layer=e.name,r.groupid=n,l.includes("svg"))s=tn_figma__renderVector(e,r);else if(l.includes("image"))s=tn_figma__renderShape(e,r,!0);else if(!l.includes("button")||"GROUP"!==e.type&&"COMPONENT"!==e.type&&"FRAME"!==e.type)switch(e.type){case"REGULAR_POLYGON":case"ELLIPSE":case"VECTOR":case"STAR":case"LINE":s="ELLIPSE"===e.type&&e.absoluteBoundingBox.width===e.absoluteBoundingBox.height?tn_figma__renderShape(e,r,!1,"circle"):"LINE"===e.type?tn_figma__renderShape(e,r,!1,"line"):100<e.fillGeometry.length?tn_figma__renderShape(e,r,!0):tn_figma__renderVector(e,r);break;case"RECTANGLE":s=tn_figma__renderShape(e,r);break;case"TEXT":s=tn_figma__renderText(e,r);break;case"FRAME":case"COMPONENT":case"GROUP":var _=tn_figma__checkIsMask(e);if(!(_||100<e.children.length)){if(e.custom){s=tn_figma__renderShape(e,r);break}return o||"FRAME"!==e.type||((_=JSON.parse(JSON.stringify(e))).children=[],_.custom=!0,e.children.unshift(_)),!0}s=tn_figma__renderShape(e,r,!0);break;default:return!0}else s=tn_figma__renderButton(e,r);s&&(i=s.attr("data-elem-id"),t=s.attr("data-elem-type"),window.tn.figmImportData.newElemsIds[i]=i,"vector"===t)&&window.tn.figmImportData.vectorIds.push(i)}function tn_figma__renderButton(e,t){var i,n;return("FRAME"===e.type||"COMPONENT"===e.type&&1===e.children.length)&&(n=e),e.children.forEach(function(e){i||"TEXT"!==e.type||(i=e),n||"RECTANGLE"!==e.type||(n=e)}),!!i&&(t.elem_type="button",t.zindex=allelems__getHighestZIndex()+1,t.speedhover="0.2",i&&(t.caption=i.characters,t.fontsize=i.style.fontSize,t.lineheight=(i.style.lineHeightPercentFontSize/100).toFixed(2),t.color=i.fills[0]&&i.fills[0].color&&tn_figma__getColor(i.fills[0].color),e=t.width==Math.floor(i.size.x),t.align=e?i.style.textAlignHorizontal.toLowerCase():"center"),n&&(t.bgcolor=n.fills[0]&&n.fills[0].color&&tn_figma__getColor(n.fills[0].color),t.borderradius=tn_figma__getBorderRadius(n),t.bordercolor=n.strokes[0]&&n.strokes[0].color&&tn_figma__getColor(n.strokes[0].color),t.borderwidth=n.strokeWeight),void 0!==window.tn.textfont&&"undefined"!=window.tn.textfont&&""!=window.tn.textfont?t.fontfamily=window.tn.textfont:t.fontfamily="Arial",void 0!==window.tn.textfontweight&&"undefined"!=window.tn.textfontweight&&""!=window.tn.textfontweight?t.fontweight=window.tn.textfontweight:t.fontweight="400",addButton(t))}function tn_figma__renderVector(e,t){t.elem_type="vector",t.width=Math.floor(t.width),t.zindex=allelems__getHighestZIndex()+1;t=addVector(t);return window.tn.figmImportData.imgIds.push({id:t.attr("id"),nodeId:e.id,field:"img",isSVG:!0,size:e.absoluteRenderBounds,isArrow:(0==e.size.x||0==e.size.y)&&"VECTOR"===e.type}),t}function tn_figma__renderShape(e,t,i,n){var o,s=e.fills[0]&&"IMAGE"===e.fills[0].type||1<e.fills.length||i,i=(t.elem_type="shape",n&&(t.figure=n),t.borderradius="circle"===n?"3000":e.cornerRadius||"",t.bordercolor=e.strokes[0]&&e.strokes[0].color&&tn_figma__getColor(e.strokes[0].color),t.bordercolor&&(t.borderwidth=e.strokeWeight),t.zindex=allelems__getHighestZIndex()+1,s||(t.rotate=tn_figma__getRotationInDegrees(e.relativeTransform)),e.effects.length&&(e.effects.forEach(function(e){switch(e.type){case"DROP_SHADOW":o=tn_figma__getShadow(t,e);break;case"INNER_SHADOW":case"BACKGROUND_BLUR":case"LAYER_BLUR":s=!0}}),s||(t=o)),e.fills.length&&e.fills.forEach(function(e){switch(e.type){case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":s=!0}}),s?(t.width=Math.floor(e.absoluteBoundingBox.width),t.height=Math.floor(e.absoluteBoundingBox.height)):(t.bgcolor=e.fills[0]&&e.fills[0].color&&tn_figma__getColor(e.fills[0].color),i=e.fills[0]&&e.fills[0].opacity?parseFloat(e.fills[0].opacity.toFixed(2)):"",n=e.opacity?parseFloat(e.opacity.toFixed(2)):"","number"==typeof i&&"number"==typeof n?t.opacity=i<n?i:n:"number"==typeof i?t.opacity=i:"number"==typeof n&&(t.opacity=n)),addShape(t));return s&&window.tn.figmImportData.imgIds.push({id:i.attr("id"),nodeId:e.id,field:"bgimg"}),i}function tn_figma__renderText(e,t){return t.elem_type="text",t.text=e.characters.replaceAll("\n","<br>"),t.fontsize=e.style.fontSize,t.lineheight=(e.style.lineHeightPercentFontSize/100).toFixed(2),t.color=e.fills[0]&&e.fills[0].color&&tn_figma__getColor(e.fills[0].color),t.align=e.style.textAlignHorizontal,t.zindex=allelems__getHighestZIndex()+1,void 0!==window.tn.textfont&&"undefined"!=window.tn.textfont&&""!=window.tn.textfont?t.fontfamily=window.tn.textfont:t.fontfamily="Arial",void 0!==window.tn.textfontweight&&"undefined"!=window.tn.textfontweight&&""!=window.tn.textfontweight?t.fontweight=window.tn.textfontweight:t.fontweight=e.style.fontWeight,addText(t)}function tn_figma__getColor(e){return e?tn_rgb2hex("rgb("+parseInt(255*e.r,10)+","+parseInt(255*e.g,10)+","+parseInt(255*e.b,10)+")"):""}function tn_figma__getBorderRadius(e){return e.cornerRadius||e.rectangleCornerRadii&&e.rectangleCornerRadii[0]}function tn_figma__getRotationInDegrees(e){return Math.round(180*Math.atan2(e[1][0],e[0][0])/Math.PI)}function tn_figma__getApiUrlData(e){var t={},i=document.createElement("a");i.href=e;for(var n=i.search.substring(1).split("&"),o=0;o<n.length;o++){var s=n[o].split("=");t[s[0]]=decodeURIComponent(s[1])}return{nodeId:t["node-id"],fileKey:i.pathname.split("/")[2]}}function tn_figma__checkIsMask(e){var t=!1;if(e&&e.children&&e.children.length)for(var i=0;i<e.children.length;i++)if(e.children[i].isMask){t=!0;break}return t}function tn_figma__checkAmazonImages(){var e=$('.tn-elem[data-field-amazonsrc-value="y"]:not(.tn-elem[data-field-uploaderror-value="y"])'),t=$(".tn-figma-warning");0===e.length?t.addClass("tn-figma-warning__hidden"):t.removeClass("tn-figma-warning__hidden")}function tn_figma__getShadow(e,t){var e=JSON.parse(JSON.stringify(e)),i="rgb("+t.color.r+","+t.color.g+","+t.color.b+")";return e.shadowcolor=tn_rgb2hex(i),e.shadowopacity=parseFloat(t.color.a).toFixed(1),e.shadowx=t.offset.x,e.shadowy=t.offset.y,e.shadowy=t.offset.y,e.shadowblur=t.radius,e.shadowspread=t.spread,e}function bgposition__focusPoint__init(e){let i=document.querySelector(".bg-position-popup");i||((i=document.createElement("div")).classList.add("bg-position-popup"),document.body.insertAdjacentElement("beforeend",i)),i.innerHTML=`
		<div class="bg-position-popup__window">
		<div class="bg-position-popup__image"></div>
		</div>
		<div class="bg-position-editor__panel">
			<div class="bg-position-popup__hint">Drag the focus point to highlight the most important part of your image</div>
			<button class="js-bg-position-popup-reset bg-position-editor__btn bg-position-editor__btn--tertietary">
				Reset
			</button>
			<div class="bg-position-editor__actions">
				<button class="js-bg-position-popup-cancel bg-position-editor__btn bg-position-editor__btn--secondary">
					Cancel
				</button>
				<button class="js-bg-position-popup-save bg-position-editor__btn bg-position-editor__btn--primary">
					Save
				</button>
			</div>
		</div>
		<div class="bg-position-popup__overlay" style="width: ${5e3*window.tn.zoom}; height: ${5e3*window.tn.zoom};"></div>
		<div class="bg-position-editor__coords"></div>
		<button class="bg-position-editor__close">
			<svg class="bg-position-editor__close-icon" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"></path></svg>
		</button>
  `,bgposition__focusPoint__updateImageHeight();var t=document.querySelector(".bg-position-popup__image");const n=getComputedStyle(e.element);var[,o]=/url\("(.+)"\)/.exec(n.backgroundImage);t.innerHTML=`
		<img src="${o}" />
		<div class="bg-position-popup__handler"></div>
	`;const s=document.querySelector(".bg-position-popup__handler"),l=(window.bgposition_focusPoint={config:e,initialValues:{selectOption:e.getFieldValue("bgposition"),position:n.backgroundPosition.split(" ").join(",")}},t.getBoundingClientRect());bgposition__crop__getImageSize(o,l,"cover",!0).then(e=>{var t=bgposition__focusPoint__calculateImagePosition(e,{x:n.backgroundPositionX,y:n.backgroundPositionY},{width:l.width,height:l.height});window.bgposition_focusPoint.imageSize=e,window.bgposition_focusPoint.imagePosition=t,window.bgposition_focusPoint.initialValues={...window.bgposition_focusPoint.initialValues,calculatedPosition:`${t.left}px,${t.top}px`},Object.assign(s.style,{top:t.top+"px",left:t.left+"px"}),window.tn.flags.isBgpositionEditorActive=!0,document.querySelector("#mainmenu .tn-rightbtns-wrapper").style.display="none",i.style.opacity="0",setTimeout(()=>{i.style.opacity="1"},50),bgposition__focusPoint__bindEvents(),bgposition__focusPoint__bindHandlerEvents(),bgposition__focusPoint__updateCoords()}),window.addEventListener("resize",bgposition__focusPoint__updateImageHeight)}function bgposition__focusPoint__updateImageHeight(){var e=document.querySelector(".bg-position-popup__image"),t=window.innerHeight-67-100;if(Object.assign(e.style,{height:(t<500?t:500)+"px"}),window.bgposition_focusPoint?.imageSize){const i=getComputedStyle(window.bgposition_focusPoint.config.element),n=document.querySelector(".bg-position-popup__handler"),o=e.getBoundingClientRect();var[,t]=/url\("(.+)"\)/.exec(i.backgroundImage);bgposition__crop__getImageSize(t,o,"cover",!0).then(e=>{var t=bgposition__focusPoint__calculateImagePosition(e,{x:i.backgroundPositionX,y:i.backgroundPositionY},{width:o.width,height:o.height});window.bgposition_focusPoint.imagePosition=t,window.bgposition_focusPoint.imageSize=e,Object.assign(n.style,{top:t.top+"px",left:t.left+"px"})})}}function bgposition__focusPoint__updateCoords(){var e=document.querySelector(".bg-position-editor__coords"),t=window.bgposition_focusPoint.imageSize,i=window.bgposition_focusPoint.imagePosition,n=e=>Math.ceil(parseFloat(e)),o=(i.top/t.height*100).toFixed(1),i=(i.left/t.width*100).toFixed(1);e.innerHTML=`position: ${n(i)}% ${n(o)}%`}function bgposition__focusPoint__bindHandlerEvents(){const n=document.querySelector(".bg-position-popup__image"),o=document.querySelector(".bg-position-popup__handler");let s,l,a;const d=e=>{var t,i;1===e.which&&([s,l]=[e.clientX,e.clientY],i=n.getBoundingClientRect(),t=e.clientY-i.y,i=e.clientX-i.x,Object.assign(o.style,{top:t+"px",left:i+"px"}),window.bgposition_focusPoint.imagePosition={top:t,left:i},bgposition__focusPoint__updateCoords(),a=window.bgposition_focusPoint.imagePosition,size=window.bgposition_focusPoint.imageSize,o.classList.add("bg-position-popup__handler--active"),n.setPointerCapture(e.pointerId),n.removeEventListener("pointerdown",d),document.addEventListener("pointermove",r),document.addEventListener("pointerup",_))},r=i=>{if(window.bgposition_focusPoint){var[i,n]=[i.clientX,i.clientY],[i,n]=[i-s,n-l];let e=a.top+n,t=a.left+i;e<=0&&(e=0),(t=t<=0?0:t)>=size.width&&(t=size.width),e>=size.height&&(e=size.height),Object.assign(o.style,{top:e+"px",left:t+"px"}),window.bgposition_focusPoint.imagePosition={top:e,left:t},bgposition__focusPoint__updateCoords()}},_=()=>{o.classList.remove("bg-position-popup__handler--active"),n.addEventListener("pointerdown",d),document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",_)};n.addEventListener("pointerdown",d)}function bgposition__focusPoint__bindEvents(){var e=document.querySelector(".bg-position-popup__overlay"),t=document.querySelector(".bg-position-editor__close"),i=document.querySelector(".js-bg-position-popup-cancel"),n=document.querySelector(".js-bg-position-popup-reset"),o=document.querySelector(".js-bg-position-popup-save");[t,i].forEach(e=>{e.addEventListener("click",()=>bgposition__focusPoint__destroy({save:!1}))}),n.addEventListener("click",()=>bgposition__focusPoint__reset()),e.addEventListener("click",()=>bgposition__focusPoint__destroy({save:!0})),o.addEventListener("click",()=>bgposition__focusPoint__destroy({save:!0})),document.addEventListener("keydown",bgposition__focusPoint__onKeydown)}function bgposition__focusPoint__onKeydown(e){["Enter","Escape"].includes(e.code)&&(e.preventDefault(),e.stopPropagation(),bgposition__focusPoint__destroy({save:"Enter"===e.code}))}function bgposition__focusPoint__destroy(e={save:!0}){var t=document.querySelector(".bg-position-popup"),i=window.bgposition_focusPoint.config,n=window.bgposition_focusPoint.initialValues,o=window.bgposition_focusPoint.imageSize,s=window.bgposition_focusPoint.imagePosition,l=(s.top/o.height*100).toFixed(3),o=(s.left/o.width*100).toFixed(3)+`%,${l}%`,l=`${s.left}px,${s.top}px`===n.calculatedPosition;e.save&&!l?(i.setFieldValue("bgposition","custom","render","updateui"),i.setFieldValue("bgposition_imgpos",o,"render")):(i.setFieldValue("bgposition",n.selectOption,"render","updateui"),"custom"!==n.selectOption?i.delFieldValue("bgposition_imgpos"):i.setFieldValue("bgposition_imgpos",n.position,"render")),window.removeEventListener("resize",bgposition__focusPoint__updateImageHeight),t.remove(),i.element.classList.contains("tn-canvas-max")||tn_showOutline("selected"),window.tn.flags.isBgpositionEditorActive=!1,document.querySelector("#mainmenu .tn-rightbtns-wrapper").style.display="",window.bgposition_focusPoint=void 0,document.removeEventListener("keydown",bgposition__focusPoint__onKeydown)}function bgposition__focusPoint__reset(){var e=window.bgposition_focusPoint.imageSize,t=document.querySelector(".bg-position-popup__handler"),i=e.height/2,e=e.width/2;Object.assign(t.style,{top:i+"px",left:e+"px"}),window.bgposition_focusPoint.imagePosition={top:i,left:e},bgposition__focusPoint__updateCoords()}function bgposition__focusPoint__calculateImagePosition(e,t,i){const n=parseFloat(t.x),o=parseFloat(t.y),s=parseFloat(i.width),l=parseFloat(i.height);return{top:l*(o/100),left:s*(n/100)}}function bgposition__crop__init(e){if("position"===e.type)return bgposition__focusPoint__init(e);window.bgposition_crop={config:e};let t=document.querySelector(".bg-position-editor");t||((t=document.createElement("div")).classList.add("bg-position-editor"),document.body.insertAdjacentElement("beforeend",t)),t.innerHTML=`
    <div class="bg-position-editor__canvas" >
			<div class="bg-position-editor__resize">
				<div class="bg-position-editor__resize-handlers">
					<div class="bg-position-editor__resize-trigger" data-side="top">
						<div class="bg-position-editor__resize-line bg-position-editor__resize-line_h"></div>
					</div>
					<div class="bg-position-editor__resize-trigger" data-side="left">
						<div class="bg-position-editor__resize-line bg-position-editor__resize-line_v"></div>
					</div>
					<div class="bg-position-editor__resize-trigger" data-side="bottom">
						<div class="bg-position-editor__resize-line bg-position-editor__resize-line_h"></div>
					</div>
					<div class="bg-position-editor__resize-trigger" data-side="right">
						<div class="bg-position-editor__resize-line bg-position-editor__resize-line_v"></div>
					</div>
					<div class="bg-position-editor__resize-trigger" data-side="topleft"></div>
					<div class="bg-position-editor__resize-trigger" data-side="topright"></div>
					<div class="bg-position-editor__resize-trigger" data-side="bottomleft"></div>
					<div class="bg-position-editor__resize-trigger" data-side="bottomright"></div>
				</div>
			</div>
			<div class="bg-position-editor__hidden">
				<img class="bg-position-editor__hidden-img" />
			</div>
			<div class="bg-position-editor__overlay"></div>
			<div class="bg-position-editor__highlight">
				<div class="bg-position-editor__ref">
					<img class="bg-position-editor__ref-img" />
				</div>
			</div>
		</div>
		<div class="bg-position-editor__panel">
			<div class="bg-position-editor__range">
				<svg viewBox="0 0 8 8" height="8" width="8" xmlns="http://www.w3.org/2000/svg" class="bg-position-editor__range-icon"><path fill="currentColor" d="M8 3v2H0V3h8z"></path></svg>
				<div class="bg-position-editor__slider"></div>
				<svg viewBox="0 0 8 8" height="8" width="8" xmlns="http://www.w3.org/2000/svg" class="bg-position-editor__range-icon"><path fill="currentColor" d="M3 3V0h2v3h3v2H5v3H3V5H0V3h3z"></path></svg>
			</div>
			<button class="js-bg-position-editor-reset bg-position-editor__btn bg-position-editor__btn--tertietary">
				Reset
			</button>
			<div class="bg-position-editor__actions">
				<button class="js-bg-position-editor-close bg-position-editor__btn bg-position-editor__btn--secondary">
					Cancel
				</button>
				<button class="js-bg-position-editor-save bg-position-editor__btn bg-position-editor__btn--primary">
					Save
				</button>
			</div>
		</div>
		<div class="bg-position-editor__coords"></div>
		<button class="bg-position-editor__close">
			<svg class="bg-position-editor__close-icon" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"></path></svg>
		</button>
  `;const i=(window.bgposition_crop.editor=t).querySelector(".bg-position-editor__canvas"),n=t.querySelector(".bg-position-editor__highlight"),o=t.querySelector(".bg-position-editor__hidden"),s=t.querySelector(".bg-position-editor__resize"),l=t.querySelector(".bg-position-editor__hidden-img"),a=t.querySelector(".bg-position-editor__ref-img"),d=t.querySelector(".bg-position-editor__resize-handlers"),r=Array.from(t.querySelectorAll(".bg-position-editor__resize-trigger")),_=getComputedStyle(e.element),c=e.element.getBoundingClientRect(),[,u]=/url\("(.+)"\)/.exec(_.backgroundImage);window.bgposition_crop.imageURL=u,window.bgposition_crop.initialValues={size:_.backgroundSize.split(" ").join(","),position:_.backgroundPosition.split(" ").join(","),selectOption:e.getFieldValue("bgposition")},bgposition__crop__getImageSize(u,c,_.backgroundSize).then(e=>{var t=bgposition__crop__calculateImagePosition(e,_.backgroundPosition,c);window.bgposition_crop.initialValues={...window.bgposition_crop.initialValues,calculatedPosition:`${t.left}px,${t.top}px`,calculatedSize:`${e.width}px,${e.height}px`,imagePosition:t,imageSize:e,scrollX:window.scrollX,scrollY:window.scrollY},window.bgposition_crop.imageSize=e,window.bgposition_crop.imagePosition=t,window.bgposition_crop.updateWrapper=t=>{[o,n,s].forEach(e=>{Object.assign(e.style,t)})},window.bgposition_crop.updatePosition=t=>{[l,a,d].forEach(e=>{Object.assign(e.style,t)})},l.src=u,a.src=u,window.bgposition_crop.updateWrapper({top:c.y+window.scrollY+"px",left:c.x+window.scrollX+"px",width:c.width+"px",height:c.height+"px"}),window.bgposition_crop.updatePosition({top:t.top+"px",left:t.left+"px",width:e.width+"px",height:e.height+"px"}),r.forEach(e=>{bgposition__crop__bindTriggerEvents(e)}),document.querySelector("#mainmenu .tn-rightbtns-wrapper").style.display="none",bgposition__crop__bindEvents(),bgposition__crop__bindPanelEvents(),i.style.opacity="0",setTimeout(()=>{i.style.opacity="1"}),i.addEventListener("animationend",()=>{window.bgposition_crop.config.hideElement()}),bgposition__updateZoomScaling(),bgposition__crop__updateScaleSlider(),bgposition__crop__updateCoords(),bgposition__crop__updateOverlaySize(),document.addEventListener("zoom:gesture-changed",bgposition__updateZoomScaling)})}function bgposition__crop__destroy(e={save:!0}){var t=window.bgposition_crop.config,i=window.bgposition_crop.editor,n=window.bgposition_crop.initialValues,o=(t.showElement(),window.bgposition_crop.imagePosition.natural),s=window.bgposition_crop.imageSize.natural,{top:l,left:a,width:d,height:r}=bgposition__crop__calculateFinalPositioning(),a={position:a+`%,${l}%`,size:d+`%,${r}%`};const _=`${o.left}px,${o.top}px`,c=`${s.width}px,${s.height}px`;l=c===n.calculatedSize&&_===n.calculatedPosition;e.save&&!l?(t.setFieldValue("bgposition","custom","render","updateui"),t.setFieldValue("bgposition_imgpos",a.position,"render"),t.setFieldValue("bgposition_imgsize",a.size,"render")):n.selectOption&&(t.setFieldValue("bgposition",n.selectOption,"render","updateui"),"custom"!==n.selectOption?(t.delFieldValue("bgposition_imgpos"),t.delFieldValue("bgposition_imgsize")):(t.setFieldValue("bgposition_imgpos",n.position,"render"),t.setFieldValue("bgposition_imgsize",n.size,"render"))),t.element.classList.contains("tn-canvas-max")||tn_showOutline("selected"),document.querySelector("#mainmenu .tn-rightbtns-wrapper").style.display="",i.remove(),window.bgposition_crop=void 0,document.removeEventListener("keydown",bgposition__crop__onKeydownHandler)}function bgposition__crop__calculateFinalPositioning(e=3){var t=window.bgposition_crop.config.element.getBoundingClientRect(),{top:i,left:n}=window.bgposition_crop.imagePosition.natural,{width:o,height:s}=window.bgposition_crop.imageSize.natural,i=Math.abs(i)/(s-t.height/window.tn.zoom)*100||0,n=Math.abs(n)/(o-t.width/window.tn.zoom)*100||0,o=o/(t.width/window.tn.zoom)*100||0,s=s/(t.height/window.tn.zoom)*100||0;return{top:i.toFixed(e),left:n.toFixed(e),width:o.toFixed(e),height:s.toFixed(e)}}function bgposition__crop__updateCoords(){var e=document.querySelector(".bg-position-editor__coords"),t=e=>Math.ceil(parseFloat(e)),{top:i,left:n,width:o,height:s}=bgposition__crop__calculateFinalPositioning(1);e.innerHTML=`position: ${t(n)}% ${t(i)}%; size: ${t(o)}% ${t(s)}%`}function bgposition__crop__updateScaleSlider(){var e=window.bgposition_crop.editor,t=window.bgposition_crop.imageSize.natural,i=window.bgposition_crop.config.element,e=e.querySelector(".bg-position-editor__slider"),i=i.getBoundingClientRect(),n=t.width/(i.width/window.tn.zoom)*100,t=t.height/(i.height/window.tn.zoom)*100;n<=t?$(e).slider("value",t):$(e).slider("value",n)}function bgposition__crop__bindPanelEvents(){const t=window.bgposition_crop.editor;var e=t.querySelector(".js-bg-position-editor-save"),i=t.querySelector(".js-bg-position-editor-reset"),n=t.querySelector(".js-bg-position-editor-close"),o=t.querySelector(".bg-position-editor__slider");let r,_,c;$(o).slider({range:"min",min:100,step:.1,max:500,start:()=>{var e=window.bgposition_crop.imageSize;r=e.height/e.width,_=e.width/e.height,c=t.querySelector(".bg-position-editor__hidden").getBoundingClientRect()},slide:(e,t)=>{var i=window.bgposition_crop.imageSize.natural,n=window.bgposition_crop.imagePosition.natural;let o,s;i.height>=i.width?(l=i.height/i.width,s=t.value/100*c.height,o=s/l):(l=i.width/i.height,o=t.value/100*c.width,s=o/l);var t=i.width*window.tn.zoom-o,l=i.height*window.tn.zoom-s;let a=n.top*window.tn.zoom+l/2,d=n.left*window.tn.zoom+t/2;0<=a&&(a=0),(d=0<=d?0:d)+o<=c.width&&(o=Math.abs(d)+c.width,s=o*r),a+s<=c.height&&(s=Math.abs(a)+c.height,o=s*_),bgposition__crop__updatePositionState({top:a,left:d},{width:o,height:s})}}),e.addEventListener("click",()=>bgposition__crop__destroy({save:!0})),i.addEventListener("click",()=>bgposition__crop__resetToInitialState()),n.addEventListener("click",()=>bgposition__crop__destroy({save:!1}))}function bgposition__crop__bindTriggerEvents(t){const i=window.bgposition_crop.editor,n=window.bgposition_crop.config;let l,a,d,r,o,_;const c=t.getAttribute("data-side"),s=e=>{1===e.which&&(e.preventDefault(),e.stopImmediatePropagation(),l=e.clientX,a=e.clientY,o=bgposition__crop__getCurrentPosition(i),d=o.height/o.width,r=o.width/o.height,_=n.element.getBoundingClientRect(),t.setPointerCapture(e.pointerId),t.removeEventListener("pointerdown",s),document.addEventListener("pointermove",p),document.addEventListener("pointerup",g))},u=(e,t,i)=>{return{top:()=>{var e=o.height-i,t=e/d;return{top:o.top+i,left:o.left+(o.width-t)/2,width:t,height:e}},left:()=>({top:o.top,left:o.left+t,width:o.width-t,height:(o.width-t)*d}),right:()=>({top:o.top,left:o.left,width:o.width+t,height:(o.width+t)*d}),bottom:()=>{var e=o.height+i,t=e/d;return{top:o.top,left:o.left+(o.width-t)/2,width:t,height:e}},topleft:()=>({top:o.top+i,left:o.left+t,width:o.width-t,height:(o.width-t)*d}),topright:()=>({top:o.top+i,left:o.left,width:o.width+t,height:(o.width+t)*d}),bottomleft:()=>({top:o.top,left:o.left+t,width:o.width-t,height:(o.width-t)*d}),bottomright:()=>({top:o.top,left:o.left,width:o.width+t,height:(o.width+t)*d})}[e]()},p=e=>{var t=e.clientX-l,e=e.clientY-a;let{top:i,left:n,width:o,height:s}=u(c,t,e);0<=i&&(i=0),(n=0<=n?0:n)+o<=_.width&&(o=Math.abs(n)+_.width,s=o*d),i+s<=_.height&&(s=Math.abs(i)+_.height,o=s*r),bgposition__crop__updatePositionState({top:i,left:n},{width:o,height:s})},g=()=>{document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",g),t.addEventListener("pointerdown",s)};t.addEventListener("pointerdown",s)}function bgposition__crop__bindEvents(){const{editor:t,config:i}=window.bgposition_crop,n=t.querySelector(".bg-position-editor__canvas"),o=t.querySelector(".bg-position-editor__close"),s=t.querySelector(".bg-position-editor__panel");let l,a,d,r;const _=e=>{var t=l-e.clientX,e=a-e.clientY;let i=d.top-e,n=d.left-t;var e=n+d.width<=r.width,t=i+d.height<=r.height,o=0<=n,s=0<=i;e&&(n=r.width-d.width),t&&(i=r.height-d.height),o&&(n=0),bgposition__crop__updatePositionState({top:i=s?0:i,left:n})},c=()=>{t.removeEventListener("pointermove",_),t.removeEventListener("pointerup",c),t.addEventListener("pointerdown",u)},u=e=>{if(1===e.which&&s!==e.target&&!s.contains(e.target))return o===e.target||o.contains(e.target)?bgposition__crop__destroy({save:!1}):n!==e.target&&n.contains(e.target)?(e.preventDefault(),l=e.clientX,a=e.clientY,d=bgposition__crop__getCurrentPosition(),r=i.element.getBoundingClientRect(),t.setPointerCapture(e.pointerId),t.removeEventListener("pointerdown",u),t.addEventListener("pointermove",_),void t.addEventListener("pointerup",c)):bgposition__crop__destroy()};t.addEventListener("pointerdown",u),document.addEventListener("keydown",bgposition__crop__onKeydownHandler)}function bgposition__crop__onKeydownHandler(e){["Enter","Escape"].includes(e.code)&&(e.preventDefault(),e.stopPropagation(),bgposition__crop__destroy({save:"Enter"===e.code}))}function bgposition__crop__calculateImagePosition(n,e,t){var[e,i]=e.split(" ");const o={x:parseFloat(e),y:parseFloat(i),width:parseFloat(t.width)/window.tn.zoom,height:parseFloat(t.height)/window.tn.zoom};var e=e=>{let t=o.x*((n.natural.width-o.width)/100),i=o.y*((n.natural.height-o.height)/100);return e&&(t=o.x*((n.width-o.width*window.tn.zoom)/100),i=o.y*((n.height-o.height*window.tn.zoom)/100)),i<0&&(i=0),[t=t<0?0:t,i]},[i,t]=e(!0),[e,s]=e(!1);return{top:-1*t,left:-1*i,natural:{top:-1*s,left:-1*e}}}function bgposition__crop__getCurrentPosition(){var e=window.bgposition_crop.editor.querySelector(".bg-position-editor__hidden-img"),t=window.getComputedStyle(e),[e,i]=[parseFloat(e.style.top),parseFloat(e.style.left)],[t,n]=[parseFloat(t.width),parseFloat(t.height)];return{top:e,left:i,width:t,height:n}}function bgposition__crop__getImageSize(e,a,d,r=!1){return new Promise(i=>{const l=document.createElement("img");l.src=e,l.onload=()=>{let s;window.bgposition_crop?s=window.bgposition_crop.config.getFieldValue("bgposition_imgsize"):window.bgposition_focusPoint&&(s=window.bgposition_focusPoint.config.getFieldValue("bgposition_imgsize"));var e=(e=!0)=>{let t=l.width,i=l.height;var n,o,e=e?1:window.tn.zoom;return s&&!r||!s&&d.includes("%")&&!r?(n=parseFloat(d)/100*(a.width/e),o=l.width/l.height,[t,i]=[n,n/o]):"cover"===d&&(n=a.width/e/t,o=a.height/e/i,e=Math.max(n,o),t*=e,i*=e),{width:t,height:i}},t=e(!0),e=e(!1);i({width:t.width,height:t.height,natural:{width:e.width,height:e.height}})}})}function bgposition__updateZoomScaling(){window.bgposition_crop&&window.requestAnimationFrame(()=>{var e=window.bgposition_crop.config,t=window.bgposition_crop.imageSize.natural,i=window.bgposition_crop.imagePosition.natural;document.querySelector(".bg-position-editor")&&(e=e.element.getBoundingClientRect(),window.bgposition_crop.updateWrapper({top:e.y+window.scrollY+"px",left:e.x+window.scrollX+"px",width:e.width+"px",height:e.height+"px"}),bgposition__crop__updatePositionState({top:i.top*window.tn.zoom,left:i.left*window.tn.zoom},{width:t.width*window.tn.zoom,height:t.height*window.tn.zoom}),bgposition__crop__updateOverlaySize())})}function bgposition__crop__resetToInitialState(){if(window.bgposition_crop){var e=window.bgposition_crop.config,t=window.bgposition_crop.imageURL;const i=e.element.getBoundingClientRect();bgposition__crop__getImageSize(t,i,"cover",!0).then(e=>{var t=bgposition__crop__calculateImagePosition(e,"50% 50%",i);bgposition__crop__updatePositionState({top:t.natural.top*window.tn.zoom,left:t.natural.left*window.tn.zoom},{width:e.natural.width*window.tn.zoom,height:e.natural.height*window.tn.zoom})})}}function bgposition__crop__updateOverlaySize(){if(window.bgposition_crop){var e=window.bgposition_crop.editor,t=e.querySelector(".bg-position-editor__canvas"),i=e.querySelector(".bg-position-editor__overlay"),e=e.querySelector(".bg-position-editor__hidden").getBoundingClientRect(),n=window.bgposition_crop.imageSize;const o=Math.max(e.left+window.scrollX+n.width,e.top+window.scrollY+n.height);o>12e3*window.tn.zoom?[t,i].forEach(e=>{Object.assign(e.style,{width:(o+3e3)*window.tn.zoom+"px",height:(o+1e3)*window.tn.zoom+"px"})}):[t,i].forEach(e=>{Object.assign(e.style,{width:12e3*window.tn.zoom+"px",height:1e4*window.tn.zoom+"px"})})}}function bgposition__crop__updatePositionState(e,t,i=!0,n=!0){if(window.bgposition_crop){var o=window.bgposition_crop.editor;const s={};e&&(s.top=e.top+"px",s.left=e.left+"px",n)&&(window.bgposition_crop.imagePosition={top:e.top,left:e.left,natural:{top:e.top/window.tn.zoom,left:e.left/window.tn.zoom}}),t&&(s.width=t.width+"px",s.height=t.height+"px",n)&&(window.bgposition_crop.imageSize={width:t.width,height:t.height,natural:{width:t.width/window.tn.zoom,height:t.height/window.tn.zoom}}),i&&[o.querySelector(".bg-position-editor__hidden-img"),o.querySelector(".bg-position-editor__ref-img"),o.querySelector(".bg-position-editor__resize-handlers")].forEach(e=>{Object.assign(e.style,s)}),bgposition__crop__updateScaleSlider(),bgposition__crop__updateCoords(),bgposition__crop__updateOverlaySize()}}function bgposition__resetElement(e){"shape"===e.attr("data-elem-type")&&(elem__delFieldValue(e,"bgposition_imgpos",void 0,"render","updateui"),elem__delFieldValue(e,"bgposition_imgsize",void 0,"render","updateui"),elem__setFieldValue(e,"bgposition","center center","render","updateui"))}function bgposition__getCustomFieldHintText(i,e){var t=(e,t)=>("elem"===i?elem__getFieldValue:ab__getFieldValue)(e,t);const n=t(e,"widthunits"),o=t(e,"heightunits");var s="%"===n||"%"===o,l="elem"===i?t(e,"bgposition_imgsize"):void 0;const a=t(e,"bgposition_imgpos"),d=e=>parseFloat(e)?Math.ceil(parseFloat(e)):0;var t=e=>{return e&&!["top","left","right","center"].some(e=>a?.includes(e))?(e=e.split(","),[d(e[0])+"%",d(e[1])+"%"]):["0%","0%"]},[e,r]=t(a),[t,l]=t(l);return s||"ab"===i?`(p: ${e} ${r})`:`(p: ${e} ${r}; s: ${t} ${l})`}function tn_vector__openEditor(e){window.tn.flags.isSettingsFocused=!0;var t=document.querySelector(".tn-left-box");const s=!!t&&t.classList.contains("tn-left-box_show"),l=document.getElementById(e),a=l.querySelector(".tn-atom"),i=elem__getFieldValue(l,"vectorjson"),d=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth);t=elem__getFieldValue(l,"width")/elem__getFieldValue(l,"filewidth")||1,e=l.getBoundingClientRect();const _={top:(e.top+window.pageYOffset)/window.tn.zoom,left:(e.left+window.pageXOffset)/window.tn.zoom,scale:t,zoom:window.tn.zoom||1},n=(i||(_.svg=a.innerHTML),tn_vector__loadVectorLib("shape-editor",l).then(()=>{if(n){let n=document.querySelector(".tn-vector-editor");var e=d/window.tn.zoom,t=r/window.tn.zoom;n?(n.style.display="block",n.style.height=e+"px",n.style.width=t+"px"):document.body.insertAdjacentHTML("beforeend",`<div class="tn-vector-editor" style="height:${e}px;width:${t}px;"></div>`),document.addEventListener("keydown",tn_vector__createPanoramaEvent),document.addEventListener("keyup",tn_vector__removePanoramaEvent),l.style.display="none";let o=document.querySelector(".tn-axis");o&&(o.style.display="none"),tn_hideOutline("selected"),tn_toggleUI(),document.querySelector(".tn-canvas-min").classList.remove("tn-canvas-min_noborder"),grid__show(),ab__control__toggle__update("ui_show"),shape_editor_init(document.querySelector(".tn-vector-editor"),i,_,(e,t)=>{let i;e&&t&&(i=JSON.parse(e)).p&&i.p.length&&(tn_vector__setElemFieldValues(l,i),elem__setFieldValue(l,"vectorjson",e,"render","updateui",window.tn.topResolution),a.innerHTML="",a.append(t)),(n=document.querySelector(".tn-vector-editor")).style.display="none",(o=document.querySelector(".tn-axis"))&&(o.style.display="");e=n.querySelector("svg");e&&(e.style.transform=""),!i||i.p&&0!==i.p.length?(l.style.display="",elem__select(l),tn_showOutline("selected")):elem__Delete(l),tn_toggleUI(),s&&panelLayers__open(),ab__control__toggle__update("ui_show"),window.tn.flags.isSettingsFocused=!1,document.removeEventListener("keydown",tn_vector__createPanoramaEvent),document.removeEventListener("keyup",tn_vector__removePanoramaEvent),window.tn.flags.isRulersShow&&_rulers__highlightObserverHander()})}}))}function tn_vector__setElemFieldValues(e,t){var i=t.b&&t.b.y||0,n=t.b&&t.b.x||0;let o=t.b&&t.b.w||0,s=t.b&&t.b.h||0;t=elem__convertPosition__Absolute__toLocal(e,"left",n),n=elem__convertPosition__Absolute__toLocal(e,"top",i);elem__setFieldValue(e,"left",t,"render","updateui"),elem__setFieldValue(e,"top",n,"render","updateui"),o&&s&&(o=parseInt(o.toFixed(0),10),s=parseInt(s.toFixed(0),10),elem__setFieldValue(e,"width",o,"render","updateui"),elem__setFieldValue(e,"filewidth",o,"render","",window.tn.topResolution),elem__setFieldValue(e,"fileheight",s,"render","",window.tn.topResolution))}function tn_vector__createPanoramaEvent(e){32===e.keyCode&&(tn_console("space inside vector editor"),e.preventDefault(),(e=document.querySelector(".tn-vector-editor"))&&(e.style.pointerEvents="none"),tn_showMoveShape(),window.tn.flags.isPanMode=!0)}function tn_vector__removePanoramaEvent(e){32===e.keyCode&&((e=document.querySelector(".tn-vector-editor"))&&(e.style.pointerEvents=""),tn_hideMoveShape(),window.tn.flags.isPanMode=!1)}async function tn_vector__loadVectorLib(e,t){var i=document.getElementById(e+"-js"),n=document.getElementById(e+"-styles");if(i&&n)return!0;document.body.style.pointerEvents="none";var o=setTimeout(()=>{t.classList.add("t_null-wait")},1e3);try{return i=await tn_loadResourceAsync("script","https://front.tildacdn.com/shapeeditor/t-shape-editor.min.js?ver="+window.ver),n=await tn_loadResourceAsync("style","https://front.tildacdn.com/shapeeditor/t-shape-editor.min.css?ver="+window.ver),i.id=e+"-js",n.id=e+"-styles",!0}catch(e){return alert("Error while loading shape editor. Please, try later or check your internet connection"),!1}finally{clearTimeout(o),t.classList.remove("t_null-wait"),document.body.style.pointerEvents=""}}function tn_shapeBorderRadius__shouldShowHandle(e){var t="shape"===e.getAttribute("data-elem-type"),e="rectangle"===e.getAttribute("data-field-figure-value");return t&&e}function tn_shapeBorderRadius__setHandlePosition(e,t){var i,n=window.tn_shapeBorderRadius__OFFSET,t=t||parseInt(e.style.borderRadius,10)||0,o=e.querySelector(".border-radius-handle");o&&(e=e.getBoundingClientRect(),e=Math.min(e.width,e.height),o.style.display=e<64?"none":null,i=((e=e/2/window.tn.zoom)-n)/e,e<=t?(o.style.bottom=e+"px",o.style.right=e+"px"):t?(e=Math.round(t*i+n),o.style.bottom=e+"px",o.style.right=e+"px"):(o.style.bottom=n+"px",o.style.right=n+"px"))}function tn_shapeBorderRadius__destroyHandle(e){e=e.querySelector(".border-radius-handle");e&&e.remove()}function tn_shapeBorderRadius__initHandle(s){let l=(s=s instanceof jQuery?s[0]:s).querySelector(".border-radius-handle");l&&l.remove(),s.insertAdjacentHTML("beforeend",`
			<div class="border-radius-handle">
    	  <div class="border-radius-handle__circle"></div>
    	</div>
  	`);const a=window.tn_shapeBorderRadius__OFFSET,d=s.querySelector(".tn-atom"),r=(l=s.querySelector(".border-radius-handle"),$(l));tn_shapeBorderRadius__setHandlePosition(s);let _,c,u,p;r.tooltipster({theme:"tn-tooltip__tooltipster--radius-handle",interactive:!0,autoClose:!1,arrow:!1,updateAnimation:!1,content:"",delay:0,position:"top",trigger:"custom"});const i=e=>{e.preventDefault(),e.stopImmediatePropagation(),l.classList.add("border-radius-handle_active"),p=s.getBoundingClientRect(),_=e.clientX,c=e.clientY,u=parseInt(l.style.bottom,10),handleX=parseInt(l.style.right,10),document.addEventListener("mousemove",n),document.addEventListener("mouseup",o),l.removeEventListener("mousedown",i)},n=e=>{var t=e.clientX,e=e.clientY,t=t-_,e=e-c,i=Math.min(p.width,p.height)/2/window.tn.zoom,n=(i-a)/i,t=(t+e)/2/window.tn.zoom;let o=Math.round(u-t);(o=o>=i?i:o)-a<=0&&(o=a),l.style.bottom=o+"px",l.style.right=o+"px";e=Math.round((o-a)/n);s.style.borderRadius=e+"px",d.style.borderRadius=e+"px",r.tooltipster("content","Radius "+e),r.tooltipster("show")},o=()=>{var e=$(s),t=parseInt(d.style.borderRadius,10);l.classList.remove("border-radius-handle_active"),tn_undo__Add("elem_save",e),elem__setFieldValue(e,"borderradius",t,!0,!0),panelSettings__updateUi(e,"borderradius"),r.tooltipster("hide"),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o),l.addEventListener("mousedown",i)};l.addEventListener("mousedown",i)}function colorpicker__init(t,i,e,n){if(t){let e="color"===i&&"text"===n;window.tn.flags.isMultiEdit&&"color"===i&&(e=window.tn.flags.isMultiEdit_common_attrs.color?.includes("-gradient(")||window.tn.flags.isMultiEdit_types.every(e=>"text"===e));var o=i.includes("bgcolor")&&!i.includes("slds_arrowbgcolor")&&"inputbgcolor"!==i,s=document.body.classList.contains("tn-theme-dark"),o=new TColorPicker(t,{isOpacityEnabled:!0,isGradientOpacityOnly:!0,isGradientsEnabled:e||o,position:"bottom-right",theme:s?"dark":"light",swatchesKey:window.projectid,swatchSize:30,bottomGap:30,emptyColorKeywords:["Mixed"]});o.init(),window.tn.colorPickerList.push(o),"artboard"===n?t.addEventListener("colorchange",colorpicker__processAbColors):t.addEventListener("colorchange",colorpicker__processElemColors);const l=document.querySelector(`[data-control-field="${i}"]`);t.addEventListener("paneltoggle",e=>{window.tn.flags.isSettingsFocused=e.isOpen,e.isOpen&&l&&l.classList.remove("sui-form-group_undefined")})}}function allcolorpickers__destroy(){window.tn.colorPickerList.forEach(e=>e.destroy()),window.tn.colorPickerList=[]}function colorpicker__processAbColors(e){var t=e.target,i=t.name,n=e.currentColor.gradient,n=n?n.css:e.currentColor.hex||"",e=document.querySelector(".tn-artboard"),o=$(e);"gridcolor"===i?(ab__setFieldValue(o,i,n),grid__render(),"block"===ab__getFieldValue(o,"gridglobal")&&grid__setLocalOptions()):n?colorpicker__setColorValue(i,t,n,e):colorpicker__setAbEmptyColor(i,n,e)}function colorpicker__setColorValue(e,t,i,n){var o=n.classList.contains("tn-artboard"),s=$(n);colorpicker__processColorValue((o?ab__getFieldValue:elem__getFieldValue)(s,e))!==colorpicker__processColorValue(i)&&(o?(colorpicker__setPreviousStateToUndo(n,o),ab__setFieldValue(s,e,i),ab__renderViewOneField(e)):colorpicker__setColorValueForElem(n,e,i))}function colorpicker__setColorValueForElem(e,i,n){var t=window.tn.flags.isMultiEdit,e=t?window.tn.multi_edit_elems.get():[e],e=(colorpicker__setPreviousStateToUndo(e,!1),e.forEach(e=>{var t=$(e);elem__setFieldValue(t,i,n),elem__renderViewOneField(t,i),"form"===e.getAttribute("data-elem-type")&&t_zeroForms__renderForm(e)}),document.querySelector(".tn-elem__fake"));t&&e&&elem__setFieldValue($(e),i,n),tn_setOutlinePosition("selected")}function colorpicker__setPreviousStateToUndo(e,t){tn_undo__Add(t?"ab_save":"elem_save",$(e)),tn_set_lastChanges()}function colorpicker__processColorValue(e){return e&&(tn_isGradientStyle(e)||e.includes("rgba(")||(e=(e=e.includes("#")?e:"#"+e).toLowerCase().replace(/[^a-fA-F0-9#]+/g,"").toUpperCase(),/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)))?e:""}function colorpicker__setAbEmptyColor(e,t,i){var n;i&&(i=$(i),(n=window.tn.curResolution===window.tn.topResolution)||!n&&"bgcolor"===e?(ab__setFieldValue(i,e,t),ab__renderViewOneField(e)):(ab__setFieldValue(i,e,void 0),t=ab__getFieldValue(i,e),(n=document.querySelector(`[data-control-field="${e}"]`))?.setAttribute("data-control-value",t),n?.classList.add("sui-form-group_undefined")))}function colorpicker__processElemColors(t){var i=t.target,n=i.name,o=t.currentColor.gradient,o=o?o.css:t.currentColor.hex||"",t=colorpicker__getCurrentElemFromInput(i);if(t){let e=$(t);window.tn.flags.isMultiEdit&&(e=window.tn.multi_edit_elems),o||window.tn.curResolution===window.tn.topResolution?colorpicker__setColorValue(n,i,o,t):colorpicker__removeEmptyValueFromElem(e,t,i,n)}}function colorpicker__removeEmptyValueFromElem(e,t,i,n){t=$(t),elem__delFieldValue(t,n,"","render","updateui"),t=elem__getFieldValue(t,n),n=i.closest(".sui-form-group");n?.setAttribute("data-control-value",t),n?.classList.add("sui-form-group_undefined"),tn_setOutlinePosition("selected")}function colorpicker__getCurrentElemFromInput(e){e=e.closest(".tn-settings")?.getAttribute("data-for-elem-id")||"";return document.getElementById(e)}function rulersOption__init(){document.body.insertAdjacentHTML("beforeend",`
		<div class="tn-rulers-wrpr">
			<div class="tn-ruler tn-ruler_top" data-direction="top">
				<span class="tn-ruler__number"></span>
			</div>
			<div class="tn-ruler tn-ruler_bottom" data-direction="bottom">
				<span class="tn-ruler__number"></span>
			</div>
			<div class="tn-ruler tn-ruler_left" data-direction="left">
				<span class="tn-ruler__number"></span>
			</div>
			<div class="tn-ruler tn-ruler_right" data-direction="right">
				<span class="tn-ruler__number"></span>
			</div>
		</div>
	`),window.tn.rulersOptionDimensions={top:{},left:{},bottom:{},right:{}},rulersOption__updateDimensionsData(),document.addEventListener("zoom:gesture-changed",rulersOption__zoomHandler),document.addEventListener("zoom:zoom-reset",rulersOption__zoomHandler),document.addEventListener("blur",()=>{document.hasFocus()||(window.isAltDown=!1,rulersOption__hide())})}function rulersOption__updateDimensionsData(){var e=document.querySelectorAll(".tn-ruler");(window.tn.rulersOptionDimensions.rulers=e).forEach(e=>{var t=e.getAttribute("data-direction");window.tn.rulersOptionDimensions[t].top=e.offsetTop,window.tn.rulersOptionDimensions[t].left=e.offsetLeft,window.tn.rulersOptionDimensions[t].width=e.offsetWidth,window.tn.rulersOptionDimensions[t].height=e.offsetHeight})}function rulersOption__zoomHandler(){var e=(window.tn.rulersOptionDimensions||{rulers:[]})["rulers"];const i=window.tn["zoom"];e.forEach(e=>{var t;"0"!==e.style.opacity&&(t=e.getAttribute("data-direction"),t=window.tn.rulersOptionDimensions[t],e.style.top=t.top*i+"px",e.style.left=t.left*i+"px",e.style.width=`${1<t.width?t.width*i:t.width}px`,e.style.height=`${1<t.height?t.height*i:t.height}px`)})}function rulersOption__setPosition(){var e,t,i=document.querySelectorAll(".tn-elem__selected");i.length&&!Array.from(i).find(e=>e.classList.contains("ui-draggable-dragging"))&&(e=0<document.querySelectorAll(".tn-elem__hover, .tn-group__hover").length,t=0<document.querySelectorAll(".tn-elem__on-resize, .tn-group__on-resize").length,rulersOption__setRelativePosition(e&&!t?document.querySelector(".tn-outline_hover"):rulersOption__getContainer(i)),rulersOption__updateDimensionsData(),rulersOption__zoomHandler(),rulersOption__setNumbers())}function rulersOption__setRelativePosition(i){var e=(window.tn.rulersOptionDimensions||{rulers:[]})["rulers"],t=rulersOption__getCoords(i),n=document.querySelector(".tn-outline_selected");const o=document.querySelector(".tn-elem__sbsmode")||n,s=rulersOption__getOutlinePosition(rulersOption__getCoords(o),t);e.forEach(e=>{var t=e.getAttribute("data-direction");"bottom"!==t&&"top"!==t||rulersOption__setVerticalPosition(e,t,o,i,s),"right"!==t&&"left"!==t||rulersOption__setHorizontalPosition(e,t,o,i,s)})}function rulersOption__setVerticalPosition(t,i,e,n,o){var s=t.querySelector(".tn-ruler__number"),l=rulersOption__getCoords(e),a=rulersOption__getCoords(n);let d=(l.left+l.right)/2,r=0,_=0,c,u;var p=e.classList.contains("tn-outline"),g=n.classList.contains("tn-outline"),p=p?e.offsetWidth/window.tn.zoom:e.offsetWidth,m=g?n.offsetHeight/window.tn.zoom:n.offsetHeight,e=g?n.offsetWidth/window.tn.zoom:n.offsetWidth;if(o.length){for(let e=0;e<o.length;e++){if(o[e]===i){d>a.right?(t.style.borderLeft="none",t.style.borderRight="1px solid red",s.style.left="100%"):d<a.left&&(t.style.borderRight="none",t.style.borderLeft="1px solid red",s.style.left="0"),t.style["border-"+i]="1px dashed red";break}t.style["border-"+i]="",s.style.left=""}for(let e=0;e<o.length;e++)o[e]===i&&(d>a.right?(r=d-a.right,d-=r):d<a.left&&(r=a.left-d),_=Math.abs(l[i]-a[i])-m);l[i]>a[i]&&(c=a[i]+m)}else _=Math.abs(l[i]-a[i]),d=l.right<a.right&&l.left<a.left?(l.right+a.left)/2:l.right>a.right&&l.left>a.left?(l.left+a.right)/2:e<p?(a.left+a.right)/2:(l.left+l.right)/2;l[i]>a[i]?(u=l[i],o.length||(c=a[i])):(c=l[i],u=a[i]),r=Math.round(r),_=Math.round(_),c=Math.round(c),u=Math.round(u),d=Math.round(d),_||0===_||r||0===r?(t.style.width=r+"px",t.style.height=_+"px",t.style.top=c+"px",t.style.bottom=u+"px",t.style.left=d+"px",t.style.opacity="1"):t.style.opacity="0",window.tn.rulersOptionDimensions[i].distanceValue=_,rulersOption__updateDimensionsData()}function rulersOption__setHorizontalPosition(t,i,e,n,o){var s=t.querySelector(".tn-ruler__number"),l=rulersOption__getCoords(e),a=rulersOption__getCoords(n);let d=(l.top+l.bottom)/2,r=0,_=0,c,u;var p=e.classList.contains("tn-outline"),g=n.classList.contains("tn-outline"),p=p?e.offsetHeight/window.tn.zoom:e.offsetHeight,e=g?n.offsetHeight/window.tn.zoom:n.offsetHeight,m=g?n.offsetWidth/window.tn.zoom:n.offsetWidth;if(o.length){for(let e=0;e<o.length;e++){if(o[e]===i){d>a.bottom?(t.style.borderTop="none",t.style.borderBottom="1px solid red",s.style.top="100%"):d<a.top&&(t.style.borderBottom="none",t.style.borderTop="1px solid red",s.style.top="0"),t.style["border-"+i]="1px dashed red";break}t.style["border-"+i]="",s.style.top=""}for(let e=0;e<o.length;e++)o[e]===i&&(d>a.bottom?(_=d-a.bottom,d-=_):d<a.top&&(_=a.top-d),r=Math.abs(l[i]-a[i])-m);l[i]>a[i]&&(c=a[i]+m)}else r=Math.abs(l[i]-a[i]),d=l.bottom<a.bottom&&l.top<a.top?(l.bottom+a.top)/2:l.bottom>a.bottom&&l.top>a.top?(l.top+a.bottom)/2:e<p?(a.top+a.bottom)/2:(l.top+l.bottom)/2;l[i]>a[i]?(u=l[i],o.length||(c=a[i])):(c=l[i],u=a[i]),r=Math.round(r),_=Math.round(_),c=Math.round(c),u=Math.round(u),d=Math.round(d),_||0===_||r||0===r?(t.style.width=r+"px",t.style.height=_+"px",t.style.left=c+"px",t.style.right=u+"px",t.style.top=d+"px",t.style.opacity="1"):t.style.opacity="0",window.tn.rulersOptionDimensions[i].distanceValue=r,rulersOption__updateDimensionsData()}function rulersOption__getContainer(e){var t=document.querySelector(".tn-canvas-min"),i=document.querySelector(".tn-canvas-max");return Array.from(e).find(e=>"window"!==elem__getFieldValue($(e),"container"))?t:i}function rulersOption__getCoords(e){var t=window.tn["zoom"];let i=0,n=0,o=0,s=0;return s=e.classList.contains("tn-outline")?(i=e.offsetTop/t,n=e.offsetLeft/t,o=i+e.offsetHeight/t,n+e.offsetWidth/t):(i=e.offsetTop,n=e.offsetLeft,o=i+e.offsetHeight,n+e.offsetWidth),{top:i,left:n,bottom:o,right:s}}function rulersOption__getOutlinePosition(e,t){var i=[];return e.left>t.right&&i.push("left"),e.right<t.left&&i.push("right"),e.top>t.bottom&&i.push("top"),e.bottom<t.top&&i.push("bottom"),i}function rulersOption__show(){var e;document.querySelectorAll(".tn-elem").length&&(e=(window.tn.rulersOptionDimensions||{rulers:[]})["rulers"],e.forEach(e=>e.style.opacity="1"))}function rulersOption__hide(){var e=(window.tn.rulersOptionDimensions||{rulers:[]})["rulers"];e.forEach(e=>e.style.opacity="0")}function rulersOption__setNumbers(){var e=(window.tn.rulersOptionDimensions||{rulers:[]})["rulers"];e.forEach(e=>{var t=e.querySelector(".tn-ruler__number"),e=e.getAttribute("data-direction"),e=window.tn.rulersOptionDimensions[e]["distanceValue"];e?(t.style.opacity="1",t.innerText=e):(t.style.opacity="0",t.innerText="")})}$(document).ready(function(){$(window).keydown(function(e){if(tn_console("!!key:"+e.keyCode),window.tn.flags.isSettingsFocused)return tn_console("tn_flag_settings_ui_focus==true"),"";if(window.tn.flags.isWidgetFocused)return tn_console("tu_flag_widget_ui_focus==true"),"";if(window.tn.flags.isBgpositionEditorActive)return tn_console("tn_flag_bgposition_editor_active==true"),"";var t=$(".tn-elem__selected");if(!e.shiftKey&&!e.metaKey&&38==e.keyCode)return tn_console("up"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_move"):tn_undo__Add("elem_move",t),elem__selected__offsetMove(0,-1),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition(),tn_set_lastChanges(),e.preventDefault(),!1);if(e.shiftKey&&38==e.keyCode)return tn_console("shift + up"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_move"):tn_undo__Add("elem_move",t),elem__selected__offsetMove(0,-10),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition(),tn_set_lastChanges(),e.preventDefault(),!1);if((e.metaKey||e.altKey)&&38==e.keyCode)return tn_console("meta + up"),void 0===t||0===t.length?(e.preventDefault(),""):("text"==t.attr("data-elem-type")&&(1<t.length?tn_undo__Add("elems_selected_save"):tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),elem__selected__lineheightChange(-.1),tn_set_lastChanges(),tn_setOutlinePosition("selected"),tn_hideOutline("hover"),window.isAltDown&&rulersOption__setPosition(),e.preventDefault()),!1);if(!e.shiftKey&&!e.metaKey&&40==e.keyCode)return tn_console("downn"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_move"):tn_undo__Add("elem_move",t),elem__selected__offsetMove(0,1),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition(),tn_set_lastChanges(),e.preventDefault(),!1);if(e.shiftKey&&40==e.keyCode)return tn_console("shift + down"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_move"):tn_undo__Add("elem_move",t),elem__selected__offsetMove(0,10),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition(),tn_set_lastChanges(),e.preventDefault(),!1);if((e.metaKey||e.altKey)&&40==e.keyCode)return tn_console("meta + down"),void 0===t||0===t.length?(e.preventDefault(),""):("text"==t.attr("data-elem-type")&&(1<t.length?tn_undo__Add("elems_selected_save"):tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),elem__selected__lineheightChange(.1),tn_set_lastChanges(),tn_setOutlinePosition("selected"),tn_hideOutline("hover"),window.isAltDown&&rulersOption__setPosition(),e.preventDefault()),!1);if(!e.shiftKey&&!e.metaKey&&37==e.keyCode)return tn_console("left"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_move"):tn_undo__Add("elem_move",t),elem__selected__offsetMove(-1,0),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition(),tn_set_lastChanges(),e.preventDefault(),!1);if(e.shiftKey&&37==e.keyCode)return tn_console("shift+left"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_move"):tn_undo__Add("elem_move",t),elem__selected__offsetMove(-10,0),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition(),tn_set_lastChanges(),e.preventDefault(),!1);if((e.metaKey||e.altKey)&&37==e.keyCode)return tn_console("meta + left"),void 0===t||0===t.length?(e.preventDefault(),""):("text"==t.attr("data-elem-type")&&(1<t.length?tn_undo__Add("elems_selected_save"):tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),elem__selected__letterspacingChange(-.5),tn_set_lastChanges(),tn_setOutlinePosition("selected"),tn_hideOutline("hover"),window.isAltDown&&rulersOption__setPosition(),e.preventDefault()),!1);if(!e.shiftKey&&!e.metaKey&&39==e.keyCode)return tn_console("right"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_move"):tn_undo__Add("elem_move",t),elem__selected__offsetMove(1,0),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition(),tn_set_lastChanges(),e.preventDefault(),!1);if(e.shiftKey&&39==e.keyCode)return tn_console("shift+right"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_move"):tn_undo__Add("elem_move",t),elem__selected__offsetMove(10,0),window.tn.flags.isKeyboardAltDown&&rulersOption__setPosition(),tn_set_lastChanges(),e.preventDefault(),!1);if((e.metaKey||e.altKey)&&39==e.keyCode)return tn_console("meta + right"),void 0===t||0===t.length?(e.preventDefault(),""):("text"==t.attr("data-elem-type")&&(1<t.length?tn_undo__Add("elems_selected_save"):tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),elem__selected__letterspacingChange(.5),tn_set_lastChanges(),tn_setOutlinePosition("selected"),tn_hideOutline("hover"),window.isAltDown&&rulersOption__setPosition(),e.preventDefault()),!1);if(!(e.metaKey||e.ctrlKey||8!=e.keyCode&&46!=e.keyCode))return tn_console("del"),void 0===t||0===t.length?"":(1<t.length?tn_undo__Add("elems_selected_delete"):tn_undo__Add("elem_delete",t),elem__Delete(t),tn_set_lastChanges(),floor__mousedown(),!1);if((e.metaKey||e.ctrlKey)&&e.shiftKey&&90==e.keyCode)return tn_console("meta+shift+Z"),e.preventDefault(),tn_undo("redo"),$(".tn-elem__selected, .tn-group__selected").length&&(tn_setOutlinePosition("selected"),tn_destroyTidyControls(),tn_createSpacingControls()),tn_figma__checkAmazonImages(),!1;if((e.metaKey||e.ctrlKey)&&90==e.keyCode)return tn_console("meta+Z"),e.preventDefault(),tn_undo(),$(".tn-elem__selected, .tn-group__selected").length&&(tn_setOutlinePosition("selected"),tn_destroyTidyControls(),tn_createSpacingControls()),tn_figma__checkAmazonImages(),!1;if(!e.metaKey&&!e.ctrlKey&&9==e.keyCode)return tn_console("Tab"),tn_tab(),e.preventDefault(),!1;if((e.metaKey||e.ctrlKey)&&83==e.keyCode)return tn_console("meta+s"),artboard__Save__toDB(""),e.preventDefault(),!1;if((e.metaKey||e.ctrlKey)&&87==e.keyCode)return tn_console("meta+w"),$(".tn-close-btn").trigger("click"),e.preventDefault(),!1;var i=window.tn.screens_cnt;9<i&&(i=9);for(var n,o,s=0;s<i;s++)if((e.metaKey||e.ctrlKey)&&e.keyCode==49+s)return tn_console("meta + "+(s+1)),goResolutionMode(window.tn.screens[s]),e.preventDefault(),!1;return(e.metaKey||e.ctrlKey)&&"0"==e.key?(tn_console("meta + 0"),e.preventDefault(),tn_zoomReset(),!1):(e.metaKey||e.ctrlKey)&&"-"==e.key?(tn_console("meta + -"),e.preventDefault(),tn_zoomOut(),!1):(e.metaKey||e.ctrlKey)&&"="==e.key?(tn_console("meta + ="),e.preventDefault(),tn_zoomIn(),!1):e.metaKey||e.ctrlKey||187!=e.keyCode?e.metaKey||e.ctrlKey||189!=e.keyCode?!e.metaKey&&!e.ctrlKey&&48<=e.keyCode&&e.keyCode<=57?(tn_console("key: 0-9"),n=1,n=48==e.keyCode?1:(e.keyCode-48)/10,void 0===t||0===t.length?"":(1<t.length?tn_undo__Add("elems_selected_save",t):tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),elem__setFieldValue(t,"opacity",n,"render","updateui",""),tn_set_lastChanges(),!1)):(e.metaKey||e.ctrlKey)&&186==e.keyCode||!e.metaKey&&!e.ctrlKey&&71==e.keyCode?(tn_console("meta + ; or G"),grid__toggle(),ab__control__toggle__update("grid_show"),e.preventDefault(),!1):e.metaKey||e.ctrlKey||70!=e.keyCode?27==e.keyCode?(tn_console("escape"),(n=$(".tn-shortcuts")).length&&n.remove(),(n=$(".tn-dialog")).length&&n.remove(),allelems__unselect(),addmenu__close(),moremenu__close(),window.tn.flags.isSbsPanelOpen&&panelSBS__close(),!1):(e.metaKey||e.ctrlKey)&&67==e.keyCode?(tn_console("meta+c"),elem__selected__buf__Copy(),e.preventDefault(),!1):(e.metaKey||e.ctrlKey)&&86==e.keyCode?(tn_console("meta+v"),elem__selected__buf__Paste(),tn_set_lastChanges(),e.preventDefault(),!1):e.metaKey||e.ctrlKey||80!=e.keyCode?(e.metaKey||e.ctrlKey)&&65==e.keyCode?(tn_console("meta + a"),allelems__selectall(),e.preventDefault(),!1):e.metaKey||e.ctrlKey||76!=e.keyCode?(e.metaKey||e.ctrlKey)&&76==e.keyCode?(tn_console("meta+L"),panelLayers__showhide(),ab__control__toggle__update("layers_show"),e.preventDefault(),!1):!e.metaKey&&!e.ctrlKey||e.shiftKey||72!=e.keyCode?(e.metaKey||e.ctrlKey)&&e.shiftKey&&72==e.keyCode?(tn_console("meta+shift+h"),guide__add("","v"),ab__control__toggle__update("guides_show"),e.preventDefault(),!1):(e.metaKey||e.ctrlKey)&&79==e.keyCode?(tn_console("meta+o"),tn_openrecords__showpopup(),e.preventDefault(),!1):!e.metaKey&&!e.ctrlKey||e.shiftKey||71!=e.keyCode?(e.metaKey||e.ctrlKey)&&e.shiftKey&&71==e.keyCode?(tn_console("meta+shift+g"),group__unmake(),panelSettings__openTimeout(),e.preventDefault(),!1):window.tn.flags.isPublishShow&&(e.metaKey||e.ctrlKey)&&80===e.keyCode?(tn_console("meta+p"),tn__publishPage(),e.preventDefault(),!1):(18===e.keyCode&&(e.preventDefault(),n=t.length,o=$(".ui-draggable-dragging").length,window.tn.flags.isKeyboardAltDown=!0,n)&&!o&&(rulersOption__setPosition(),rulersOption__show()),82!==e.keyCode||!window.tn.flags.isKeyboardShiftDown||e.metaKey||e.ctrlKey||(e.preventDefault(),rulers__toggleView()),16===e.keyCode&&(window.tn.flags.isKeyboardShiftDown=!0),17===e.keyCode&&(window.tn.flags.isKeyboardCtrlDown=!0),void(32===e.keyCode&&(tn_console("space"),e.preventDefault(),tn_showMoveShape(),window.tn.flags.isPanMode=!0))):(tn_console("meta+g"),group__create(),e.preventDefault(),!1):(tn_console("meta+h"),guide__add("","h"),ab__control__toggle__update("guides_show"),e.preventDefault(),!1):(tn_console("L"),void 0===t||0===t.length?(e.preventDefault(),""):(tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),tn_elem__lock(),tn_set_lastChanges(),e.preventDefault(),!1)):(tn_console("p"),tn_anim__playAll(),e.preventDefault(),!1):(tn_console("f"),tn_toggleUI(),ab__control__toggle__update("ui_show"),e.preventDefault(),!1):(tn_console("-"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_save",t):tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),tn_hideOutline("hover"),elem__selected__makeBigger(-1),tn_set_lastChanges(),e.preventDefault(),!1)):(tn_console("+"),void 0===t||0===t.length?(e.preventDefault(),""):(1<t.length?tn_undo__Add("elems_selected_save",t):tn_undo__Add("elem_save",window.tn.flags.isMultiEdit?window.tn.multi_edit_elems:t),tn_hideOutline("hover"),elem__selected__makeBigger(1),tn_set_lastChanges(),e.preventDefault(),!1))}),$(document).on("keyup",function(e){18===e.keyCode&&(window.tn.flags.isKeyboardAltDown=!1,rulersOption__hide()),16===e.keyCode&&(window.tn.flags.isKeyboardShiftDown=!1),17===e.keyCode&&(window.tn.flags.isKeyboardCtrlDown=!1),32===e.keyCode&&(tn_hideMoveShape(),window.tn.flags.isPanMode=!1)})}),String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)},$.fn.setCursorPosition=function(i){return this.each(function(e,t){t.setSelectionRange?t.setSelectionRange(i,i):t.createTextRange&&((t=t.createTextRange()).collapse(!0),t.moveEnd("character",i),t.moveStart("character",i),t.select())}),this},function(z){var e=z.ui.draggable.prototype.plugins.drag;z.ui.draggable.prototype.plugins.drag=e.filter(([e])=>!e.includes("snap")),z.ui.plugin.add("draggable","snap",{start(e,t,i){var n=i.options;const o=window.scrollX,s=window.scrollY;n=Array.from(document.querySelectorAll(n.snap)).map(e=>{var t;if(e!==i.element[0])return t=e.getBoundingClientRect(),{item:e,width:t.width/window.tn.zoom,height:t.height/window.tn.zoom,top:t.top+s,left:t.left+o}}).filter(e=>e);i.snapElements=n},drag(m,f,h){const{snapElements:e,options:t,margins:b,helperProportions:v}=h,{snapMode:w,snap:y,snapTolerance:x}=t,S=f.offset.left,k=S+v.width*window.tn.zoom,F=f.offset.top,C=F+v.height*window.tn.zoom,$=(e,t)=>h._convertPositionTo("relative",{top:e,left:t}),E=(e,t)=>Math.abs(e-t)<=x;e.forEach((e,t)=>{var i,n,o,s,l,a,d,r,_,c=e.left-b.left*window.tn.zoom,u=c+e.width*window.tn.zoom,p=e.top-b.top*window.tn.zoom,g=p+e.height*window.tn.zoom;k<c-x||S>u+x||C<p-x||F>g+x||!z.contains(e.item.ownerDocument,e.item)?(e.snapping&&y.release&&y.release.call(h.element,m,z.extend(h._uiHash(),{snapItem:e.item})),e.snapping=!1):(i=E(p,C),n=E(g,F),o=E(c,k),s=E(u,S),"inner"!==w&&(i&&(f.position.top=$(p-v.height*window.tn.zoom,0).top),n&&(f.position.top=$(g,0).top),o&&(f.position.left=$(0,c-v.width*window.tn.zoom).left),s)&&(f.position.left=$(0,u).left),l=i||n||o||s,"outer"!==w&&(a=E(p,F),d=E(g,C),r=E(c,S),_=E(u,k),a&&(f.position.top=$(p,0).top),d&&(f.position.top=$(g-v.height*window.tn.zoom,0).top),r&&(f.position.left=$(0,c).left),_)&&(f.position.left=$(0,u-v.width*window.tn.zoom).left),!e.snapping&&(i||n||o||s||l)&&y.snap&&y.snap.call(h.element,m,z.extend(h._uiHash(),{snapItem:e.item})),e.snapping=i||n||o||s||l)})}})}(jQuery),function(l){var a=navigator.platform.toLowerCase().includes("mac");l.extend(l.ui.resizable.prototype.options,{centerLock:!0}),l.ui.plugin.add("resizable","centerLock",{start:function(e){var t=l(this).data("ui-resizable"),e=e.originalEvent;t.lockedCenter=a?e.metaKey:e.ctrlKey,t.cachedlockedCenter=a?e.metaKey:e.ctrlKey,e.target.closest(".ui-resizable-e")&&(t.currentDirection="right"),e.target.closest(".ui-resizable-w")&&(t.currentDirection="left"),e.target.closest(".ui-resizable-n")&&(t.currentDirection="top"),e.target.closest(".ui-resizable-s")&&(t.currentDirection="bottom")},resize:function(e,t){var i=l(this).data("ui-resizable"),e=e.originalEvent,n=t.size.width-t.originalSize.width,o=t.size.height-t.originalSize.height,s=l(".tn-elem__selected").get(),s="video"===s.reduce((e,t)=>{return e=e!==t.getAttribute("data-elem-type")?"mixed":e},s[0].getAttribute("data-elem-type"));i.lockedCenter=a?e.metaKey:e.ctrlKey,i.cachedlockedCenter&&i.lockedCenter?(t.size.width+=n,t.size.height+=o,s&&(t.size.width<=156||t.size.height<=156)?(t.size.width<=156&&(t.size.width=156),t.size.height<=156&&(t.size.height=156)):"right"!==i.currentDirection&&"bottom"!==i.currentDirection||(t.position.left=t.originalPosition.left-n,t.position.top=t.originalPosition.top-o)):i.cachedlockedCenter&&!i.lockedCenter&&(t.position.left=t.originalPosition.left,t.position.top=t.originalPosition.top)}})}(jQuery),function(e){e.extend(e.ui.resizable.prototype.options,{cursorFix:!0}),e.ui.plugin.add("resizable","cursorFix",{start:function(e,t){e=e.originalEvent.target,e=window.getComputedStyle(e).cursor;document.body.style.setProperty("--cursorStyle",e)},stop:function(e,t){document.body.style.removeProperty("--cursorStyle")}})}(jQuery),function(x){function S(e,t,i){return Math.abs(e)<i?-e:Math.abs(t)<i?-t:0}function k(e){return e.sort(function(e,t){return e?t?Math.abs(e)-Math.abs(t):-1:1})[0]}function s(e){return parseInt(e.css("margin-left"),10)||0}function l(e){return parseInt(e.css("margin-top"),10)||0}function e(e,t,i){var n=x.ui.resizable.prototype[e];x.ui.resizable.prototype[e]=function(){i&&i.apply(this,arguments),n.apply(this,arguments),t&&t.apply(this,arguments)}}x.extend(x.ui.resizable.prototype.options,{snapTolerance:6,snapMode:"both"}),x.ui.plugin.add("resizable","snap",{start:function(){var e=x(this),o=e.data("ui-resizable"),t=o.options.snap;o.outerWidth=o.helper.outerWidth()/window.tn.zoom-o.size.width/window.tn.zoom,o.outerHeight=o.helper.outerHeight()/window.tn.zoom-o.size.height/window.tn.zoom,o.leftMargin=s(e),o.topMargin=l(e),o.coords=[],o.startWidth=Math.round(o.originalSize.width/window.tn.zoom),o.startHeight=Math.round(o.originalSize.height/window.tn.zoom),x("string"==typeof t?t:":data(ui-resizable)").each(function(){var e,t,i,n;this===o.element[0]||this===o.helper[0]||x(this).hasClass("tn-elem__selected")||x(this).hasClass("tn-group__selected")||(t=(i=(e=x(this)).position()).left+s(e),i=i.top+l(e),(n=this.dataset.fieldGroupidValue)&&(t+=(n=x("#"+n).position()).left,i+=n.top),o.coords.push({left:t,top:i,right:t+e.outerWidth()*window.tn.zoom,bottom:i+e.outerHeight()*window.tn.zoom}))})},resize:function(){var e,i,t,n,s=[],l=[],a=[],d=[],o=x(this).data("ui-resizable"),r=o.axis.split(""),_=o.options.snapTolerance*window.tn.zoom,c=o.options.snapMode,u=o.position.left+o.leftMargin,p=u-_,g=o.position.top+o.topMargin,m=g-_,f=u+o.size.width+o.outerWidth,h=f+_,b=g+o.size.height+o.outerHeight,v=b+_;x.each(o.coords,function(){var i=this,n=Math.min(h,i.right)-Math.max(p,i.left),o=Math.min(v,i.bottom)-Math.max(m,i.top);n<0||o<0||x.each(r,function(e,t){if("outer"==c)switch(t){case"w":case"e":if(2*_<n)return;break;case"n":case"s":if(2*_<o)return}else if("inner"==c)switch(t){case"w":case"e":if(n<2*_)return;break;case"n":case"s":if(o<2*_)return}switch(t){case"w":s.push(S(u-i.left,u-i.right,_));break;case"n":l.push(S(g-i.top,g-i.bottom,_));break;case"e":a.push(S(f-i.left,f-i.right,_));break;case"s":d.push(S(b-i.top,b-i.bottom,_))}})}),o.options.alsoResize&&(e="string"==typeof o.options.alsoResize?x(o.options.alsoResize):o.options.alsoResize);var w=(w=[]).concat(a,d,s,l),y=Math.min.apply(Math,w),w=Math.max.apply(Math,w);o.isSnapped=0!==y||0!==w,d.length&&(t=k(a),i=k(d),o.size.height+=i,o.lockedCenter&&(o.position.top-=i,o.size.height+=i),!o.options.aspectRatio&&!window.tn.flags.isKeyboardShiftDown||t||(o.size.width+=i,o.lockedCenter&&(o.size.width+=i,o.position.left-=i)),e)&&e.each(function(e,t){x(t).css("height",x(t).height()+i)}),a.length&&(n=k(d),i=k(a),o.size.width+=i,o.lockedCenter&&(o.position.left-=i,o.size.width+=i),!o.options.aspectRatio&&!window.tn.flags.isKeyboardShiftDown||window.tn.flags.isSelectedTextElementsOnly||n||(o.size.height+=i,o.lockedCenter&&(o.size.height+=i,o.position.top-=i)),e)&&e.each(function(e,t){x(t).css("width",x(t).width()+i)}),s.length&&(n=k(d),i=k(s),o.position.left+=i,o.size.width-=i,o.lockedCenter&&(o.size.width-=i),!o.options.aspectRatio&&!window.tn.flags.isKeyboardShiftDown||window.tn.flags.isSelectedTextElementsOnly||(d.length?(n=k(d),o.position.left-=n,n?(o.size.width+=i,o.position.left-=i,o.lockedCenter&&(o.position.left-=i,o.size.width+=i)):(o.size.height-=i,o.lockedCenter&&(o.size.height-=i,o.position.top+=i))):k(l)||(o.position.top+=i,o.size.height-=i,o.lockedCenter&&(o.size.height-=i))),e)&&e.each(function(e,t){x(t).css({left:x(t).position().left+i,width:x(t).width()-i})}),l.length&&(i=k(l),o.position.top+=i,o.size.height-=i,o.lockedCenter&&(o.size.height-=i),!o.options.aspectRatio&&!window.tn.flags.isKeyboardShiftDown||window.tn.flags.isSelectedTextElementsOnly||(a.length?(t=k(a),o.position.top-=t,t?(o.size.height+=i,o.position.top-=i,o.lockedCenter&&(o.position.top-=i,o.size.height+=i)):(o.size.width-=i,o.lockedCenter&&(o.size.width-=i,o.position.left+=i))):k(s)||(o.position.left+=i,o.size.width-=i,o.lockedCenter&&(o.size.width-=i))),e)&&e.each(function(e,t){x(t).css({top:x(t).position().top+i,height:x(t).height()-i})})}}),e("_mouseStop",null,function(){this._helper&&(this.position={left:parseInt(this.helper.css("left"),10)||.1,top:parseInt(this.helper.css("top"),10)||.1},this.size={width:this.helper.outerWidth(),height:this.helper.outerHeight()})}),e("_mouseStart",function(){this._helper&&(this.size={width:this.size.width-(this.helper.outerWidth()-this.helper.width()),height:this.size.height-(this.helper.outerHeight()-this.helper.height())},this.originalSize={width:this.size.width,height:this.size.height})}),e("_renderProxy",function(){this._helper&&this.helper.css({left:this.elementOffset.left,top:this.elementOffset.top,width:this.element.outerWidth(),height:this.element.outerHeight()})});var i=x.ui.resizable.prototype.plugins.resize;x.each(i,function(e,t){if("ghost"==t[0])return i.splice(e,1),!1}),x.each(x.ui.resizable.prototype.plugins.start,function(e,t){var i;if("ghost"==t[0])return i=t[1],!(t[1]=function(){i.apply(this,arguments),x(this).data("ui-resizable").ghost.css({width:"100%",height:"100%"})})})}(jQuery),function(e){e.extend(e.ui.draggable.prototype.options,{hideTidyControls:!0}),e.ui.plugin.add("draggable","hideTidyControls",{start:function(){(e(this).hasClass("tn-elem")||e(this).hasClass("tn-group"))&&tn_destroyTidyControls(),e(this).hasClass("tn-tidy-control")&&spacingControls__removeShowOnHoverEvent()},drag:function(){e(this).hasClass("tn-tidy-control")&&tn_hideOutline("hover")},stop:function(){setTimeout(function(){(e(this).hasClass("tn-elem")||e(this).hasClass("tn-group"))&&tn_createSpacingControls()},1),e(this).hasClass("tn-tidy-control")&&spacingControls__addShowOnHoverEvent()}})}(jQuery),function(e){e.extend(e.ui.resizable.prototype.options,{hideTidyControls:!0}),e.ui.plugin.add("resizable","hideTidyControls",{start:function(){e(this).hasClass("tn-outline")&&tn_destroyTidyControls()},stop:function(){setTimeout(function(){e(this).hasClass("tn-outline")&&tn_createSpacingControls()},1)}})}(jQuery),window.tn_shapeBorderRadius__OFFSET=16;
